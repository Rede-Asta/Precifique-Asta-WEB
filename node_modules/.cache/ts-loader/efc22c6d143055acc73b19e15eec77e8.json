{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/thread-loader/dist/cjs.js!/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js!/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js??ref--13-3!/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/views/Statistics/Statistics.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/views/Statistics/Statistics.vue","mtime":1673321154842},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1673370377290},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxpbmUvR2l0SHViL2FkbWluLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgU3RhdGlzdGljc0Nhcm91c2VscyBmcm9tICJAL2NvbXBvbmVudHMvc3RhdGlzdGljcy9TdGF0aXN0aWNzQ2Fyb3VzZWxzLnZ1ZSI7CmltcG9ydCBTdGF0aXN0aWNzRGF0YSBmcm9tICJAL2NvbXBvbmVudHMvc3RhdGlzdGljcy9TdGF0aXN0aWNzRGF0YS52dWUiOwppbXBvcnQgU3RhdGlzdGljc1RpbWVGaWx0ZXJzIGZyb20gIkAvY29tcG9uZW50cy9zdGF0aXN0aWNzL1N0YXRpc3RpY3NUaW1lRmlsdGVycy52dWUiOwppbXBvcnQgU3RhdGlzdGljc0RhaWx5IGZyb20gIkAvY29tcG9uZW50cy9zdGF0aXN0aWNzL1N0YXRpc3RpY3NEYWlseS52dWUiOwppbXBvcnQgeyBCU2tlbGV0b25JbWcsIEJTa2VsZXRvbiB9IGZyb20gImJvb3RzdHJhcC12dWUiOwppbXBvcnQgc3RhdGlzdGljc1NlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9zdGF0aXN0aWNzLnNlcnZpY2UiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICJzdGF0aXN0aWNzIiwKICBjb21wb25lbnRzOiB7CiAgICBTdGF0aXN0aWNzRGFpbHk6IFN0YXRpc3RpY3NEYWlseSwKICAgIFN0YXRpc3RpY3NUaW1lRmlsdGVyczogU3RhdGlzdGljc1RpbWVGaWx0ZXJzLAogICAgU3RhdGlzdGljc0RhdGE6IFN0YXRpc3RpY3NEYXRhLAogICAgU3RhdGlzdGljc0Nhcm91c2VsczogU3RhdGlzdGljc0Nhcm91c2VscywKICAgIEJTa2VsZXRvbkltZzogQlNrZWxldG9uSW1nLAogICAgQlNrZWxldG9uOiBCU2tlbGV0b24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiBudWxsLAogICAgICBzZWxlY3RlZEZpbHRlcjogJ2FsbCcsCiAgICAgIHN0YXRpc3RpY3NEYXRhOiB7fSwKICAgICAgc3RhdGlzdGljc1NlcnZpY2U6IG5ldyBzdGF0aXN0aWNzU2VydmljZSgpLAogICAgICBzdGF0aXN0aWNzRGF0YUxvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHNlbGVjdGVkRmlsdGVyOiBmdW5jdGlvbiBzZWxlY3RlZEZpbHRlcihuZXdWYWx1ZSkgewogICAgICB0aGlzLmdldFN0YXRpc3RpY3NEYXRhKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHN0b3JhZ2VVc2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2dlZFVzZXInKTsKICAgIHRoaXMudXNlciA9IHN0b3JhZ2VVc2VyID8gSlNPTi5wYXJzZShzdG9yYWdlVXNlcikgOiBudWxsOwogICAgdGhpcy5nZXRTdGF0aXN0aWNzRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0U3RhdGlzdGljc0RhdGE6IGZ1bmN0aW9uIGdldFN0YXRpc3RpY3NEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGVydGluaG8sIGZpbHRlciwgdG9kYXksIGdldEZvcm1hdHRlZERhdGUsIF95aWVsZCRfdGhpcyRzdGF0aXN0aSwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuc3RhdGlzdGljc0RhdGFMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgcGVydGluaG8gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwZXJ0aW5obycpIHx8ICcnKTsKCiAgICAgICAgICAgICAgICBpZiAocGVydGluaG8pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBudWxsOwogICAgICAgICAgICAgICAgdG9kYXkgPSBtb21lbnQobmV3IERhdGUoKSkubG9jYWxlKCdwdC1icicpOwoKICAgICAgICAgICAgICAgIGdldEZvcm1hdHRlZERhdGUgPSBmdW5jdGlvbiBnZXRGb3JtYXR0ZWREYXRlKGRhdGUpIHsKICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCAiLmNvbmNhdChlbmQgPyAnMjM6NTknIDogJzAwOjAwJykpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF90aGlzLnNlbGVjdGVkRmlsdGVyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IF9jb250ZXh0LnQwID09PSAiYWxsIiA/IDExIDogX2NvbnRleHQudDAgPT09ICIzMGQiID8gMTMgOiBfY29udGV4dC50MCA9PT0gIjdkIiA/IDE1IDogX2NvbnRleHQudDAgPT09ICJ0b2RheSIgPyAxNyA6IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBudWxsOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgiYnJlYWsiLCAyMCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBmaWx0ZXIgPSB7CiAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogZ2V0Rm9ybWF0dGVkRGF0ZShtb21lbnQodG9kYXkpLnN1YnRyYWN0KDMwLCAnZGF5cycpKSwKICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogZ2V0Rm9ybWF0dGVkRGF0ZSh0b2RheSwgdHJ1ZSkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDIwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGZpbHRlciA9IHsKICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBnZXRGb3JtYXR0ZWREYXRlKG1vbWVudCh0b2RheSkuc3VidHJhY3QoNywgJ2RheXMnKSksCiAgICAgICAgICAgICAgICAgIGVuZERhdGU6IGdldEZvcm1hdHRlZERhdGUodG9kYXksIHRydWUpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgiYnJlYWsiLCAyMCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBmaWx0ZXIgPSB7CiAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogZ2V0Rm9ybWF0dGVkRGF0ZSh0b2RheSksCiAgICAgICAgICAgICAgICAgIGVuZERhdGU6IGdldEZvcm1hdHRlZERhdGUodG9kYXksIHRydWUpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgiYnJlYWsiLCAyMCk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDIwKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zdGF0aXN0aWNzU2VydmljZS5nZXRTdGF0aXN0aWNzRGF0YShwZXJ0aW5oby5ndWlkLCBmaWx0ZXIpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzJHN0YXRpc3RpID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMkc3RhdGlzdGkuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLnN0YXRpc3RpY3NEYXRhID0gZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIF90aGlzLnN0YXRpc3RpY3NEYXRhTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAyN11dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/views/Statistics/Statistics.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport StatisticsCarousels from \"@/components/statistics/StatisticsCarousels.vue\";\nimport StatisticsData from \"@/components/statistics/StatisticsData.vue\";\nimport StatisticsTimeFilters from \"@/components/statistics/StatisticsTimeFilters.vue\";\nimport StatisticsDaily from \"@/components/statistics/StatisticsDaily.vue\"\nimport {IStatisticsData} from \"@/models/statistics\";\n\nimport {BSkeletonImg, BSkeleton} from \"bootstrap-vue\";\n\nimport statisticsService from \"@/services/statistics.service\";\nimport moment from \"moment\";\n\ninterface IStatisticsViewData {\n  user: any;\n  selectedFilter: string;\n  statisticsData: IStatisticsData;\n\n  statisticsService: statisticsService,\n  statisticsDataLoading: boolean,\n}\n\nexport default Vue.extend({\n  name: \"statistics\",\n  components: {\n    StatisticsDaily,\n    StatisticsTimeFilters,\n    StatisticsData,\n    StatisticsCarousels,\n    BSkeletonImg,\n    BSkeleton\n  },\n\n  data(): IStatisticsViewData {\n    return {\n      user: null,\n      selectedFilter: 'all',\n      statisticsData: {} as IStatisticsData,\n\n      statisticsService: new statisticsService(),\n      statisticsDataLoading: false,\n    }\n  },\n\n  watch: {\n    selectedFilter(newValue) {\n      this.getStatisticsData();\n    },\n  },\n\n  mounted() {\n    const storageUser = localStorage.getItem('loggedUser');\n    this.user = storageUser ? JSON.parse(storageUser) : null;\n\n    this.getStatisticsData();\n  },\n\n  methods: {\n    async getStatisticsData() {\n      this.statisticsDataLoading = true;\n      try {\n        const pertinho = JSON.parse(localStorage.getItem('pertinho') || '');\n        if (!pertinho) return;\n\n        let filter: {\n          startDate: string;\n          endDate: string;\n        } | null = null;\n\n        const today = moment(new Date()).locale('pt-br');\n        const getFormattedDate = (date: moment.Moment, end = false) => date.format(`YYYY-MM-DD ${end ? '23:59' : '00:00'}`);\n\n        switch (this.selectedFilter) {\n          case \"all\":\n            filter = null;\n            break;\n          case \"30d\":\n            filter = {\n              startDate: getFormattedDate(moment(today).subtract(30, 'days')),\n              endDate: getFormattedDate(today, true),\n            };\n            break;\n          case \"7d\":\n            filter = {\n              startDate: getFormattedDate(moment(today).subtract(7, 'days')),\n              endDate: getFormattedDate(today, true),\n            }\n            break;\n          case \"today\":\n            filter = {\n              startDate: getFormattedDate(today),\n              endDate: getFormattedDate(today, true)\n            }\n            break;\n          default:\n            break;\n        }\n\n        const {data} = await this.statisticsService.getStatisticsData(pertinho.guid, filter);\n        this.statisticsData = data;\n      } catch (e) {\n\n      }\n      this.statisticsDataLoading = false;\n    }\n  }\n});\n"],"sourceRoot":""}]}