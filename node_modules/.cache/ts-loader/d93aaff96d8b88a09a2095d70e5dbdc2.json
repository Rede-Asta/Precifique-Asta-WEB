{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js!/home/aline/AstaPrecifique/node_modules/ts-loader/index.js??ref--13-2!/home/aline/AstaPrecifique/src/services/products.service.ts","dependencies":[{"path":"/home/aline/AstaPrecifique/src/services/products.service.ts","mtime":1673321154842},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2FsaW5lL0FzdGFQcmVjaWZpcXVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgVXNlclN0b3JhZ2UgZnJvbSAnQC9zZXJ2aWNlcy9Vc2VyU3RvcmFnZSc7CmltcG9ydCBlbnZpcm9ubWVudCBmcm9tICdAL2Vudmlyb25tZW50cy9lbnZpcm9ubWVudCc7Cgp2YXIgcHJvZHVjdHNTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBwcm9kdWN0c1NlcnZpY2UoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgcHJvZHVjdHNTZXJ2aWNlKTsKCiAgICB0aGlzLmhlYWRlcnNUb2tlbiA9IHsKICAgICAgJ0F1dGhvcml6YXRpb24nOiBlbnZpcm9ubWVudC5zZXRBdXRob3JpemF0aW9uVG9rZW4oKSwKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnOiAnQ29udGVudC1UeXBlJywKICAgICAgJ3gtdG9rZW4nOiBVc2VyU3RvcmFnZS5yZXR1cm5Ub2tlbigpCiAgICB9OwogICAgdGhpcy5oZWFkZXJzID0gewogICAgICAnQXV0aG9yaXphdGlvbic6IGVudmlyb25tZW50LnNldEF1dGhvcml6YXRpb25Ub2tlbigpLAogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6ICdDb250ZW50LVR5cGUnCiAgICB9OwogIH0KCiAgX2NyZWF0ZUNsYXNzKHByb2R1Y3RzU2VydmljZSwgW3sKICAgIGtleTogImdldFByb2R1Y3RzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQcm9kdWN0cyhjYXRlZ29yeUd1aWQpIHsKICAgICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycwogICAgICB9OwogICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSXYyKCksICIvY2F0YWxvZy9wcm9kdWN0LyIpLmNvbmNhdChjYXRlZ29yeUd1aWQpLCByZXF1ZXN0T3B0aW9ucyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UHJvZHVjdERldGFpbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvZHVjdERldGFpbChwcm9kdWN0R3VpZCkgewogICAgICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEl2MigpLCAiL2NhdGFsb2cvcHJvZHVjdC9kZXRhaWwvIikuY29uY2F0KHByb2R1Y3RHdWlkKSwgewogICAgICAgIGhlYWRlcnM6IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuaGVhZGVyc1Rva2VuKQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQcm9kdWN0c1Byb21vdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvZHVjdHNQcm9tb3Rpb24oKSB7CiAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMKICAgICAgfTsKICAgICAgcmV0dXJuIGZldGNoKCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEkoKSwgIi9jYXRhbG9nL3Byb2R1Y3QvcHJvbW90aW9uIiksIHJlcXVlc3RPcHRpb25zKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQcm9kdWN0RGV0YWlsUHJvbW90aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQcm9kdWN0RGV0YWlsUHJvbW90aW9uKHByb21vdGlvbkd1aWQsIHNlbGxlcklkKSB7CiAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMKICAgICAgfTsKICAgICAgcmV0dXJuIGZldGNoKCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEkoKSwgIi9jYXRhbG9nL3Byb2R1Y3QvcHJvbW90aW9uLyIpLmNvbmNhdChwcm9tb3Rpb25HdWlkLCAiL3NlbGxlci8iKS5jb25jYXQoc2VsbGVySWQpLCByZXF1ZXN0T3B0aW9ucyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UHJvZGN1dHNBbGwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFByb2RjdXRzQWxsKCkgewogICAgICB2YXIgZ3VpZCA9IFVzZXJTdG9yYWdlLnJldHVybkd1aWQoKTsKICAgICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycwogICAgICB9OwogICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSSgpLCAiL3NlbGxlci8iKS5jb25jYXQoZ3VpZCwgIi8iKSwgcmVxdWVzdE9wdGlvbnMpOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZVByb2R1Y3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb2R1Y3QocHJvZHVjdCwgY2F0ZWdvcnlHdWlkKSB7CiAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNUb2tlbiwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwcm9kdWN0KQogICAgICB9OwogICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSXYyKCksICIvY2F0YWxvZy9wcm9kdWN0LyIpLmNvbmNhdChjYXRlZ29yeUd1aWQpLCByZXF1ZXN0T3B0aW9ucyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlUHJvZHVjdE5ldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUHJvZHVjdE5ldyhwcm9kdWN0LCBjYXRlZ29yeUd1aWQpIHsKICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSXYyKCksICIvY2F0YWxvZy9wcm9kdWN0LyIpLmNvbmNhdChjYXRlZ29yeUd1aWQpLCBwcm9kdWN0LCB7CiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzVG9rZW4KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZWRpdFByb2R1Y3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXRQcm9kdWN0KHByb2R1Y3QsIHByb2R1Y3RHdWlkKSB7CiAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICBtZXRob2Q6ICdQQVRDSCcsCiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzVG9rZW4sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZHVjdCkKICAgICAgfTsKICAgICAgcmV0dXJuIGZldGNoKCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEl2MigpLCAiL2NhdGFsb2cvcHJvZHVjdC9kZXRhaWwvIikuY29uY2F0KHByb2R1Y3RHdWlkKSwgcmVxdWVzdE9wdGlvbnMpOwogICAgfQogIH0sIHsKICAgIGtleTogImVkaXRQcm9kdWN0TmV3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlZGl0UHJvZHVjdE5ldyhwcm9kdWN0LCBwcm9kdWN0R3VpZCkgewogICAgICByZXR1cm4gYXhpb3MucGF0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSXYyKCksICIvY2F0YWxvZy9wcm9kdWN0L2RldGFpbC8iKS5jb25jYXQocHJvZHVjdEd1aWQpLCBwcm9kdWN0LCB7CiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzVG9rZW4KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVsZXRlUHJvZHVjdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUHJvZHVjdChwcm9kdWN0R3VpZCkgewogICAgICB2YXIgcmVxdWVzdE9wdGlvbnMgPSB7CiAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNUb2tlbgogICAgICB9OwogICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSXYyKCksICIvY2F0YWxvZy9wcm9kdWN0L2RldGFpbC8iKS5jb25jYXQocHJvZHVjdEd1aWQpLCByZXF1ZXN0T3B0aW9ucyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UzNTaWduYXR1cmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRTM1NpZ25hdHVyZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwcm9kdWN0R3VpZCwgcXVhbnRpdHkpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBheGlvcy5wb3N0KCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEkoKSwgIi9jYXRhbG9nL3Byb2R1Y3Qvc2lnbmF0dXJlLyIpLmNvbmNhdChwcm9kdWN0R3VpZCksIHt9LCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIGNvdW50OiBxdWFudGl0eQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNUb2tlbgogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0UzNTaWduYXR1cmUoX3gsIF94MikgewogICAgICAgIHJldHVybiBfZ2V0UzNTaWduYXR1cmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFMzU2lnbmF0dXJlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidXBkYXRlUHJvZHVjdEltYWdlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwZGF0ZVByb2R1Y3RJbWFnZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHByb2R1Y3RHdWlkLCBpbWFnZXMpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGF4aW9zLnB1dCgiIi5jb25jYXQoZW52aXJvbm1lbnQuc2V0QVBJKCksICIvY2F0YWxvZy9wcm9kdWN0L3NpZ25hdHVyZS8iKS5jb25jYXQocHJvZHVjdEd1aWQpLCB7CiAgICAgICAgICAgICAgICAgIGltYWdlczogaW1hZ2VzCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1Rva2VuCiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByb2R1Y3RJbWFnZXMoX3gzLCBfeDQpIHsKICAgICAgICByZXR1cm4gX3VwZGF0ZVByb2R1Y3RJbWFnZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwZGF0ZVByb2R1Y3RJbWFnZXM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ1cGxvYWRUb1MzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdXBsb2FkVG9TID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhfcmVmKSB7CiAgICAgICAgdmFyIHVybCwgZmllbGRzLCBpbWFnZSwgb25VcGxvYWRQcm9ncmVzc0NhbGxiYWNrLCBwb3NpdGlvbiwgZm9ybURhdGEsIGNvbmZpZywgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVybCA9IF9yZWYudXJsLCBmaWVsZHMgPSBfcmVmLmZpZWxkcywgaW1hZ2UgPSBfcmVmLmltYWdlLCBvblVwbG9hZFByb2dyZXNzQ2FsbGJhY2sgPSBfcmVmLm9uVXBsb2FkUHJvZ3Jlc3NDYWxsYmFjaywgcG9zaXRpb24gPSBfcmVmLnBvc2l0aW9uOwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGNvbmZpZyA9IHt9OwogICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoZmllbGRzKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfc2xpY2VkVG9BcnJheShfcmVmMiwgMiksCiAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBfcmVmM1swXSwKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjNbMV07CgogICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlCiAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIHZhbHVlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgaW1hZ2UpOwoKICAgICAgICAgICAgICAgIGlmIChvblVwbG9hZFByb2dyZXNzQ2FsbGJhY2spIHsKICAgICAgICAgICAgICAgICAgY29uZmlnWyJvblVwbG9hZFByb2dyZXNzIl0gPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICBvblVwbG9hZFByb2dyZXNzQ2FsbGJhY2soZXZlbnQsIHBvc2l0aW9uKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCh1cmwsIGZvcm1EYXRhLCBjb25maWcpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwbG9hZFRvUzMoX3g1KSB7CiAgICAgICAgcmV0dXJuIF91cGxvYWRUb1MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwbG9hZFRvUzM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ1cGxvYWRJbWFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwbG9hZEltYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChfcmVmNCwgcHJvZHVjdEd1aWQpIHsKICAgICAgICB2YXIgZGF0YSwgcG9zaXRpb24sIG9uVXBsb2FkUHJvZ3Jlc3NDYWxsYmFjaywgcmVxdWVzdE9wdGlvbnMsIHJlc3BvbnNlLCBfeWllbGQkcmVzcG9uc2UkanNvbiwgX3lpZWxkJHJlc3BvbnNlJGpzb24kLCB1cmwsIGZpZWxkczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSBfcmVmNC5kYXRhLCBwb3NpdGlvbiA9IF9yZWY0LnBvc2l0aW9uLCBvblVwbG9hZFByb2dyZXNzQ2FsbGJhY2sgPSBfcmVmNC5vblVwbG9hZFByb2dyZXNzQ2FsbGJhY2s7CiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1Rva2VuLAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgICAgc3RhdHVzOiAyMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSXYzKCksICIvY2F0YWxvZy9wcm9kdWN0L3VwbG9hZC8iKS5jb25jYXQocHJvZHVjdEd1aWQpLCByZXF1ZXN0T3B0aW9ucyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfeWllbGQkcmVzcG9uc2UkanNvbiA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgX3lpZWxkJHJlc3BvbnNlJGpzb24kID0gX3lpZWxkJHJlc3BvbnNlJGpzb24uY29kZTsKICAgICAgICAgICAgICAgIHVybCA9IF95aWVsZCRyZXNwb25zZSRqc29uJC51cmw7CiAgICAgICAgICAgICAgICBmaWVsZHMgPSBfeWllbGQkcmVzcG9uc2UkanNvbiQuZmllbGRzOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVwbG9hZFRvUzMoewogICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgaW1hZ2U6IGRhdGEsCiAgICAgICAgICAgICAgICAgIGZpZWxkczogZmllbGRzLAogICAgICAgICAgICAgICAgICBvblVwbG9hZFByb2dyZXNzQ2FsbGJhY2s6IG9uVXBsb2FkUHJvZ3Jlc3NDYWxsYmFjaywKICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGxvYWRJbWFnZShfeDYsIF94NykgewogICAgICAgIHJldHVybiBfdXBsb2FkSW1hZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwbG9hZEltYWdlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidXBkYXRlSW1hZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGRhdGVJbWFnZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoX3JlZjUsIHByb2R1Y3RHdWlkKSB7CiAgICAgICAgdmFyIHBvc2l0aW9uLCBkYXRhLCBvblVwbG9hZFByb2dyZXNzQ2FsbGJhY2ssIHJlcXVlc3RPcHRpb25zLCByZXNwb25zZSwgX3lpZWxkJHJlc3BvbnNlJGpzb24yLCBfeWllbGQkcmVzcG9uc2UkanNvbjMsIHVybCwgZmllbGRzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcG9zaXRpb24gPSBfcmVmNS5wb3NpdGlvbiwgZGF0YSA9IF9yZWY1LmRhdGEsIG9uVXBsb2FkUHJvZ3Jlc3NDYWxsYmFjayA9IF9yZWY1Lm9uVXBsb2FkUHJvZ3Jlc3NDYWxsYmFjazsKICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1Rva2VuLAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEl2MygpLCAiL2NhdGFsb2cvcHJvZHVjdC91cGxvYWQvIikuY29uY2F0KHByb2R1Y3RHdWlkKSwgcmVxdWVzdE9wdGlvbnMpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX3lpZWxkJHJlc3BvbnNlJGpzb24yID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfeWllbGQkcmVzcG9uc2UkanNvbjMgPSBfeWllbGQkcmVzcG9uc2UkanNvbjIuY29kZTsKICAgICAgICAgICAgICAgIHVybCA9IF95aWVsZCRyZXNwb25zZSRqc29uMy51cmw7CiAgICAgICAgICAgICAgICBmaWVsZHMgPSBfeWllbGQkcmVzcG9uc2UkanNvbjMuZmllbGRzOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVwbG9hZFRvUzMoewogICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgZmllbGRzOiBmaWVsZHMsCiAgICAgICAgICAgICAgICAgIGltYWdlOiBkYXRhLAogICAgICAgICAgICAgICAgICBvblVwbG9hZFByb2dyZXNzQ2FsbGJhY2s6IG9uVXBsb2FkUHJvZ3Jlc3NDYWxsYmFjaywKICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDUuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVJbWFnZShfeDgsIF94OSkgewogICAgICAgIHJldHVybiBfdXBkYXRlSW1hZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwZGF0ZUltYWdlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidXBkYXRlUG9zaXRpb25JbWFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUG9zaXRpb25JbWFnZShib2R5LCBwcm9kdWN0R3VpZCwgcG9zaXRpb24pIHsKICAgICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzVG9rZW4sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSkKICAgICAgfTsKICAgICAgcmV0dXJuIGZldGNoKCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEl2MigpLCAiL2NhdGFsb2cvcHJvZHVjdC91cGxvYWQvIikuY29uY2F0KHByb2R1Y3RHdWlkLCAiP3Bvc2l0aW9uPSIpLmNvbmNhdChwb3NpdGlvbiksIHJlcXVlc3RPcHRpb25zKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWxldGVJbWFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlSW1hZ2UocHJvZHVjdEd1aWQsIHBvc2l0aW9uKSB7CiAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1Rva2VuCiAgICAgIH07CiAgICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoZW52aXJvbm1lbnQuc2V0QVBJdjIoKSwgIi9jYXRhbG9nL3Byb2R1Y3QvdXBsb2FkLyIpLmNvbmNhdChwcm9kdWN0R3VpZCwgIj9wb3NpdGlvbj0iKS5jb25jYXQocG9zaXRpb24pLCByZXF1ZXN0T3B0aW9ucyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW1wb3J0UHJvZHVjdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW1wb3J0UHJvZHVjdChib2R5LCBzbHVnKSB7CiAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNUb2tlbiwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KQogICAgICB9OwogICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSSgpLCAiL2NhdGFsb2cvcHJvZHVjdC9pbXBvcnQvIikuY29uY2F0KHNsdWcpLCByZXF1ZXN0T3B0aW9ucyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW1wb3J0UHJvZHVjdHNEb253bG9hZEZpbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGltcG9ydFByb2R1Y3RzRG9ud2xvYWRGaWxlKGJvZHkpIHsKICAgICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1Rva2VuLAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpCiAgICAgIH07CiAgICAgIHZhciBndWlkID0gVXNlclN0b3JhZ2UucmV0dXJuR3VpZCgpOwogICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSSgpLCAiL2NhdGFsb2cvcHJvZHVjdC9pbXBvcnQvIikuY29uY2F0KGd1aWQsICIvZmlsZSIpLCByZXF1ZXN0T3B0aW9ucyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW1wb3J0UHJvZHVjdHNTZW5kRmlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW1wb3J0UHJvZHVjdHNTZW5kRmlsZShib2R5KSB7CiAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNUb2tlbiwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBmaWxlOiBib2R5CiAgICAgICAgfSkKICAgICAgfTsKICAgICAgdmFyIGd1aWQgPSBVc2VyU3RvcmFnZS5yZXR1cm5HdWlkKCk7CiAgICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoZW52aXJvbm1lbnQuc2V0QVBJKCksICIvY2F0YWxvZy9wcm9kdWN0L2ltcG9ydC8iKS5jb25jYXQoZ3VpZCksIHJlcXVlc3RPcHRpb25zKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBwcm9kdWN0c1NlcnZpY2U7Cn0oKTsKCmV4cG9ydCB7IHByb2R1Y3RzU2VydmljZSBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/home/aline/AstaPrecifique/src/services/products.service.ts"],"names":[],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nimport UserStorage          from '@/services/UserStorage';\n\nimport environment          from '@/environments/environment';\n\nexport default class productsService {\n\n  private headersToken = {\n    'Authorization': environment.setAuthorizationToken(),\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Headers': 'Content-Type',\n    'x-token': UserStorage.returnToken(),\n  };\n\n  private headers = {\n      'Authorization': environment.setAuthorizationToken(),\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Headers': 'Content-Type',\n  };\n\n  public getProducts(categoryGuid: string) {\n      const requestOptions = { headers: this.headers };\n      return fetch(`${environment.setAPIv2()}/catalog/product/${categoryGuid}`, requestOptions);\n  }\n\n  public getProductDetail(productGuid: string) {\n      return axios.get(`${environment.setAPIv2()}/catalog/product/detail/${productGuid}`, {\n        headers: {\n          ...this.headersToken,\n        }\n      });\n  }\n\n  public getProductsPromotion() {\n    const requestOptions = { headers: this.headers };\n    return fetch(`${environment.setAPI()}/catalog/product/promotion`, requestOptions);\n  }\n\n  public getProductDetailPromotion(promotionGuid: string, sellerId: string) {\n    const requestOptions = { headers: this.headers };\n    return fetch(`${environment.setAPI()}/catalog/product/promotion/${promotionGuid}/seller/${sellerId}`, requestOptions);\n  }\n\n  public getProdcutsAll() {\n    const guid: any = UserStorage.returnGuid();\n    const requestOptions = { headers: this.headers };\n    return fetch(`${environment.setAPI()}/seller/${guid}/`, requestOptions);\n  }\n\n  public createProduct(product, categoryGuid: string) {\n    const requestOptions = {\n      method: 'POST',\n      headers: this.headersToken,\n      body: JSON.stringify(product),\n    };\n    return fetch(`${environment.setAPIv2()}/catalog/product/${categoryGuid}`, requestOptions);\n  }\n\n  public createProductNew(product, categoryGuid) {\n    return axios.post(`${environment.setAPIv2()}/catalog/product/${categoryGuid}`, product, {\n      headers: this.headersToken,\n    });\n  }\n\n  public editProduct(product, productGuid?: string) {\n    const requestOptions = {\n      method: 'PATCH',\n      headers: this.headersToken,\n      body: JSON.stringify(product),\n    };\n    return fetch(`${environment.setAPIv2()}/catalog/product/detail/${productGuid}`, requestOptions);\n  }\n\n  public editProductNew(product, productGuid: string) {\n    return axios.patch(`${environment.setAPIv2()}/catalog/product/detail/${productGuid}`, product, {\n      headers: this.headersToken,\n    });\n  }\n\n  public deleteProduct(productGuid?: string) {\n    const requestOptions = {\n      method: 'DELETE',\n      headers: this.headersToken,\n    };\n    return fetch(`${environment.setAPIv2()}/catalog/product/detail/${productGuid}`, requestOptions);\n  }\n\n  public async getS3Signature(productGuid, quantity) {\n    return axios.post(`${environment.setAPI()}/catalog/product/signature/${productGuid}`, {}, {\n      params: {\n        count: quantity\n      },\n      headers: this.headersToken,\n    });\n  }\n\n  public async updateProductImages(productGuid, images) {\n    return axios.put(`${environment.setAPI()}/catalog/product/signature/${productGuid}`, {\n      images,\n    }, {\n      headers: this.headersToken,\n    });\n  }\n\n  public async uploadToS3({url, fields, image, onUploadProgressCallback, position}) {\n    const formData = new FormData();\n    const config = {};\n\n    Object.entries(fields).forEach(([key, value]) => {\n      // @ts-ignore\n      formData.append(key, value);\n    });\n\n    formData.append('file', image);\n\n    if (onUploadProgressCallback) {\n      config[\"onUploadProgress\"] = (event) => {\n        onUploadProgressCallback(event, position);\n      };\n    }\n\n    const response = await axios.post(url, formData, config);\n\n    return response;\n  }\n\n  public async uploadImage({data, position, onUploadProgressCallback}, productGuid: string) {\n    const requestOptions = {\n      method: 'POST',\n      headers: this.headersToken,\n      body: JSON.stringify({position}),\n    };\n\n    if (!data) return {status: 200};\n\n    const response = await fetch(\n        `${environment.setAPIv3()}/catalog/product/upload/${productGuid}`,\n        requestOptions\n    );\n\n    const {code: {url, fields}} = await response.json();\n\n    return await this.uploadToS3({\n        url,\n        image: data,\n        fields,\n        onUploadProgressCallback,\n        position,\n    });\n  }\n\n  public async updateImage({position, data, onUploadProgressCallback}, productGuid: string) {\n    const requestOptions = {\n      method: 'PATCH',\n      headers: this.headersToken,\n      body: JSON.stringify({position}),\n    };\n\n    const response = await fetch(`${environment.setAPIv3()}/catalog/product/upload/${productGuid}`, requestOptions);\n\n    const {code: {url, fields}} = await response.json();\n\n    return await this.uploadToS3({\n      url,\n      fields,\n      image: data,\n      onUploadProgressCallback,\n      position,\n    });\n  }\n\n  public updatePositionImage(body, productGuid: string, position) {\n    const requestOptions = {\n      method: 'PUT',\n      headers: this.headersToken,\n      body: JSON.stringify(body),\n    };\n    return fetch(`${environment.setAPIv2()}/catalog/product/upload/${productGuid}?position=${position}`, requestOptions);\n  }\n\n  public deleteImage(productGuid: string, position: number) {\n    const requestOptions = {\n      method: 'DELETE',\n      headers: this.headersToken,\n    };\n    return fetch(`${environment.setAPIv2()}/catalog/product/upload/${productGuid}?position=${position}`, requestOptions);\n  }\n\n  public importProduct(body, slug: string) {\n    const requestOptions = {\n      method: 'POST',\n      headers: this.headersToken,\n      body: JSON.stringify(body),\n    };\n    return fetch(`${environment.setAPI()}/catalog/product/import/${slug}`, requestOptions);\n  }\n\n  public importProductsDonwloadFile(body) {\n    const requestOptions = {\n      method: 'POST',\n      headers: this.headersToken,\n      body: JSON.stringify(body),\n    };\n    const guid: any = UserStorage.returnGuid();\n    return fetch(`${environment.setAPI()}/catalog/product/import/${guid}/file`, requestOptions);\n  }\n\n  public importProductsSendFile(body) {\n    const requestOptions = {\n      method: 'POST',\n      headers: this.headersToken,\n      body: JSON.stringify({file: body}),\n    };\n    const guid: any = UserStorage.returnGuid();\n    return fetch(`${environment.setAPI()}/catalog/product/import/${guid}`, requestOptions);\n  }\n}\n"],"sourceRoot":""}]}