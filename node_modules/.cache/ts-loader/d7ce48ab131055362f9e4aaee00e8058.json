{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js!/home/aline/AstaPrecifique/node_modules/ts-loader/index.js??ref--13-2!/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/views/Product/ProductEditView.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/AstaPrecifique/src/views/Product/ProductEditView.vue","mtime":1673321154842},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBQcm9kdWN0Q3JlYXRlT3JFZGl0SW5mbyBmcm9tICJAL3ZpZXdzL1Byb2R1Y3QvUHJvZHVjdENyZWF0ZU9yRWRpdEluZm8udnVlIjsKaW1wb3J0IFByb2R1Y3RDcmVhdGVPckVkaXRJbWFnZXMgZnJvbSAiQC92aWV3cy9Qcm9kdWN0L1Byb2R1Y3RDcmVhdGVPckVkaXRJbWFnZXMudnVlIjsKaW1wb3J0IHByb2R1Y3RzU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL3Byb2R1Y3RzLnNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAiUHJvZHVjdEVkaXRWaWV3IiwKICBjb21wb25lbnRzOiB7CiAgICBQcm9kdWN0Q3JlYXRlT3JFZGl0SW1hZ2VzOiBQcm9kdWN0Q3JlYXRlT3JFZGl0SW1hZ2VzLAogICAgUHJvZHVjdENyZWF0ZU9yRWRpdEluZm86IFByb2R1Y3RDcmVhdGVPckVkaXRJbmZvCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdDogbnVsbCwKICAgICAgcHJvZHVjdHNTZXJ2aWNlOiBuZXcgcHJvZHVjdHNTZXJ2aWNlKCksCiAgICAgIGlzTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNTZXJ2aWNlOiBmdW5jdGlvbiBpc1NlcnZpY2UoKSB7CiAgICAgIGlmICghdGhpcy5wcm9kdWN0KSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y3QucmVnaXN0ZXJfdHlwZSA9PT0gJ1NlcnZpY2UnOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRQcm9kdWN0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQcm9kdWN0OiBmdW5jdGlvbiBnZXRQcm9kdWN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMyJHByb2R1Y3QsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnByb2R1Y3RzU2VydmljZS5nZXRQcm9kdWN0RGV0YWlsKF90aGlzMi4kcm91dGUucGFyYW1zLnByb2R1Y3RHdWlkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMiRwcm9kdWN0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF90aGlzMiRwcm9kdWN0LmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczIucHJvZHVjdCA9IGRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVQcm9kdWN0OiBmdW5jdGlvbiB1cGRhdGVQcm9kdWN0KGRhdGEpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3RoaXMzJHByb2R1Y3QsIGVycm9yTWVzc2FnZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5wcm9kdWN0c1NlcnZpY2UuZWRpdFByb2R1Y3ROZXcoZGF0YSwgKF90aGlzMyRwcm9kdWN0ID0gX3RoaXMzLnByb2R1Y3QpID09PSBudWxsIHx8IF90aGlzMyRwcm9kdWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczMkcHJvZHVjdC5ndWlkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnRXJybyBhbyBhdHVhbGl6YXIgcHJvZHV0byc7CgogICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0My50MC5yZXNwb25zZSAmJiBfY29udGV4dDMudDAucmVzcG9uc2Uuc3RhdHVzID09PSAzMDQpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ0rDoSBleGlzdGUgdW0gcHJvZHV0byBjb20gZXNzZSBub21lISc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGFsZXJ0KGVycm9yTWVzc2FnZSwgJycsICdlcnJvcicsIHsKICAgICAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdGltZXI6IDMwMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dDMudDApOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX3RoaXMzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsIDZdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/views/Product/ProductEditView.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;AA2CA,OAAO,GAAP,MAAgB,KAAhB;AAEA,OAAO,uBAAP,MAAoC,6CAApC;AACA,OAAO,yBAAP,MAAsC,+CAAtC;AAEA,OAAO,eAAP,MAA4B,6BAA5B;AAQA,eAAe,GAAG,CAAC,MAAJ,CAAW;AACxB,EAAA,IAAI,EAAE,iBADkB;AAGxB,EAAA,UAAU,EAAE;AACV,IAAA,yBAAyB,EAAzB,yBADU;AAEV,IAAA,uBAAuB,EAAvB;AAFU,GAHY;AAQxB,EAAA,IARwB,kBAQpB;AACF,WAAO;AACL,MAAA,OAAO,EAAE,IADJ;AAEL,MAAA,eAAe,EAAE,IAAI,eAAJ,EAFZ;AAGL,MAAA,SAAS,EAAE;AAHN,KAAP;AAKD,GAduB;AAgBxB,EAAA,QAAQ,EAAE;AACR,IAAA,SADQ,uBACC;AACP,UAAI,CAAC,KAAK,OAAV,EAAmB,OAAO,KAAP;AACnB,aAAO,KAAK,OAAL,CAAa,aAAb,KAA+B,SAAtC;AACD;AAJO,GAhBc;AAuBlB,EAAA,OAvBkB,qBAuBX;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACL,KAAI,CAAC,UAAL,EADK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZ,GAzBuB;AA2BxB,EAAA,OAAO,EAAE;AACD,IAAA,UADC,wBACS;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAES,MAAI,CAAC,eAAL,CAAqB,gBAArB,CAAsC,MAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,WAAzD,CAFT;;AAAA;AAAA;AAEL,gBAAA,IAFK,yBAEL,IAFK;AAGZ,gBAAA,MAAI,CAAC,OAAL,GAAe,IAAf;AAHY;AAAA;;AAAA;AAAA;AAAA;AAKZ,gBAAA,OAAO,CAAC,KAAR;;AALY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOf,KARM;AAUD,IAAA,aAVC,yBAUa,IAVb,EAUiB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtB,gBAAA,MAAI,CAAC,SAAL,GAAiB,IAAjB;AADsB;AAAA;AAAA,uBAGd,MAAI,CAAC,eAAL,CAAqB,cAArB,CAAoC,IAApC,oBAA0C,MAAI,CAAC,OAA/C,mDAA0C,eAAc,IAAxD,CAHc;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKhB,gBAAA,YALgB,GAKD,2BALC;;AAOpB,oBAAI,aAAE,QAAF,IAAc,aAAE,QAAF,CAAW,MAAX,KAAsB,GAAxC,EAA6C;AAC3C,kBAAA,YAAY,GAAG,qCAAf;AACD;;AATmB;AAAA,uBAWd,MAAI,CAAC,MAAL,CAAY,YAAZ,EAA0B,EAA1B,EAA8B,OAA9B,EAAuC;AAC3C,kBAAA,KAAK,EAAE,IADoC;AAE3C,kBAAA,QAAQ,EAAE,SAFiC;AAG3C,kBAAA,iBAAiB,EAAE,KAHwB;AAI3C,kBAAA,KAAK,EAAE;AAJoC,iBAAvC,CAXc;;AAAA;AAkBpB,gBAAA,OAAO,CAAC,KAAR;;AAlBoB;AAoBtB,gBAAA,MAAI,CAAC,SAAL,GAAiB,KAAjB;;AApBsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBvB;AA/BM;AA3Be,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport ProductCreateOrEditInfo from \"@/views/Product/ProductCreateOrEditInfo.vue\";\nimport ProductCreateOrEditImages from \"@/views/Product/ProductCreateOrEditImages.vue\";\n\nimport productsService from \"@/services/products.service\";\n\ninterface IData {\n  product: any;\n  productsService: productsService;\n  isLoading: boolean;\n}\n\nexport default Vue.extend({\n  name: \"ProductEditView\",\n\n  components: {\n    ProductCreateOrEditImages,\n    ProductCreateOrEditInfo,\n  },\n\n  data(): IData {\n    return {\n      product: null,\n      productsService: new productsService(),\n      isLoading: false,\n    }\n  },\n\n  computed: {\n    isService(): boolean {\n      if (!this.product) return false;\n      return this.product.register_type === 'Service';\n    }\n  },\n\n  async created() {\n    await this.getProduct();\n  },\n\n  methods: {\n    async getProduct() {\n      try {\n        const {data} = await this.productsService.getProductDetail(this.$route.params.productGuid);\n        this.product = data;\n      } catch (e) {\n        console.error(e);\n      }\n    },\n\n    async updateProduct(data) {\n      this.isLoading = true;\n      try {\n        await this.productsService.editProductNew(data, this.product?.guid);\n      } catch (e) {\n        let errorMessage = 'Erro ao atualizar produto';\n\n        if (e.response && e.response.status === 304) {\n          errorMessage = 'Já existe um produto com esse nome!';\n        }\n\n        await this.$alert(errorMessage, '', 'error', {\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n        });\n\n        console.error(e);\n      }\n      this.isLoading = false;\n    },\n  }\n});\n"],"sourceRoot":""}]}