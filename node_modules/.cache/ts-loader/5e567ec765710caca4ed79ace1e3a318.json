{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js!/home/aline/AstaPrecifique/node_modules/ts-loader/index.js??ref--13-2!/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/views/Cupon/CuponCreateView.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/AstaPrecifique/src/views/Cupon/CuponCreateView.vue","mtime":1696439584697},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBDdXBvbkNyZWF0ZU9yRWRpdEluZm8gZnJvbSAiQC92aWV3cy9DdXBvbi9DdXBvbkNyZWF0ZU9yRWRpdEluZm8udnVlIjsgLy8gaW1wb3J0IFByb2R1Y3RDcmVhdGVPckVkaXRJbWFnZXMgZnJvbSAiQC92aWV3cy9Qcm9kdWN0L1Byb2R1Y3RDcmVhdGVPckVkaXRJbWFnZXMudnVlIjsKCmltcG9ydCBwcm9kdWN0c1NlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9wcm9kdWN0cy5zZXJ2aWNlIjsKaW1wb3J0IGN1cG9uU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL2N1cG9uLnNlcnZpY2UnOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBWdWVTaW1wbGVBbGVydCBmcm9tICJ2dWUtc2ltcGxlLWFsZXJ0IjsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogIkN1cG9uQ3JlYXRlVmlldyIsCiAgY29tcG9uZW50czogewogICAgLy8gQ3Vwb25DcmVhdGVPckVkaXRJbWFnZXMsCiAgICBDdXBvbkNyZWF0ZU9yRWRpdEluZm86IEN1cG9uQ3JlYXRlT3JFZGl0SW5mbwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3RzU2VydmljZTogbmV3IHByb2R1Y3RzU2VydmljZSgpLAogICAgICBjdXBvblNlcnZpY2U6IG5ldyBjdXBvblNlcnZpY2UoKSwKICAgICAgb3BlblN0ZXBUd286IGZhbHNlLAogICAgICBoYXNDcmVhdGVkUHJvZHVjdDogZmFsc2UsCiAgICAgIGRpc2FibGVDcmVhdGVPckVkaXRJbmZvOiBmYWxzZSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaXNMb2FkaW5nSW1hZ2VzOiBmYWxzZSwKICAgICAgY3JlYXRlZFByb2R1Y3RHdWlkOiAnJywKICAgICAgY3JlYXRlZFByb2R1Y3Q6IHVuZGVmaW5lZAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1NlcnZpY2U6IGZ1bmN0aW9uIGlzU2VydmljZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhcmFtcy50eXBlID09PSAnc2Vydmljbyc7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBiYWNrVG9JbmZvOiBmdW5jdGlvbiBiYWNrVG9JbmZvKCkgewogICAgICB0aGlzLmRpc2FibGVDcmVhdGVPckVkaXRJbmZvID0gZmFsc2U7CiAgICAgIHRoaXMuc2Nyb2xsVG9TdGVwKDEpOwogICAgfSwKICAgIGNyZWF0ZU9yVXBkYXRlQ3Vwb246IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlQ3Vwb24oaW5mbykgewogICAgICB0aGlzLmNyZWF0ZUN1cG9uKGluZm8pOwogICAgfSwKICAgIGNyZWF0ZUN1cG9uOiBmdW5jdGlvbiBjcmVhdGVDdXBvbihjdXBvbikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImNyZWF0aW5nIGN1cG9uIiwgY3Vwb24pOwogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY3Vwb25TZXJ2aWNlLmFkZEN1cG9uKGN1cG9uKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInJlc3BvbnNlIGNyZWF0ZSBjdXBvbiIsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gcmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IF9jb250ZXh0LnQwID09PSAyMDAgPyAxMCA6IF9jb250ZXh0LnQwID09PSAyMDEgPyAxMyA6IF9jb250ZXh0LnQwID09PSA1MDAgPyAxNiA6IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfdGhpcy50b2FzdE1lc3NhZ2UoInN1Y2Nlc3MiLCAiQ3JpYWRvIGNvbSBzdWNlc3NvISIpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIuYmFjaygpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX3RoaXMudG9hc3RNZXNzYWdlKCJzdWNjZXNzIiwgIkNyaWFkbyBjb20gc3VjZXNzbyEiKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLmJhY2soKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDE4KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF90aGlzLnRvYXN0TWVzc2FnZSgiZXJyb3IiLCAiQWNvbnRlY2V1IHVtIGVycm8sIHRlbnRlIG5vdmFtZW50ZSIpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImVycm9yIGNyZWF0ZSBjdXBvbiIsIF9jb250ZXh0LnQxKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCAyMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdG9hc3RNZXNzYWdlOiBmdW5jdGlvbiB0b2FzdE1lc3NhZ2UodHlwZSwgdGl0bGUpIHsKICAgICAgVnVlU2ltcGxlQWxlcnQuZmlyZSh7CiAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgb25PcGVuOiBmdW5jdGlvbiBvbk9wZW4odG9hc3QpIHsKICAgICAgICAgIHRvYXN0LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZW50ZXIiLCBTd2FsLnN0b3BUaW1lciksIHRvYXN0LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCBTd2FsLnJlc3VtZVRpbWVyKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNjcm9sbFRvU3RlcDogZnVuY3Rpb24gc2Nyb2xsVG9TdGVwKHN0ZXApIHsKICAgICAgc3dpdGNoIChzdGVwKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgdmFyIGluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlLW9yLWVkaXQtaW5mbycpOwogICAgICAgICAgaWYgKCFpbmZvKSBicmVhazsKICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7CiAgICAgICAgICAgIGJlaGF2aW9yOiAic21vb3RoIiwKICAgICAgICAgICAgdG9wOiBpbmZvLm9mZnNldFRvcAogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgdmFyIGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGUtb3ItZWRpdC1pbWFnZXMnKTsKICAgICAgICAgIGlmICghaW1hZ2VzKSBicmVhazsKICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7CiAgICAgICAgICAgIGJlaGF2aW9yOiAic21vb3RoIiwKICAgICAgICAgICAgdG9wOiBpbWFnZXMub2Zmc2V0VG9wCiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/views/Cupon/CuponCreateView.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;AA2CA,OAAO,GAAP,MAAgB,KAAhB;AAEA,OAAO,qBAAP,MAAkC,yCAAlC,C,CACA;;AAEA,OAAO,eAAP,MAA4B,6BAA5B;AACA,OAAO,YAAP,MAAyB,0BAAzB;AAEA,OAAO,IAAP,MAAqC,aAArC;AACA,OAAO,cAAP,MAA2B,kBAA3B;AAEA,eAAe,GAAG,CAAC,MAAJ,CAAW;AACxB,EAAA,IAAI,EAAE,iBADkB;AAExB,EAAA,UAAU,EAAE;AACV;AACA,IAAA,qBAAqB,EAArB;AAFU,GAFY;AAOxB,EAAA,IAPwB,kBAOpB;AACF,WAAO;AACL,MAAA,eAAe,EAAE,IAAI,eAAJ,EADZ;AAEL,MAAA,YAAY,EAAE,IAAI,YAAJ,EAFT;AAIL,MAAA,WAAW,EAAE,KAJR;AAML,MAAA,iBAAiB,EAAE,KANd;AAOL,MAAA,uBAAuB,EAAE,KAPpB;AASL,MAAA,SAAS,EAAE,KATN;AAUL,MAAA,eAAe,EAAE,KAVZ;AAYL,MAAA,kBAAkB,EAAE,EAZf;AAaL,MAAA,cAAc,EAAE;AAbX,KAAP;AAeD,GAvBuB;AAyBxB,EAAA,QAAQ,EAAE;AACR,IAAA,SADQ,uBACC;AACP,aAAO,KAAK,MAAL,CAAY,MAAZ,CAAmB,IAAnB,KAA4B,SAAnC;AACD;AAHO,GAzBc;AA+BxB,EAAA,OAAO,EAAE;AACP,IAAA,UADO,wBACG;AACR,WAAK,uBAAL,GAA+B,KAA/B;AACA,WAAK,YAAL,CAAkB,CAAlB;AACD,KAJM;AAMP,IAAA,mBANO,+BAMa,IANb,EAMiB;AACtB,WAAK,WAAL,CAAiB,IAAjB;AACD,KARM;AAUD,IAAA,WAVC,uBAUW,KAVX,EAUgB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACrB,gBAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA8B,KAA9B;AACA,gBAAA,KAAI,CAAC,SAAL,GAAiB,IAAjB;AAFqB;AAAA;AAAA,uBAII,KAAI,CAAC,YAAL,CAAkB,QAAlB,CAA2B,KAA3B,CAJJ;;AAAA;AAIb,gBAAA,QAJa;AAKnB,gBAAA,OAAO,CAAC,GAAR,CAAY,uBAAZ,EAAqC,QAArC;AALmB,8BAMX,QAAQ,CAAC,MANE;AAAA,gDAOZ,GAPY,wBAWZ,GAXY,wBAeZ,GAfY;AAAA;;AAAA;AAQf,gBAAA,KAAI,CAAC,YAAL,CAAkB,SAAlB,EAA6B,qBAA7B;;AACA,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb;;AATe;;AAAA;AAYf,gBAAA,KAAI,CAAC,YAAL,CAAkB,SAAlB,EAA6B,qBAA7B;;AACA,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb;;AAbe;;AAAA;AAgBf,gBAAA,KAAI,CAAC,YAAL,CAAkB,OAAlB,EAA2B,oCAA3B;;AAhBe;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAoBnB,gBAAA,OAAO,CAAC,GAAR,CAAY,oBAAZ;;AApBmB;AAsBrB,gBAAA,KAAI,CAAC,SAAL,GAAiB,KAAjB;;AAtBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBtB,KAjCM;AAmCP,IAAA,YAnCO,wBAmCM,IAnCN,EAmC4B,KAnC5B,EAmCyC;AAC9C,MAAA,cAAc,CAAC,IAAf,CAAoB;AAClB,QAAA,IAAI,EAAJ,IADkB;AAElB,QAAA,KAAK,EAAL,KAFkB;AAGlB,QAAA,KAAK,EAAE,IAHW;AAIlB,QAAA,QAAQ,EAAE,SAJQ;AAKlB,QAAA,iBAAiB,EAAE,KALD;AAMlB,QAAA,KAAK,EAAE,IANW;AAOlB,QAAA,MAAM,EAAE,gBAAC,KAAD,EAAU;AAChB,UAAA,KAAK,CAAC,gBAAN,CAAuB,YAAvB,EAAqC,IAAI,CAAC,SAA1C,GACE,KAAK,CAAC,gBAAN,CAAuB,YAAvB,EAAqC,IAAI,CAAC,WAA1C,CADF;AAED;AAViB,OAApB;AAYD,KAhDM;AAkDP,IAAA,YAlDO,wBAkDM,IAlDN,EAkDU;AACf,cAAQ,IAAR;AACE,aAAK,CAAL;AACE,cAAM,IAAI,GAAG,QAAQ,CAAC,cAAT,CAAwB,qBAAxB,CAAb;AACA,cAAI,CAAC,IAAL,EAAW;AACX,UAAA,MAAM,CAAC,QAAP,CAAgB;AACd,YAAA,QAAQ,EAAE,QADI;AAEd,YAAA,GAAG,EAAE,IAAI,CAAC;AAFI,WAAhB;AAIA;;AACF,aAAK,CAAL;AACE,cAAM,MAAM,GAAG,QAAQ,CAAC,cAAT,CAAwB,uBAAxB,CAAf;AACA,cAAI,CAAC,MAAL,EAAa;AACb,UAAA,MAAM,CAAC,QAAP,CAAgB;AACd,YAAA,QAAQ,EAAE,QADI;AAEd,YAAA,GAAG,EAAE,MAAM,CAAC;AAFE,WAAhB;AAIA;;AACF;AACE;AAlBJ;AAoBD;AAvEM;AA/Be,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport CuponCreateOrEditInfo from \"@/views/Cupon/CuponCreateOrEditInfo.vue\";\n// import ProductCreateOrEditImages from \"@/views/Product/ProductCreateOrEditImages.vue\";\n\nimport productsService from \"@/services/products.service\";\nimport cuponService from '@/services/cupon.service';\n\nimport Swal, { SweetAlertType } from \"sweetalert2\";\nimport VueSimpleAlert from \"vue-simple-alert\";\n\nexport default Vue.extend({\n  name: \"CuponCreateView\",\n  components: {\n    // CuponCreateOrEditImages,\n    CuponCreateOrEditInfo,\n  },\n\n  data() {\n    return {\n      productsService: new productsService(),\n      cuponService: new cuponService(),\n\n      openStepTwo: false,\n\n      hasCreatedProduct: false,\n      disableCreateOrEditInfo: false,\n\n      isLoading: false,\n      isLoadingImages: false,\n\n      createdProductGuid: '',\n      createdProduct: undefined,\n    }\n  },\n\n  computed: {\n    isService(): boolean {\n      return this.$route.params.type === 'servico';\n    }\n  },\n\n  methods: {\n    backToInfo() {\n      this.disableCreateOrEditInfo = false;\n      this.scrollToStep(1);\n    },\n\n    createOrUpdateCupon(info) {\n      this.createCupon(info);\n    },\n\n    async createCupon(cupon){\n      console.log(\"creating cupon\", cupon)\n      this.isLoading = true;\n      try {\n        const response = await this.cuponService.addCupon(cupon);\n        console.log(\"response create cupon\", response)\n        switch (response.status) {\n          case 200:\n            this.toastMessage(\"success\", \"Criado com sucesso!\");\n            this.$router.back();\n            break;\n          case 201:\n            this.toastMessage(\"success\", \"Criado com sucesso!\");\n            this.$router.back();\n            break;  \n          case 500:\n            this.toastMessage(\"error\", \"Aconteceu um erro, tente novamente\");\n            break;    \n        }\n      }catch(e){\n        console.log(\"error create cupon\", e)\n      }\n      this.isLoading = false;\n    },\n\n    toastMessage(type: SweetAlertType, title: string) {\n      VueSimpleAlert.fire({\n        type,\n        title,\n        toast: true,\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 3000,\n        onOpen: (toast) => {\n          toast.addEventListener(\"mouseenter\", Swal.stopTimer),\n            toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n        },\n      });\n    },\n\n    scrollToStep(step) {\n      switch (step) {\n        case 1:\n          const info = document.getElementById('create-or-edit-info');\n          if (!info) break;\n          window.scrollTo({\n            behavior: \"smooth\",\n            top: info.offsetTop,\n          });\n          break;\n        case 2:\n          const images = document.getElementById('create-or-edit-images');\n          if (!images) break;\n          window.scrollTo({\n            behavior: \"smooth\",\n            top: images.offsetTop,\n          });\n          break;\n        default:\n          break;\n      }\n    }\n  }\n});\n"],"sourceRoot":""}]}