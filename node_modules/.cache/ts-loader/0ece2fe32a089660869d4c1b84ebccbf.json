{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js!/home/aline/AstaPrecifique/node_modules/ts-loader/index.js??ref--13-2!/home/aline/AstaPrecifique/src/views/Register-Seller/register-seller.ts","dependencies":[{"path":"/home/aline/AstaPrecifique/src/views/Register-Seller/register-seller.ts","mtime":1679413230177},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9ob21lL2FsaW5lL0FzdGFQcmVjaWZpcXVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInOwppbXBvcnQgVnVlU2ltcGxlQWxlcnQgZnJvbSAndnVlLXNpbXBsZS1hbGVydCc7CmltcG9ydCB7IFNURVAxLCBTVEVQMiwgU1RFUDMsIFNURVA0IH0gZnJvbSAnLi9yZWdpc3Rlci1zZWxsZXItc3RlcHMnOwppbXBvcnQgUmVnaXN0ZXJTZWxsZXJTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvcmVnaXN0ZXIuc2VydmljZSc7CmltcG9ydCBVc2VyU3RvcmFnZSBmcm9tICdAL3NlcnZpY2VzL1VzZXJTdG9yYWdlJzsKaW1wb3J0IHByb2R1Y3RzU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL3Byb2R1Y3RzLnNlcnZpY2UnOwppbXBvcnQgeyBsaXN0U3RhdHVzU2VsbGVyVmFsaWQgfSBmcm9tICdAL2Vudmlyb25tZW50cy9saXN0X3N0YXR1c192YWxpZCc7CmltcG9ydCBnZXRVdG1Db29raWUgZnJvbSAiQC9oZWxwZXJzL2dldFV0bUNvb2tpZSI7CmltcG9ydCB7IERldmljZSB9IGZyb20gJ0BjYXBhY2l0b3IvZGV2aWNlJzsKCnZhciBSZWdpc3RlclNlbGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhSZWdpc3RlclNlbGxlciwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUmVnaXN0ZXJTZWxsZXIpOwoKICBmdW5jdGlvbiBSZWdpc3RlclNlbGxlcigpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVnaXN0ZXJTZWxsZXIpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICBfdGhpcy50aXRsZVBhZ2UgPSAnRmHDp2EgbyBjYWRhc3RybyBkbyBzZXUgbmVnw7NjaW8uIMOJIGdyw6F0aXMhJzsKICAgIF90aGlzLnN0ZXBEZWZhdWwgPSAnJzsKICAgIF90aGlzLnBhcmFtUGFydGhlciA9ICcnOwogICAgX3RoaXMub3JpZ2luQnlXYXkgPSAnJzsKICAgIF90aGlzLnN0ZXAgPSAnJzsKICAgIF90aGlzLnN0ZXAxID0gU1RFUDE7CiAgICBfdGhpcy5zdGVwMiA9IFNURVAyOwogICAgX3RoaXMuc3RlcDMgPSBTVEVQMzsKICAgIF90aGlzLnN0ZXA0ID0gU1RFUDQ7CiAgICBfdGhpcy5vcHRJbiA9ICdwaG9uZSc7CiAgICBfdGhpcy5yZWZyZXNoID0gZmFsc2U7CiAgICBfdGhpcy5idXNpbmVzc05hbWUgPSAnJzsKICAgIF90aGlzLmVtYWlsID0gJyc7CiAgICBfdGhpcy5waG9uZSA9ICcnOwogICAgX3RoaXMudmVyaWZpY2F0aW9uVHlwZSA9ICcnOwogICAgX3RoaXMubmV4dERpc2FibGVkID0gZmFsc2U7CiAgICBfdGhpcy5wcmV2RGlzYWJsZWQgPSB0cnVlOwogICAgX3RoaXMuaGFzQ3BmID0gZmFsc2U7CiAgICBfdGhpcy5kZXZpY2VJZCA9ICcnOwogICAgX3RoaXMuc3ViQ2F0ZWdvcmllcyA9IFtdOwogICAgX3RoaXMuaXNSZWdpc3RlciA9IGZhbHNlOwogICAgX3RoaXMuc2hvd09wdEluID0gZmFsc2U7CiAgICBfdGhpcy5zaG93VmVyaWZpY2F0aW9uQ29kZSA9IGZhbHNlOwogICAgX3RoaXMuc2hvd01hcEFkZHJlc3MgPSBmYWxzZTsKICAgIF90aGlzLmlzVXBkYXRlID0gZmFsc2U7CiAgICBfdGhpcy5yZWdpc3RlclNlcnZpY2UgPSBuZXcgUmVnaXN0ZXJTZWxsZXJTZXJ2aWNlKCk7CiAgICBfdGhpcy5wcm9kdWN0c1NlcnZpY2UgPSBuZXcgcHJvZHVjdHNTZXJ2aWNlKCk7CiAgICBfdGhpcy5zdGVwVG9OdW1iZXIgPSB7CiAgICAgICJvbmUiOiAxLAogICAgICAidHdvIjogMiwKICAgICAgInRocmVlIjogMywKICAgICAgImZvdXIiOiA0LAogICAgICAiZml2ZSI6IDUKICAgIH07CgogICAgX3RoaXMuc2V0U3RlcHNHYSA9IGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgX3RoaXMuJHNldEd0bSh7CiAgICAgICAgZXZlbnQ6ICdzdGVwLWNhZGFzdHJvJywKICAgICAgICBub21lU3RlcDogYWN0aW9uCiAgICAgIH0pOwogICAgfTsKCiAgICBfdGhpcy5jb252ZXJ0U3RlcHMgPSBmdW5jdGlvbiAoc3RlcCkgewogICAgICB2YXIgaW5kZXggPSAwOwoKICAgICAgc3dpdGNoIChzdGVwKSB7CiAgICAgICAgY2FzZSAnb25lJzoKICAgICAgICBjYXNlICdQJzoKICAgICAgICAgIGluZGV4ID0gMTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICd0d28nOgogICAgICAgIGNhc2UgJ0MnOgogICAgICAgICAgaW5kZXggPSAyOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ3RocmVlJzoKICAgICAgICBjYXNlICdFJzoKICAgICAgICAgIGluZGV4ID0gMzsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdmb3VyJzoKICAgICAgICBjYXNlICdEJzoKICAgICAgICAgIGluZGV4ID0gNDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdmaXZlJzoKICAgICAgICBjYXNlICdGJzoKICAgICAgICAgIGluZGV4ID0gNTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICByZXR1cm4gaW5kZXg7CiAgICB9OwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhSZWdpc3RlclNlbGxlciwgW3sKICAgIGtleTogImNyZWF0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIHRoaXMuc3RlcERlZmF1bCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmV0YXBhOwogICAgICB0aGlzLiRyb3V0ZS5xdWVyeS5wYXJjZWlybyA/IHRoaXMucGFyYW1QYXJ0aGVyID0gdGhpcy4kcm91dGUucXVlcnkucGFyY2Vpcm8gOiB0aGlzLnBhcmFtUGFydGhlciA9ICcnOwogICAgICB0aGlzLmdldENob2ljZXNHZW5kZXIoKTsKICAgICAgdGhpcy5nZXRDaG9pY2VzU2VsbGVyc2l6ZSgpOwogICAgICB0aGlzLmdldExpc3RDYXRlZ29yaWVzKCk7CiAgICAgIHRoaXMuZ2V0U3RlcEZvcm1zKCk7CiAgICAgIHRoaXMuZ2V0U3RlcE9uZVRlcm1zKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAibW91bnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgdGhpcy5zZXREZXZpY2VJZCgpOwogICAgICB0aGlzLm9yaWdpbkJ5V2F5ID0gZ2V0VXRtQ29va2llKCk7CiAgICAgIHZhciBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2dlZFVzZXInKTsKCiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgdmFyIHN0YXR1c1NlbGxlckFjY291bnQgPSBKU09OLnBhcnNlKGRhdGEpOwoKICAgICAgICBpZiAoIWxpc3RTdGF0dXNTZWxsZXJWYWxpZC5pbmNsdWRlcyhzdGF0dXNTZWxsZXJBY2NvdW50LmFjY291bnRfc3RhdHVzKSkgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goInF1ZXJvLXZlbmRlcj9ldGFwYT0iLmNvbmNhdChzdGF0dXNTZWxsZXJBY2NvdW50LmFjY291bnRfc3RhdHVzKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCJkYXNoYm9hcmQiKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuaXNSZWdpc3RlciA9IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0U3RlcEZvcm1zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdGVwRm9ybXMoKSB7CiAgICAgIHRoaXMuc3RlcERlZmF1bCA/IHRoaXMuc2V0U3RlcCh0aGlzLmNvbnZlcnRBY2NvdW50U3RhdHVzVG9TdGVwcyh0aGlzLnN0ZXBEZWZhdWwpKSA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGVwZm9ybScpID8gdGhpcy5zZXRTdGVwKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGVwZm9ybScpKSA6IHRoaXMuc2V0U3RlcCgnb25lJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0U3RlcE9uZVRlcm1zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdGVwT25lVGVybXMoKSB7CiAgICAgIHZhciBzdGVwT25lVGVybXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RlcE9uZVRlcm1zJykgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RlcE9uZVRlcm1zJykgOiAnJzsKCiAgICAgIGlmIChzdGVwT25lVGVybXMpIHsKICAgICAgICB0aGlzLm5leHREaXNhYmxlZCA9IEpTT04ucGFyc2Uoc3RlcE9uZVRlcm1zKS50ZXJtczsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNldE5leHREaXNhYmxlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TmV4dERpc2FibGVkKHZhbHVlKSB7CiAgICAgIHRoaXMubmV4dERpc2FibGVkID0gdmFsdWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q2hvaWNlc0dlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldENob2ljZXNHZW5kZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHZhciByZXNwb25zZSwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS5nZXRDaG9pY2VzR2VuZGVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gcmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IF9jb250ZXh0LnQwID09PSAyMDAgPyA2IDogX2NvbnRleHQudDAgPT09IDIwMSA/IDYgOiBfY29udGV4dC50MCA9PT0gMjAyID8gNiA6IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnN0ZXA0WzFdLm9wdGlvbnMgPSBbXTsKICAgICAgICAgICAgICAgIGRhdGEubWFwKGZ1bmN0aW9uIChzZWxsZXIpIHsKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5zdGVwNFsxXS5vcHRpb25zKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0ZXA0WzFdLm9wdGlvbnMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBpZDogc2VsbGVyWzBdLAogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICIiLmNvbmNhdChzZWxsZXJbMF0sICIgLSAiKS5jb25jYXQoc2VsbGVyWzFdKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMTIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldENob2ljZXNHZW5kZXIoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRDaG9pY2VzR2VuZGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRDaG9pY2VzR2VuZGVyOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0Q2hvaWNlc1NlbGxlcnNpemUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRDaG9pY2VzU2VsbGVyc2l6ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAgIHZhciByZXNwb25zZSwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJTZXJ2aWNlLmdldENob2ljZXNTZWxsZXJzaXplKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSByZXNwb25zZS5zdGF0dXM7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IF9jb250ZXh0Mi50MCA9PT0gMjAwID8gNiA6IF9jb250ZXh0Mi50MCA9PT0gMjAxID8gNiA6IF9jb250ZXh0Mi50MCA9PT0gMjAyID8gNiA6IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuc3RlcDNbMl0ub3B0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgZGF0YS5tYXAoZnVuY3Rpb24gKHNlbGxlcikgewogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLnN0ZXAzWzNdLm9wdGlvbnMpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuc3RlcDNbM10ub3B0aW9ucy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiBzZWxsZXJbMF0sCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIiIuY29uY2F0KHNlbGxlclswXSwgIiAtICIpLmNvbmNhdChzZWxsZXJbMV0pCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0Q2hvaWNlc1NlbGxlcnNpemUoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRDaG9pY2VzU2VsbGVyc2l6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0Q2hvaWNlc1NlbGxlcnNpemU7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRMaXN0Q2F0ZWdvcmllcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldExpc3RDYXRlZ29yaWVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS5nZXRMaXN0Q2F0ZWdvcmllcygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gcmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSBfY29udGV4dDMudDAgPT09IDIwMCA/IDYgOiBfY29udGV4dDMudDAgPT09IDIwMSA/IDYgOiBfY29udGV4dDMudDAgPT09IDIwMiA/IDYgOiAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnN1YkNhdGVnb3JpZXMgPSBkYXRhOwogICAgICAgICAgICAgICAgdGhpcy5zdGVwM1swXS5vcHRpb25zID0gZGF0YS5tYXAoZnVuY3Rpb24gKGNhdGVnb3J5KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGNhdGVnb3J5Lm5hbWUsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGNhdGVnb3J5Lm5hbWUKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoImJyZWFrIiwgMTIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0TGlzdENhdGVnb3JpZXMoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRMaXN0Q2F0ZWdvcmllcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0TGlzdENhdGVnb3JpZXM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJzZXRTdGVwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTdGVwKHN0ZXApIHsKICAgICAgdGhpcy5zdGVwID0gc3RlcDsKICAgICAgdGhpcy5zdG9yYWdlU3RlcEN1cnJlbnQoKTsKICAgICAgdGhpcy5zZXRTdG9yYWdlTW9kZWxTdGVwcygpOwogICAgICB0aGlzLnNldFN0ZXBUaXRsZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFN0b3JhZ2VNb2RlbFN0ZXBzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTdG9yYWdlTW9kZWxTdGVwcygpIHsKICAgICAgc3dpdGNoICh0aGlzLnN0ZXApIHsKICAgICAgICBjYXNlICdvbmUnOgogICAgICAgICAgdGhpcy5zZXRNb2RlbHNBcnJheUlucHV0KCdzdGVwT25lJywgdGhpcy5zdGVwMSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAndHdvJzoKICAgICAgICAgIHRoaXMuc2V0TW9kZWxzQXJyYXlJbnB1dCgnc3RlcFR3bycsIHRoaXMuc3RlcDIpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ3RocmVlJzoKICAgICAgICAgIHRoaXMuc2V0TW9kZWxzQXJyYXlJbnB1dCgnc3RlcFRocmVlJywgdGhpcy5zdGVwMyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnZm91cic6CiAgICAgICAgICB0aGlzLnNldE1vZGVsc0FycmF5SW5wdXQoJ3N0ZXBGb3VyJywgdGhpcy5zdGVwNCk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInByZXZTdGVwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwcmV2U3RlcCgpIHsKICAgICAgc3dpdGNoICh0aGlzLnN0ZXApIHsKICAgICAgICBjYXNlICd0d28nOgogICAgICAgICAgdGhpcy5zZXRTdGVwKCdvbmUnKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICd0aHJlZSc6CiAgICAgICAgICB0aGlzLnNldFN0ZXAoJ3R3bycpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ2ZvdXInOgogICAgICAgICAgdGhpcy5zZXRTdGVwKCd0aHJlZScpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ2ZpdmUnOgogICAgICAgICAgdGhpcy5zZXRTdGVwKCdmb3VyJyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIm5leHRTdGVwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0U3RlcCgpIHsKICAgICAgc3dpdGNoICh0aGlzLnN0ZXApIHsKICAgICAgICBjYXNlICdvbmUnOgogICAgICAgICAgdGhpcy5zZXRWZXJpZmljYXRpb25Db2RlKCk7CiAgICAgICAgICB0aGlzLnNldFN0ZXBzR2EoJ0luZm9ybWHDp8O1ZXMgZGUgY29udGF0bycpOyAvLyB0aGlzLnNldFN0ZXAoJ3R3bycpOwoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICd0d28nOgogICAgICAgICAgLy8gdGhpcy5jcmVhdGVSZWdpc3RlclNlbGxlckFkZHJlc3MoKTsKICAgICAgICAgIHRoaXMub3Blbk1hcEFkZHJlc3MoKTsKICAgICAgICAgIHRoaXMuc2V0U3RlcHNHYSgnTG9jYWxpemHDp8OjbyBkYSBlbXByZXNhJyk7IC8vIHRoaXMuc2V0U3RlcCgndGhyZWUnKTsKCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAndGhyZWUnOgogICAgICAgICAgdGhpcy5jcmVhdGVSZWdpc3RlclNlbGxlckNhdGVnb3J5KCk7CiAgICAgICAgICB0aGlzLnNldFN0ZXBzR2EoJ0NhdGVnb3JpYSBkYSBlbXByZXNhJyk7CiAgICAgICAgICB0aGlzLnByZXZEaXNhYmxlZCA9IHRydWU7IC8vIHRoaXMuc2V0U3RlcCgnZm91cicpOwoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdmb3VyJzoKICAgICAgICAgIHZhciBzdGVwVGhyZWUgPSB7fTsKICAgICAgICAgIHZhciBzdGVwRm91ciA9IHt9OwoKICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RlcFRocmVlJykpIHsKICAgICAgICAgICAgc3RlcFRocmVlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RlcFRocmVlJykgfHwgJycpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RlcEZvdXInKSkgewogICAgICAgICAgICBzdGVwRm91ciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0ZXBGb3VyJykgfHwgJycpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMudXBkYXRlUmVnaXN0ZXJTZWxsZXIoewogICAgICAgICAgICBzZWxsZXJfbmFtZTogc3RlcEZvdXJbMF0sCiAgICAgICAgICAgIGdlbmRlcjogc3RlcEZvdXJbMV0uaWQsCiAgICAgICAgICAgIGRvY3VtZW50OiBzdGVwRm91clsyXSA/IHN0ZXBGb3VyWzJdIDogc3RlcFRocmVlWzRdCiAgICAgICAgICB9LCAnZml2ZScpOwogICAgICAgICAgdGhpcy5wcmV2RGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgdGhpcy5zZXRTdGVwc0dhKCdEYWRvcyBQZXNzb2FpcycpOyAvLyB0aGlzLnNldFN0ZXAoJ2ZpdmUnKTsKCiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNvbmZpcm1BZGRyZXNzTWFwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb25maXJtQWRkcmVzc01hcCgpIHsKICAgICAgdGhpcy5jcmVhdGVSZWdpc3RlclNlbGxlckFkZHJlc3MoKTsKICAgICAgdGhpcy5jbG9zZU1hcEFkZHJlc3MoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRTdGVwVGl0bGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN0ZXBUaXRsZSgpIHsKICAgICAgc3dpdGNoICh0aGlzLnN0ZXApIHsKICAgICAgICBjYXNlICdvbmUnOgogICAgICAgICAgdGhpcy50aXRsZVBhZ2UgPSAnRmHDp2EgbyBjYWRhc3RybyBkbyBzZXUgbmVnw7NjaW8uIMOJIGdyw6F0aXMhJzsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICd0d28nOgogICAgICAgICAgdGhpcy50aXRsZVBhZ2UgPSAnQ29udGEgcHJhIGdlbnRlIG9uZGUgZmljYSBzZXUgbmVnw7NjaW8hJzsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICd0aHJlZSc6CiAgICAgICAgICB0aGlzLnRpdGxlUGFnZSA9ICdBZ29yYSwgcHJlY2lzYW1vcyBzYWJlciB1bSBwb3VjbyBzb2JyZSBzZXUgbmVnw7NjaW8hJzsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdmb3VyJzoKICAgICAgICAgIHRoaXMudGl0bGVQYWdlID0gJ0ZhbHRhIHBvdWNvISBDb250ZSBtYWlzIHNvYnJlIHZvY8OqLic7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnZml2ZSc6CiAgICAgICAgICB0aGlzLnRpdGxlUGFnZSA9ICdRdWUgYm9tIHF1ZSB2b2PDqiBlc3TDoSBuYSBQZXJ0aW5obyBkZSBDYXNhISc7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNldERldmljZUlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc2V0RGV2aWNlSWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBkZXZpY2VfaWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBEZXZpY2UuZ2V0SWQoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGV2aWNlX2lkID0gX2NvbnRleHQ0LnNlbnQudXVpZDsKICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlSWQgPSBkZXZpY2VfaWQ7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGV2aWNlX2lkJywgSlNPTi5zdHJpbmdpZnkoZGV2aWNlX2lkKSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNldERldmljZUlkKCkgewogICAgICAgIHJldHVybiBfc2V0RGV2aWNlSWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNldERldmljZUlkOwogICAgfSgpIC8vQXF1aSBmYXogbyByZWdpc3RlcgoKICB9LCB7CiAgICBrZXk6ICJzaWdudXBTZWxsZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zaWdudXBTZWxsZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KGNvZGUpIHsKICAgICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgICAgdmFyIHN0ZXBPbmUsIHN0ZXBPbmVUZXJtcywgcGFydGhlckRhdGEsIHBhcnRuZXIsIG9ic2VydmVyLCBkYXRhLCByZXNwb25zZSwgZXJyb3I7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0ZXBPbmUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGVwT25lJykgfHwgJycpOwogICAgICAgICAgICAgICAgc3RlcE9uZVRlcm1zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RlcE9uZVRlcm1zJykgfHwgJycpOwoKICAgICAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGFydGhlcicpKSB7CiAgICAgICAgICAgICAgICAgIHBhcnRoZXJEYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGFydGhlcicpIHx8ICcnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShzdGVwT25lICYmIHN0ZXBPbmVUZXJtcykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcGFydG5lciA9ICcnOwogICAgICAgICAgICAgICAgb2JzZXJ2ZXIgPSAnJzsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJhbVBhcnRoZXIgPT09ICdnYXN0cm9tb3RpdmEnKSB7CiAgICAgICAgICAgICAgICAgIHBhcnRuZXIgPSBwYXJ0aGVyRGF0YSA/IHBhcnRoZXJEYXRhWzBdLmlkIDogJyc7CiAgICAgICAgICAgICAgICAgIG9ic2VydmVyID0gcGFydGhlckRhdGEgPyBwYXJ0aGVyRGF0YVsxXSA6ICcnOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmFtUGFydGhlciA9PT0gJ29pJykgewogICAgICAgICAgICAgICAgICBwYXJ0bmVyID0gJ29pJzsKICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIgPSBwYXJ0aGVyRGF0YVswXS5sYWJlbCA9PT0gJ091dHJvcycgPyAiT3V0cm9zLSIuY29uY2F0KHBhcnRoZXJEYXRhWzFdKSA6IHBhcnRoZXJEYXRhWzBdLmxhYmVsOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmFtUGFydGhlcikgewogICAgICAgICAgICAgICAgICBwYXJ0bmVyID0gdGhpcy5wYXJhbVBhcnRoZXI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgbmFtZTogc3RlcE9uZVswXSwKICAgICAgICAgICAgICAgICAgbW9iaWxlOiB0aGlzLnJlbW92ZU1hc2soc3RlcE9uZVsxXSksCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBzdGVwT25lWzJdLAogICAgICAgICAgICAgICAgICBkZXZpY2VfaWQ6IHRoaXMuZGV2aWNlSWQsCiAgICAgICAgICAgICAgICAgIGF1dGg6IDIsCiAgICAgICAgICAgICAgICAgIG9wdF9pbjogc3RlcE9uZVRlcm1zLm9wdEluLAogICAgICAgICAgICAgICAgICBwYXJ0bmVyOiBwYXJ0bmVyLAogICAgICAgICAgICAgICAgICBvYnNlcnZlcjogb2JzZXJ2ZXIsCiAgICAgICAgICAgICAgICAgIHVwZGF0ZTogdGhpcy5pc1VwZGF0ZSwKICAgICAgICAgICAgICAgICAgb3JpZ2luX2J5X3dheTogdGhpcy5vcmlnaW5CeVdheQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3JpZ2luQnlXYXkpIHsKICAgICAgICAgICAgICAgICAgZGVsZXRlIGRhdGEub3JpZ2luX2J5X3dheTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJTZXJ2aWNlLmNyZWF0ZVJlZ2lzdGVyU2VsbGVyKGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gX2NvbnRleHQ1LnQwID09PSAyMDEgPyAxNSA6IF9jb250ZXh0NS50MCA9PT0gNDAwID8gMTcgOiBfY29udGV4dDUudDAgPT09IDQwNCA/IDE3IDogX2NvbnRleHQ1LnQwID09PSA0MjMgPyAxNyA6IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICB0aGlzLmNvZGVMb2dpblNlbGxlcihjb2RlKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJicmVhayIsIDIzKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgZXJyb3IgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGVycm9yKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW9iaWxlJzoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRIZWxwKF90aGlzNC5zdGVwMSwgMSwgZXJyb3IubW9iaWxlWzBdLCAnaW52YWxpZCcpOwoKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBjYXNlICdlbWFpbCc6CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0SGVscChfdGhpczQuc3RlcDEsIDIsIGVycm9yLmVtYWlsWzBdLCAnaW52YWxpZCcpOwoKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMubG9naW5TZWxsZXIoKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJicmVhayIsIDIzKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNpZ251cFNlbGxlcihfeCkgewogICAgICAgIHJldHVybiBfc2lnbnVwU2VsbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzaWdudXBTZWxsZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJsb2dpblNlbGxlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvZ2luU2VsbGVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgc3RlcE9uZSwgc3RlcE9uZVRlcm1zLCByZXNwb25zZSwgZXJyb3I7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0ZXBPbmUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGVwT25lJykgfHwgJycpOwogICAgICAgICAgICAgICAgc3RlcE9uZVRlcm1zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RlcE9uZVRlcm1zJykgfHwgJycpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJTZXJ2aWNlLmxvZ2luU2VsbGVyKHsKICAgICAgICAgICAgICAgICAgbmFtZTogc3RlcE9uZVswXSwKICAgICAgICAgICAgICAgICAgbW9iaWxlOiB0aGlzLnJlbW92ZU1hc2soc3RlcE9uZVsxXSksCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBzdGVwT25lWzJdLAogICAgICAgICAgICAgICAgICBkZXZpY2VfaWQ6IHRoaXMuZGV2aWNlSWQsCiAgICAgICAgICAgICAgICAgIGF1dGg6IDIsCiAgICAgICAgICAgICAgICAgIG9wdF9pbjogc3RlcE9uZVRlcm1zLm9wdEluCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MCA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gX2NvbnRleHQ2LnQwID09PSAyMDAgPyA4IDogX2NvbnRleHQ2LnQwID09PSAyMDEgPyA4IDogX2NvbnRleHQ2LnQwID09PSAyMDIgPyA4IDogX2NvbnRleHQ2LnQwID09PSA0MDAgPyAxMCA6IF9jb250ZXh0Ni50MCA9PT0gNDA0ID8gMTAgOiBfY29udGV4dDYudDAgPT09IDQyMyA/IDEwIDogMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgdGhpcy5vcGVuVmVyaWZpY2F0aW9uQ29kZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoImJyZWFrIiwgMTUpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBlcnJvciA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UoJ2Vycm9yJywgZXJyb3IuZGV0YWlsID8gZXJyb3IuZGV0YWlsIDogZXJyb3IpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoImJyZWFrIiwgMTUpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9naW5TZWxsZXIoKSB7CiAgICAgICAgcmV0dXJuIF9sb2dpblNlbGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbG9naW5TZWxsZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjb25maXJtQ29kZVNlbGxlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NvbmZpcm1Db2RlU2VsbGVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhjb2RlKSB7CiAgICAgICAgdmFyIHN0ZXBPbmUsIHJlc3BvbnNlLCBlcnJvcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RlcE9uZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0ZXBPbmUnKSB8fCAnJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclNlcnZpY2UuY29uZmlybU1vYmlsZUNvZGUodGhpcy5yZW1vdmVNYXNrKHN0ZXBPbmVbMV0pLCB0aGlzLmRldmljZUlkLCAyLCBjb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCItLS1yZXNwb25zZSBjb25maXJtQ29kZVNlbGxlci0tLSIsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gX2NvbnRleHQ3LnQwID09PSAyMDAgPyA4IDogX2NvbnRleHQ3LnQwID09PSAyMDEgPyA4IDogX2NvbnRleHQ3LnQwID09PSAyMDIgPyA4IDogX2NvbnRleHQ3LnQwID09PSA0MDAgPyAxMCA6IF9jb250ZXh0Ny50MCA9PT0gNDA0ID8gMTAgOiBfY29udGV4dDcudDAgPT09IDQyMyA/IDEwIDogMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgdGhpcy5zaWdudXBTZWxsZXIoY29kZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgiYnJlYWsiLCAxNik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGVycm9yID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnRvYXN0TWVzc2FnZSgnZXJyb3InLCBlcnJvci5kZXRhaWwgPyBlcnJvci5kZXRhaWwgOiBlcnJvcik7CiAgICAgICAgICAgICAgICB0aGlzLnNldFN0ZXBzR2EoJ1Rva2VuIGVycmFkbycpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoImJyZWFrIiwgMTYpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY29uZmlybUNvZGVTZWxsZXIoX3gyKSB7CiAgICAgICAgcmV0dXJuIF9jb25maXJtQ29kZVNlbGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY29uZmlybUNvZGVTZWxsZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjb2RlTG9naW5TZWxsZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jb2RlTG9naW5TZWxsZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KGNvZGUpIHsKICAgICAgICB2YXIgc3RlcE9uZSwgcmVzcG9uc2UsIGRhdGEsIGVycm9yOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGVwT25lID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RlcE9uZScpIHx8ICcnKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS5jb2RlTG9naW5TZWxsZXIoewogICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5yZW1vdmVNYXNrKHN0ZXBPbmVbMV0pLAogICAgICAgICAgICAgICAgICBjb2RlOiBjb2RlLAogICAgICAgICAgICAgICAgICBkZXZpY2VfaWQ6IHRoaXMuZGV2aWNlSWQsCiAgICAgICAgICAgICAgICAgIGF1dGg6IDIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInJlc3BvbnNlIGNvZGVMb2dpblNlbGxlciIsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gX2NvbnRleHQ4LnQwID09PSAyMDAgPyA4IDogX2NvbnRleHQ4LnQwID09PSAyMDEgPyA4IDogX2NvbnRleHQ4LnQwID09PSAyMDIgPyA4IDogX2NvbnRleHQ4LnQwID09PSA0MDAgPyAxNyA6IF9jb250ZXh0OC50MCA9PT0gNDA0ID8gMTcgOiBfY29udGV4dDgudDAgPT09IDQyMyA/IDE3IDogMjM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGVydGluaG8nLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7CiAgICAgICAgICAgICAgICBVc2VyU3RvcmFnZS5zYXZlRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSk7CiAgICAgICAgICAgICAgICB0aGlzLmdldFVzZXIoKTsKICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VWZXJpZmljYXRpb25Db2RlKCk7CiAgICAgICAgICAgICAgICB0aGlzLnNldFN0ZXBzR2EoJ0NvbmZpcm1hw6fDo28gZGUgdG9rZW4nKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJicmVhayIsIDIzKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgZXJyb3IgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIHRoaXMudG9hc3RNZXNzYWdlKCdlcnJvcicsIGVycm9yLmRldGFpbCA/IGVycm9yLmRldGFpbCA6IGVycm9yKTsKICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RlcHNHYSgnVG9rZW4gZXJyYWRvJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgiYnJlYWsiLCAyMyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjb2RlTG9naW5TZWxsZXIoX3gzKSB7CiAgICAgICAgcmV0dXJuIF9jb2RlTG9naW5TZWxsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNvZGVMb2dpblNlbGxlcjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldFVzZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIGRhdGEsIGxvZ2dlZFVzZXIsIGVycm9yOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9kdWN0c1NlcnZpY2UuZ2V0UHJvZGN1dHNBbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDkuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS50MCA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gX2NvbnRleHQ5LnQwID09PSAyMDAgPyA2IDogX2NvbnRleHQ5LnQwID09PSAyMDEgPyA2IDogX2NvbnRleHQ5LnQwID09PSAyMDIgPyA2IDogX2NvbnRleHQ5LnQwID09PSA0MDAgPyAxNCA6IF9jb250ZXh0OS50MCA9PT0gNDA0ID8gMTQgOiBfY29udGV4dDkudDAgPT09IDQyMyA/IDE0IDogMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xvZ2dlZFVzZXInLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7CiAgICAgICAgICAgICAgICBsb2dnZWRVc2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9nZ2VkVXNlcicpIHx8ICcnKTsKICAgICAgICAgICAgICAgIHRoaXMudG9hc3RNZXNzYWdlKCdzdWNjZXNzJywgIkJlbSB2aW5kbywgIi5jb25jYXQobG9nZ2VkVXNlci5uYW1lLCAiISIpKTsKICAgICAgICAgICAgICAgIGRhdGEuYWNjb3VudF9zdGF0dXMgIT09ICdGJyA/IHRoaXMuc2V0U3RlcCh0aGlzLmNvbnZlcnRBY2NvdW50U3RhdHVzVG9TdGVwcyhkYXRhLmFjY291bnRfc3RhdHVzKSkgOiB0aGlzLnNldFN0ZXAoJ3R3bycpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoImJyZWFrIiwgMTkpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBlcnJvciA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UoJ2Vycm9yJywgZXJyb3IuZGV0YWlsID8gZXJyb3IuZGV0YWlsIDogZXJyb3IpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoImJyZWFrIiwgMTkpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0VXNlcigpIHsKICAgICAgICByZXR1cm4gX2dldFVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFVzZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVSZWdpc3RlclNlbGxlckFkZHJlc3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jcmVhdGVSZWdpc3RlclNlbGxlckFkZHJlc3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgYWRkcmVzcywgbXlMYXRsbmcsIHBlcnRpbmhvLCByZXNwb25zZSwgZXJyb3I7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhZGRyZXNzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RlcFR3b0FkZHJlc3MnKSB8fCAnJyk7CiAgICAgICAgICAgICAgICBteUxhdGxuZyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhdGxuZycpIHx8ICcnKTsKICAgICAgICAgICAgICAgIGFkZHJlc3MubGF0ID0gbXlMYXRsbmcubGF0OwogICAgICAgICAgICAgICAgYWRkcmVzcy5sbmcgPSBteUxhdGxuZy5sbmc7CiAgICAgICAgICAgICAgICBwZXJ0aW5obyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlcnRpbmhvJykgfHwgJycpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS5jcmVhdGVSZWdpc3RlclNlbGxlckFkZHJlc3MoYWRkcmVzcywgcGVydGluaG8pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAudDAgPSByZXNwb25zZS5zdGF0dXM7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSBfY29udGV4dDEwLnQwID09PSAyMDEgPyAxMSA6IF9jb250ZXh0MTAudDAgPT09IDQwMCA/IDEzIDogX2NvbnRleHQxMC50MCA9PT0gNDA0ID8gMTMgOiBfY29udGV4dDEwLnQwID09PSA0MjMgPyAxMyA6IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICB0aGlzLnNldFN0ZXAoJ3RocmVlJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgZXJyb3IgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnRvYXN0TWVzc2FnZSgnZXJyb3InLCBlcnJvci5kZXRhaWwgPyBlcnJvci5kZXRhaWwgOiBlcnJvcik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoImJyZWFrIiwgMTgpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjcmVhdGVSZWdpc3RlclNlbGxlckFkZHJlc3MoKSB7CiAgICAgICAgcmV0dXJuIF9jcmVhdGVSZWdpc3RlclNlbGxlckFkZHJlc3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNyZWF0ZVJlZ2lzdGVyU2VsbGVyQWRkcmVzczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNyZWF0ZVJlZ2lzdGVyU2VsbGVyQ2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jcmVhdGVSZWdpc3RlclNlbGxlckNhdGVnb3J5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgdmFyIHN0ZXBUaHJlZSwgcGVydGluaG8sIHJlc3BvbnNlLCBlcnJvcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0ZXBUaHJlZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0ZXBUaHJlZScpIHx8ICcnKTsKICAgICAgICAgICAgICAgIHN0ZXBUaHJlZVs0XSA/IHRoaXMuc3RlcDRbMl0uc2hvd0lucHV0ID0gZmFsc2UgOiB0aGlzLnN0ZXA0WzJdLnNob3dJbnB1dCA9IHRydWU7CiAgICAgICAgICAgICAgICBwZXJ0aW5obyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlcnRpbmhvJykgfHwgJycpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS5jcmVhdGVSZWdpc3RlclNlbGxlckNhdGVnb3J5KHsKICAgICAgICAgICAgICAgICAgY25hZTogc3RlcFRocmVlWzFdLmNuYWUKICAgICAgICAgICAgICAgIH0sIHBlcnRpbmhvKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnQwID0gcmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gX2NvbnRleHQxMS50MCA9PT0gMjAxID8gOSA6IF9jb250ZXh0MTEudDAgPT09IDQwMCA/IDExIDogX2NvbnRleHQxMS50MCA9PT0gNDA0ID8gMTEgOiBfY29udGV4dDExLnQwID09PSA0MjMgPyAxMSA6IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmVnaXN0ZXJTZWxsZXIoewogICAgICAgICAgICAgICAgICBhYm91dDogc3RlcFRocmVlWzJdLAogICAgICAgICAgICAgICAgICBzaXplOiBzdGVwVGhyZWVbM10uaWQsCiAgICAgICAgICAgICAgICAgIGRvY3VtZW50OiBzdGVwVGhyZWVbNF0KICAgICAgICAgICAgICAgIH0sICdmb3VyJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoImJyZWFrIiwgMTYpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgZXJyb3IgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnRvYXN0TWVzc2FnZSgnZXJyb3InLCBlcnJvci5kZXRhaWwgPyBlcnJvci5kZXRhaWwgOiBlcnJvcik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoImJyZWFrIiwgMTYpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjcmVhdGVSZWdpc3RlclNlbGxlckNhdGVnb3J5KCkgewogICAgICAgIHJldHVybiBfY3JlYXRlUmVnaXN0ZXJTZWxsZXJDYXRlZ29yeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY3JlYXRlUmVnaXN0ZXJTZWxsZXJDYXRlZ29yeTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInVwZGF0ZVJlZ2lzdGVyU2VsbGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdXBkYXRlUmVnaXN0ZXJTZWxsZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMihyZXNnaXN0ZXIsIG5leHRTdGVwKSB7CiAgICAgICAgdmFyIHBlcnRpbmhvLCByZXNwb25zZSwgZXJyb3I7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwZXJ0aW5obyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlcnRpbmhvJykgfHwgJycpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS51cGRhdGVSZWdpc3RlclNlbGxlcihyZXNnaXN0ZXIsIHBlcnRpbmhvKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDEyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnQwID0gcmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gX2NvbnRleHQxMi50MCA9PT0gMjAxID8gNyA6IF9jb250ZXh0MTIudDAgPT09IDIwMiA/IDcgOiBfY29udGV4dDEyLnQwID09PSA0MDAgPyAxMCA6IF9jb250ZXh0MTIudDAgPT09IDQwNCA/IDEwIDogX2NvbnRleHQxMi50MCA9PT0gNDIzID8gMTAgOiAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICB0aGlzLnNldFN0ZXAobmV4dFN0ZXApOwoKICAgICAgICAgICAgICAgIGlmIChuZXh0U3RlcCA9PT0gJ2ZpdmUnKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RlcHNHYSgnRmluYWxpem91IGNhZGFzdHJvJyk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdGVwT25lJyk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdGVwVHdvJyk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdGVwVGhyZWUnKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3N0ZXBGb3VyJyk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdGVwZm9ybScpOwogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc3RlcFR3b0FkZHJlc3MnKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xhdGxuZycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgiYnJlYWsiLCAxNSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBlcnJvciA9IF9jb250ZXh0MTIuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMudG9hc3RNZXNzYWdlKCdlcnJvcicsIGVycm9yKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgiYnJlYWsiLCAxNSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVJlZ2lzdGVyU2VsbGVyKF94NCwgX3g1KSB7CiAgICAgICAgcmV0dXJuIF91cGRhdGVSZWdpc3RlclNlbGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXBkYXRlUmVnaXN0ZXJTZWxsZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJzZXRIZWxwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRIZWxwKHN0ZXAsIGluZGV4LCBoZWxwTXNnLCB0eXBlKSB7CiAgICAgIHN0ZXBbaW5kZXhdLmhlbHAgPSBoZWxwTXNnOwoKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAndmFsaWQnOgogICAgICAgICAgc3RlcFtpbmRleF0uY2xhc3NIZWxwID0gJ2Zvcm0tdGV4dCB2YWxpZC1mZWVkYmFjayc7CiAgICAgICAgICBzdGVwW2luZGV4XS5jbGFzc0lucHV0ID0gJ2Zvcm0tY29udHJvbCBpcy12YWxpZCc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnaW52YWxpZCc6CiAgICAgICAgICBzdGVwW2luZGV4XS5jbGFzc0hlbHAgPSAnZm9ybS10ZXh0IGludmFsaWQtZmVlZGJhY2snOwogICAgICAgICAgc3RlcFtpbmRleF0uY2xhc3NJbnB1dCA9ICdmb3JtLWNvbnRyb2wgaXMtaW52YWxpZCc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnbm9ybWFsJzoKICAgICAgICAgIHN0ZXBbaW5kZXhdLmNsYXNzSGVscCA9ICdmb3JtLXRleHQgdGV4dC1tdXRlZCc7CiAgICAgICAgICBzdGVwW2luZGV4XS5jbGFzc0lucHV0ID0gJ2Zvcm0tY29udHJvbCc7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZU1hc2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZU1hc2sobW9iaWxlKSB7CiAgICAgIHJldHVybiBtb2JpbGUucmVwbGFjZSgvW14wLTldL2csICcnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyYW5kb21OdW1iZXJMZXR0ZXJzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByYW5kb21OdW1iZXJMZXR0ZXJzKCkgewogICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBuID0gZC5nZXRUaW1lKCk7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2NTUzNikgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtel0rL2csICcnKS5zdWJzdHIoMCwgNSkgKyAnUEVSVElOSE8nICsgbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc01vYmlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNNb2JpbGUoKSB7CiAgICAgIHJldHVybiBCb29sZWFuKC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0VmVyaWZpY2F0aW9uQ29kZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmVyaWZpY2F0aW9uQ29kZSgpIHsKICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGVwT25lJykpIHsKICAgICAgICB2YXIgc3RlcE9uZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0ZXBPbmUnKSB8fCAnJyk7CiAgICAgICAgdGhpcy5idXNpbmVzc05hbWUgPSBzdGVwT25lWzBdOwogICAgICAgIHRoaXMucGhvbmUgPSBzdGVwT25lWzFdOwogICAgICAgIHRoaXMuZW1haWwgPSBzdGVwT25lWzJdOwogICAgICB9CgogICAgICBpZiAodGhpcy52YWxpZGF0ZUZpcnN0U3RlcCgpKSB7CiAgICAgICAgdGhpcy5jb25maXJtTW9iaWxlKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZUZpcnN0U3RlcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGVGaXJzdFN0ZXAoKSB7CiAgICAgIHZhciBzdGVwT25lVGVybXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGVwT25lVGVybXMnKSB8fCAnJyk7CgogICAgICBpZiAoIXRoaXMuYnVzaW5lc3NOYW1lKSB7CiAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UoJ2Vycm9yJywgIlBvciBmYXZvciBkZXZlIHByZWVuY2hlciBvIGNhbXBvIG5vbWUgZGEgZW1wcmVzYSIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnBob25lKSB7CiAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UoJ2Vycm9yJywgIlBvciBmYXZvciBkZXZlIHByZWVuY2hlciBvIGNhbXBvIHRlbGVmb25lIik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuZW1haWwpIHsKICAgICAgICB0aGlzLnRvYXN0TWVzc2FnZSgnZXJyb3InLCAiUG9yIGZhdm9yIGRldmUgcHJlZW5jaGVyIG8gY2FtcG8gRS1tYWlsIik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAoIXN0ZXBPbmVUZXJtcy50ZXJtcykgewogICAgICAgIHRoaXMudG9hc3RNZXNzYWdlKCdlcnJvcicsICJQb3IgZmF2b3IgZGV2ZSBhY2VpdGFyIG9zIHRlcm1vcyBlIHBvbMOtdGljYXMgZGUgcHJpdmFjaWRhZGUiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbmZpcm1Nb2JpbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jb25maXJtTW9iaWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICAgIHZhciByZXNwb25zZSwgZXJyb3I7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJTZXJ2aWNlLmNvbmZpcm1Nb2JpbGUodGhpcy5waG9uZSwgdGhpcy5lbWFpbCwgdGhpcy5kZXZpY2VJZCwgMik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMy5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy50MCA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IF9jb250ZXh0MTMudDAgPT09IDIwMSA/IDYgOiBfY29udGV4dDEzLnQwID09PSA0MDAgPyA4IDogX2NvbnRleHQxMy50MCA9PT0gNDA0ID8gOCA6IF9jb250ZXh0MTMudDAgPT09IDQyMyA/IDggOiAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICB0aGlzLm9wZW5WZXJpZmljYXRpb25Db2RlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoImJyZWFrIiwgMTQpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBlcnJvciA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGVycm9yKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW9iaWxlJzoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zZXRIZWxwKF90aGlzNS5zdGVwMSwgMSwgZXJyb3IubW9iaWxlWzBdLCAnaW52YWxpZCcpOwoKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBjYXNlICdlbWFpbCc6CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuc2V0SGVscChfdGhpczUuc3RlcDEsIDIsIGVycm9yLmVtYWlsWzBdLCAnaW52YWxpZCcpOwoKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMubG9naW5TZWxsZXIoKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdCgiYnJlYWsiLCAxNCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNvbmZpcm1Nb2JpbGUoKSB7CiAgICAgICAgcmV0dXJuIF9jb25maXJtTW9iaWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb25maXJtTW9iaWxlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAic3RvcmFnZVN0ZXBDdXJyZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9yYWdlU3RlcEN1cnJlbnQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzdGVwZm9ybScsIHRoaXMuc3RlcCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RvcmFnZUlucHV0c1N0ZXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3JhZ2VJbnB1dHNTdGVwKHN0ZXAsIGlucHV0c01vZGVsKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0ZXAsIEpTT04uc3RyaW5naWZ5KGlucHV0c01vZGVsKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0TW9kZWxzQXJyYXlJbnB1dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TW9kZWxzQXJyYXlJbnB1dChzdGVwLCBhcnJheUlucHV0cykgewogICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RlcCkpIHsKICAgICAgICByZXR1cm4gYXJyYXlJbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAoaW5wdXQsIGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gaW5wdXQubW9kZWwgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0ZXApIHx8ICcnKVtpbmRleF07CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcGVuT3B0SW5Nb2RhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb3Blbk9wdEluTW9kYWwoKSB7CiAgICAgIHRoaXMuc2hvd09wdEluID0gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9zZU9wdEluTW9kYWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlT3B0SW5Nb2RhbCgpIHsKICAgICAgdGhpcy5zaG93T3B0SW4gPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRPcHRJbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0SW4ob3B0SW4pIHsKICAgICAgdGhpcy5vcHRJbiA9IG9wdEluOwogICAgfQogIH0sIHsKICAgIGtleTogIm9wZW5WZXJpZmljYXRpb25Db2RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuVmVyaWZpY2F0aW9uQ29kZSgpIHsKICAgICAgdGhpcy5zaG93VmVyaWZpY2F0aW9uQ29kZSA9IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xvc2VWZXJpZmljYXRpb25Db2RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZVZlcmlmaWNhdGlvbkNvZGUoKSB7CiAgICAgIHRoaXMuc2hvd1ZlcmlmaWNhdGlvbkNvZGUgPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcGVuTWFwQWRkcmVzcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb3Blbk1hcEFkZHJlc3MoKSB7CiAgICAgIHRoaXMuc2hvd01hcEFkZHJlc3MgPSB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImNsb3NlTWFwQWRkcmVzcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VNYXBBZGRyZXNzKCkgewogICAgICB0aGlzLnNob3dNYXBBZGRyZXNzID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVmcmVzaENvZGVDb25maXJtIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoQ29kZUNvbmZpcm0oKSB7CiAgICAgIHRoaXMubG9naW5TZWxsZXIoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb2RlQ29uZmlybSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29kZUNvbmZpcm0oY29kZSkgewogICAgICBjb25zb2xlLmxvZygic3Nzc3MiKTsgLy8gdGhpcy5jb2RlTG9naW5TZWxsZXIoY29kZSk7CgogICAgICB0aGlzLmNvbmZpcm1Db2RlU2VsbGVyKGNvZGUpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVVzZXJQaG9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVXNlclBob25lKCkgewogICAgICB0aGlzLmlzVXBkYXRlID0gdHJ1ZTsKICAgICAgdGhpcy5zaG93VmVyaWZpY2F0aW9uQ29kZSA9IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbnZlcnRBY2NvdW50U3RhdHVzVG9TdGVwcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29udmVydEFjY291bnRTdGF0dXNUb1N0ZXBzKGFjY291bnRTdGF0dXMpIHsKICAgICAgdmFyIHN0ZXAgPSAnb25lJzsKCiAgICAgIHN3aXRjaCAoYWNjb3VudFN0YXR1cykgewogICAgICAgIGNhc2UgJ1AnOgogICAgICAgICAgc3RlcCA9ICdvbmUnOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ0UnOgogICAgICAgICAgc3RlcCA9ICd0d28nOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ0MnOgogICAgICAgICAgc3RlcCA9ICd0aHJlZSc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnRCc6CiAgICAgICAgICBzdGVwID0gJ2ZvdXInOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ0YnOgogICAgICAgICAgc3RlcCA9ICdmaXZlJzsKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICByZXR1cm4gc3RlcDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b2FzdE1lc3NhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvYXN0TWVzc2FnZSh0eXBlLCB0aXRsZSkgewogICAgICBWdWVTaW1wbGVBbGVydC5maXJlKHsKICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICB0aW1lcjogNTAwMCwKICAgICAgICBvbk9wZW46IGZ1bmN0aW9uIG9uT3Blbih0b2FzdCkgewogICAgICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIFN3YWwuc3RvcFRpbWVyKSwgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIFN3YWwucmVzdW1lVGltZXIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUmVnaXN0ZXJTZWxsZXI7Cn0oVnVlKTsKClJlZ2lzdGVyU2VsbGVyID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHt9KV0sIFJlZ2lzdGVyU2VsbGVyKTsKZXhwb3J0IHsgUmVnaXN0ZXJTZWxsZXIgfTs="},{"version":3,"sources":["/home/aline/AstaPrecifique/src/views/Register-Seller/register-seller.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Vue }               from 'vue-property-decorator';\nimport Swal, { SweetAlertType }         from 'sweetalert2';\nimport VueSimpleAlert                   from 'vue-simple-alert';\n\nimport { STEP1, STEP2, STEP3, STEP4 }   from './register-seller-steps';\nimport { InputForms, TypeHelp }         from '@/models/inputForms';\n\nimport RegisterSellerService            from '@/services/register.service';\nimport UserStorage                      from '@/services/UserStorage';\nimport productsService                  from '@/services/products.service';\nimport { listStatusSellerValid } from '@/environments/list_status_valid';\nimport getUtmCookie from \"@/helpers/getUtmCookie\";\nimport {ListCategories} from \"@/models/category\";\n\nimport { Device } from '@capacitor/device';\n\n@Component({})\nexport class RegisterSeller extends Vue {\n\n    public titlePage: string = 'Faa o cadastro do seu negcio.  grtis!';\n    public stepDefaul: string = '';\n    public paramParther: string = '';\n    public originByWay: string = '';\n\n    public step: string = '';\n    public step1: InputForms[] = STEP1;\n    public step2: InputForms[] = STEP2;\n    public step3: InputForms[] = STEP3;\n    public step4: InputForms[] = STEP4;\n    public optIn: string = 'phone';\n    public refresh: boolean = false;\n    public businessName: string = '';\n    public email: string = '';\n    public phone: string = '';\n    public verificationType: string = '';\n    public nextDisabled: boolean = false;\n    public prevDisabled: boolean = true;\n    public hasCpf: boolean = false;\n    public deviceId: string = '';\n    public subCategories: ListCategories[] = [];\n    public isRegister: boolean = false;\n\n    public showOptIn: boolean = false;\n    public showVerificationCode: boolean = false;\n    public showMapAddress: boolean = false;\n    public isUpdate: boolean = false;\n\n    private registerService = new RegisterSellerService();\n    private productsService = new productsService();\n\n    public stepToNumber = {\n      \"one\": 1,\n      \"two\": 2,\n      \"three\": 3,\n      \"four\": 4,\n      \"five\": 5,\n    };\n\n    constructor() {\n        super();\n    }\n\n    created() {\n        this.stepDefaul = this.$route.query.etapa as string;\n        this.$route.query.parceiro\n            ? this.paramParther = this.$route.query.parceiro as string\n            : this.paramParther = '';\n\n        this.getChoicesGender();\n        this.getChoicesSellersize();\n        this.getListCategories();\n        this.getStepForms();\n        this.getStepOneTerms();\n    }\n\n    mounted() {\n        this.setDeviceId();\n        this.originByWay = getUtmCookie();\n        const data = localStorage.getItem('loggedUser');\n        if (data) {\n            const statusSellerAccount = JSON.parse(data);\n            if (!listStatusSellerValid.includes(statusSellerAccount.account_status)) {\n                this.$router.push(`quero-vender?etapa=${statusSellerAccount.account_status}`);\n            } else {\n                this.$router.push(`dashboard`);\n            }\n        }\n        this.isRegister = true;\n    }\n\n    private getStepForms() {\n        (this.stepDefaul)\n            ? this.setStep(this.convertAccountStatusToSteps(this.stepDefaul))\n            : (localStorage.getItem('stepform'))\n                ? this.setStep(localStorage.getItem('stepform') as string)\n                : this.setStep('one');\n    }\n\n    public getStepOneTerms() {\n        const stepOneTerms = localStorage.getItem('stepOneTerms') ? localStorage.getItem('stepOneTerms') : '';\n        if (stepOneTerms) {\n            this.nextDisabled = JSON.parse(stepOneTerms).terms;\n        }\n    }\n\n    public setNextDisabled(value: boolean) {\n        this.nextDisabled = value;\n    }\n\n    private async getChoicesGender() {\n        const response = await this.registerService.getChoicesGender();\n        switch (response.status) {\n            case 200:\n            case 201:\n            case 202:\n                const data = await response.json();\n                this.step4[1].options = [];\n                data.map((seller: any[]) => {\n                    if (this.step4[1].options) {\n                        this.step4[1].options.push({ id: seller[0], label: `${seller[0]} - ${seller[1]}` });\n                    }\n                });\n                break;\n        }\n    }\n\n    private async getChoicesSellersize() {\n        const response = await this.registerService.getChoicesSellersize();\n        switch (response.status) {\n            case 200:\n            case 201:\n            case 202:\n                const data = await response.json();\n                this.step3[2].options = [];\n                data.map((seller: any[]) => {\n                    if (this.step3[3].options) {\n                        this.step3[3].options.push({ id: seller[0], label: `${seller[0]} - ${seller[1]}` });\n                    }\n                });\n                break;\n        }\n    }\n\n    private async getListCategories() {\n        const response = await this.registerService.getListCategories();\n        switch (response.status) {\n            case 200:\n            case 201:\n            case 202:\n                const data = await response.json();\n                this.subCategories = data;\n                this.step3[0].options = data.map(category => {\n                    return {\n                        id: category.name,\n                        label: category.name,\n                    }\n                });\n                break;\n        }\n    }\n\n    private setStep(step: string) {\n        this.step = step;\n        this.storageStepCurrent();\n        this.setStorageModelSteps();\n        this.setStepTitle();\n    }\n\n    private setStorageModelSteps() {\n        switch (this.step) {\n            case 'one':\n                this.setModelsArrayInput('stepOne', this.step1);\n                break;\n                case 'two':\n                this.setModelsArrayInput('stepTwo', this.step2);\n                break;\n            case 'three':\n                this.setModelsArrayInput('stepThree', this.step3);\n                break;\n            case 'four':\n                this.setModelsArrayInput('stepFour', this.step4);\n                break;\n        }\n    }\n\n    public prevStep() {\n        switch (this.step) {\n            case 'two':\n                this.setStep('one');\n                break;\n            case 'three':\n                this.setStep('two');\n                break;\n            case 'four':\n                this.setStep('three');\n                break;\n            case 'five':\n                this.setStep('four');\n                break;\n        }\n    }\n\n    public nextStep() {\n        switch (this.step) {\n            case 'one':\n                this.setVerificationCode();\n                this.setStepsGa('Informaes de contato');\n                // this.setStep('two');\n                break;\n            case 'two':\n                // this.createRegisterSellerAddress();\n                this.openMapAddress();\n                this.setStepsGa('Localizao da empresa');\n                // this.setStep('three');\n                break;\n            case 'three':\n                this.createRegisterSellerCategory();\n                this.setStepsGa('Categoria da empresa');\n                this.prevDisabled = true;\n                // this.setStep('four');\n                break;\n            case 'four':\n                let stepThree = {};\n                let stepFour = {};\n                if (localStorage.getItem('stepThree')) {\n                    stepThree = JSON.parse(localStorage.getItem('stepThree') || '');\n                }\n                if (localStorage.getItem('stepFour')) {\n                    stepFour = JSON.parse(localStorage.getItem('stepFour') || '');\n                }\n                this.updateRegisterSeller({\n                    seller_name: stepFour[0],\n                    gender: stepFour[1].id,\n                    document: stepFour[2] ? stepFour[2] : stepThree[4],\n                }, 'five');\n                this.prevDisabled = true;\n                this.setStepsGa('Dados Pessoais');\n                // this.setStep('five');\n                break;\n        }\n    }\n\n    public confirmAddressMap() {\n        this.createRegisterSellerAddress();\n        this.closeMapAddress();\n    }\n\n    private setStepTitle() {\n        switch (this.step) {\n            case 'one':\n                this.titlePage = 'Faa o cadastro do seu negcio.  grtis!';\n                break;\n            case 'two':\n                this.titlePage = 'Conta pra gente onde fica seu negcio!';\n                break;\n            case 'three':\n                this.titlePage = 'Agora, precisamos saber um pouco sobre seu negcio!';\n                break;\n                case 'four':\n                this.titlePage = 'Falta pouco! Conte mais sobre voc.';\n                break;\n            case 'five':\n                this.titlePage = 'Que bom que voc est na Pertinho de Casa!';\n                break;\n        }\n    }\n\n    private async setDeviceId() {\n        const device_id = (await Device.getId()).uuid;\n        this.deviceId =  device_id;\n        localStorage.setItem('device_id', JSON.stringify(device_id));\n    }\n\n    //Aqui faz o register\n    private async signupSeller(code: string) {\n        const stepOne = JSON.parse(localStorage.getItem('stepOne') || '');\n        const stepOneTerms = JSON.parse(localStorage.getItem('stepOneTerms') || '');\n        let partherData;\n\n        if (localStorage.getItem('parther')) {\n            partherData = JSON.parse(localStorage.getItem('parther') || '');\n        }\n\n        if (stepOne && stepOneTerms) {\n            let partner = '';\n            let observer = '';\n\n            if (this.paramParther === 'gastromotiva') {\n                partner = partherData ? partherData[0].id : '';\n                observer = partherData ? partherData[1] : '';\n            } else if (this.paramParther === 'oi') {\n                partner = 'oi';\n                observer = partherData[0].label === 'Outros' ? `Outros-${partherData[1]}` : partherData[0].label;\n            } else if (this.paramParther) {\n                partner = this.paramParther;\n            }\n\n            const data = {\n                name: stepOne[0],\n                mobile: this.removeMask(stepOne[1]),\n                email: stepOne[2],\n                device_id: this.deviceId,\n                auth: 2,\n                opt_in: stepOneTerms.optIn,\n                partner,\n                observer,\n                update: this.isUpdate,\n                origin_by_way: this.originByWay\n            }\n\n            if (!this.originByWay) {\n                delete data.origin_by_way;\n            }\n\n            const response = await this.registerService.createRegisterSeller(data);\n            switch (response.status) {\n                case 201:\n                    this.codeLoginSeller(code);\n                    break;\n                case 400:\n                case 404:\n                case 423:\n                    const error = await response.json();\n                    Object.keys(error).forEach(value => {\n                        switch (value) {\n                            case 'mobile':\n                                this.setHelp(this.step1, 1, error.mobile[0], 'invalid');\n                                break;\n                            case 'email':\n                                this.setHelp(this.step1, 2, error.email[0], 'invalid');\n                                break;\n                        }\n                    });\n                    this.loginSeller();\n                    break;\n            }\n        }\n    }\n\n    private async loginSeller() {\n        const stepOne = JSON.parse(localStorage.getItem('stepOne') || '');\n        const stepOneTerms = JSON.parse(localStorage.getItem('stepOneTerms') || '');\n        const response = await this.registerService.loginSeller({\n            name: stepOne[0],\n            mobile: this.removeMask(stepOne[1]),\n            email: stepOne[2],\n            device_id: this.deviceId,\n            auth: 2,\n            opt_in: stepOneTerms.optIn,\n        });\n        switch (response.status) {\n            case 200:\n            case 201:\n            case 202:\n                this.openVerificationCode();\n                break;\n            case 400:\n            case 404:\n            case 423:\n                const error = await response.json();\n                this.toastMessage('error', error.detail ? error.detail : error);\n                break;\n        }\n    }\n\n    private async confirmCodeSeller(code: string){\n        const stepOne = JSON.parse(localStorage.getItem('stepOne') || '');\n        const response = await this.registerService.confirmMobileCode(this.removeMask(stepOne[1]), this.deviceId, 2, code);\n        console.log(\"---response confirmCodeSeller---\", response)\n        switch (response.status) {\n            case 200:\n            case 201:\n            case 202:\n                this.signupSeller(code)\n                break;\n            case 400:\n            case 404:\n            case 423:\n                const error = await response.json();\n                this.toastMessage('error', error.detail ? error.detail : error);\n                this.setStepsGa('Token errado');\n                break;\n        }\n    }\n\n    private async codeLoginSeller(code: string) {        \n        const stepOne = JSON.parse(localStorage.getItem('stepOne') || '');\n        const response = await this.registerService.codeLoginSeller({\n            email: this.removeMask(stepOne[1]),\n            code,\n            device_id: this.deviceId,\n            auth: 2,\n        });\n        console.log(\"response codeLoginSeller\", response)\n        switch (response.status) {\n            case 200:\n            case 201:\n            case 202:\n                const data = await response.json();\n                localStorage.setItem('pertinho', JSON.stringify(data));\n                UserStorage.saveData(JSON.stringify(data));\n                this.getUser();\n                this.closeVerificationCode();\n                this.setStepsGa('Confirmao de token');\n                break;\n            case 400:\n            case 404:\n            case 423:\n                const error = await response.json();\n                this.toastMessage('error', error.detail ? error.detail : error);\n                this.setStepsGa('Token errado');\n                break;\n        }\n    }\n\n    private async getUser() {\n        const response = await this.productsService.getProdcutsAll();\n        switch (response.status) {\n            case 200:\n            case 201:\n            case 202:\n                const data = await response.json();\n                localStorage.setItem('loggedUser', JSON.stringify(data));\n                const loggedUser = JSON.parse(localStorage.getItem('loggedUser') || '');\n                this.toastMessage('success', `Bem vindo, ${loggedUser.name}!`);\n                (data.account_status !== 'F')\n                    ? this.setStep(this.convertAccountStatusToSteps(data.account_status))\n                    : this.setStep('two');\n                break;\n            case 400:\n            case 404:\n            case 423:\n                const error = await response.json();\n                this.toastMessage('error', error.detail ? error.detail : error);\n                break;\n        }\n    }\n\n    private async createRegisterSellerAddress() {\n        const address = JSON.parse(localStorage.getItem('stepTwoAddress') || '');\n        const myLatlng = JSON.parse(localStorage.getItem('latlng') || '');\n        address.lat = myLatlng.lat;\n        address.lng = myLatlng.lng;\n        const pertinho = JSON.parse(localStorage.getItem('pertinho') || '');\n        const response = await this.registerService.createRegisterSellerAddress(address, pertinho);\n        switch (response.status) {\n            case 201:\n                this.setStep('three');\n                break;\n            case 400:\n            case 404:\n            case 423:\n                const error = await response.json();\n                this.toastMessage('error', error.detail ? error.detail : error);\n                break;\n        }\n    }\n\n    private async createRegisterSellerCategory() {\n        const stepThree = JSON.parse(localStorage.getItem('stepThree') || '');\n        (stepThree[4])\n            ? this.step4[2].showInput = false\n            : this.step4[2].showInput = true;\n        const pertinho = JSON.parse(localStorage.getItem('pertinho') || '');\n        const response = await this.registerService.createRegisterSellerCategory({ cnae: stepThree[1].cnae }, pertinho);\n        switch (response.status) {\n            case 201:\n                this.updateRegisterSeller({\n                    about: stepThree[2],\n                    size: stepThree[3].id,\n                    document: stepThree[4],\n                }, 'four');\n                break;\n            case 400:\n            case 404:\n            case 423:\n                const error = await response.json();\n                this.toastMessage('error', error.detail ? error.detail : error);\n                break;\n        }\n    }\n\n    private async updateRegisterSeller(resgister, nextStep) {\n        const pertinho = JSON.parse(localStorage.getItem('pertinho') || '');\n        const response = await this.registerService.updateRegisterSeller(resgister, pertinho);\n        switch (response.status) {\n            case 201:\n            case 202:\n                this.setStep(nextStep);\n                if (nextStep === 'five') {\n                    this.setStepsGa('Finalizou cadastro');\n                    localStorage.removeItem('stepOne');\n                    localStorage.removeItem('stepTwo');\n                    localStorage.removeItem('stepThree');\n                    localStorage.removeItem('stepFour');\n                    localStorage.removeItem('stepform');\n                    localStorage.removeItem('stepTwoAddress');\n                    localStorage.removeItem('latlng');\n                }\n                break;\n            case 400:\n            case 404:\n            case 423:\n                const error = await response.json();\n                this.toastMessage('error', error);\n                break;\n        }\n    }\n\n    private setHelp(step, index: number, helpMsg: string, type: TypeHelp ) {\n        step[index].help = helpMsg;\n        switch (type) {\n            case 'valid':\n                step[index].classHelp = 'form-text valid-feedback';\n                step[index].classInput = 'form-control is-valid';\n                break;\n            case 'invalid':\n                step[index].classHelp = 'form-text invalid-feedback';\n                step[index].classInput = 'form-control is-invalid';\n                break;\n            case 'normal':\n                step[index].classHelp = 'form-text text-muted';\n                step[index].classInput = 'form-control';\n                break;\n        }\n    }\n\n    private removeMask(mobile) {\n        return mobile.replace(/[^0-9]/g, '');\n    }\n\n    private randomNumberLetters() {\n        const d = new Date();\n        const n = d.getTime();\n        return Math.floor(Math.random() * 65536) + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 5) + 'PERTINHO' + n;\n    }\n\n    private isMobile() {\n        return Boolean(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n    }\n\n    private setVerificationCode() {\n        if (localStorage.getItem('stepOne')) {\n            const stepOne = JSON.parse(localStorage.getItem('stepOne') || '');\n            this.businessName = stepOne[0];\n            this.phone = stepOne[1];\n            this.email = stepOne[2];\n        }\n        if (this.validateFirstStep()) {\n            this.confirmMobile()\n        }     \n    }\n\n    private validateFirstStep(){\n        const stepOneTerms = JSON.parse(localStorage.getItem('stepOneTerms') || '');\n        if (!this.businessName) {\n            this.toastMessage('error', \"Por favor deve preencher o campo nome da empresa\");\n            return false;\n        }\n        if (!this.phone) {\n            this.toastMessage('error', \"Por favor deve preencher o campo telefone\");\n            return false;\n        }\n        if (!this.email) {\n            this.toastMessage('error', \"Por favor deve preencher o campo E-mail\");\n            return false;\n        }\n        if (!stepOneTerms.terms) {\n            this.toastMessage('error', \"Por favor deve aceitar os termos e polticas de privacidade\");\n            return false;\n        }\n        return true;\n    }\n\n    private async confirmMobile(){\n        const response = await this.registerService.confirmMobile(this.phone, this.email, this.deviceId, 2)\n\n        switch (response.status) {\n            case 201:\n                this.openVerificationCode();\n                break;\n            case 400:\n            case 404:\n            case 423:\n                const error = await response.json();\n                Object.keys(error).forEach(value => {\n                    switch (value) {\n                        case 'mobile':\n                            this.setHelp(this.step1, 1, error.mobile[0], 'invalid');\n                            break;\n                        case 'email':\n                            this.setHelp(this.step1, 2, error.email[0], 'invalid');\n                            break;\n                    }\n                });\n                this.loginSeller();\n                break;\n        }\n\n    }\n\n    private storageStepCurrent() {\n        localStorage.setItem('stepform', this.step);\n    }\n\n    public storageInputsStep(step: string, inputsModel: Array<{}>) {\n        localStorage.setItem(step, JSON.stringify(inputsModel));\n    }\n\n    private setModelsArrayInput(step: string, arrayInputs: InputForms[]) {\n        if (localStorage.getItem(step)) {\n            return arrayInputs.forEach((input, index) => input.model = JSON.parse(localStorage.getItem(step) || '')[index]);\n        }\n    }\n\n    public openOptInModal() {\n        this.showOptIn = true;\n    }\n\n    public closeOptInModal() {\n        this.showOptIn = false;\n    }\n\n    public setOptIn(optIn: string) {\n        this.optIn = optIn;\n    }\n\n    public openVerificationCode() {\n        this.showVerificationCode = true;\n    }\n\n    public closeVerificationCode() {\n        this.showVerificationCode = false;\n    }\n\n    public openMapAddress() {\n        this.showMapAddress = true;\n    }\n\n    public closeMapAddress() {\n        this.showMapAddress = false;\n    }\n\n    public refreshCodeConfirm() {\n        this.loginSeller();\n    }\n\n    public codeConfirm(code: string) {\n        console.log(\"sssss\")\n        // this.codeLoginSeller(code);\n        this.confirmCodeSeller(code);\n    }\n\n    public updateUserPhone(){\n        this.isUpdate = true;\n        this.showVerificationCode = false;\n    }\n\n    private setStepsGa = (action: string) => {\n        this.$setGtm({\n            event: 'step-cadastro',\n            nomeStep: action,\n        });\n    }\n\n    private convertSteps = (step: string): number => {\n        let index = 0;\n        switch (step) {\n            case 'one':\n            case 'P':\n                index = 1;\n                break;\n            case 'two':\n            case 'C':\n                index = 2;\n                break;\n            case 'three':\n            case 'E':\n                index = 3;\n                break;\n            case 'four':\n            case 'D':\n                index = 4;\n                break;\n            case 'five':\n            case 'F':\n                index = 5;\n                break;\n        }\n        return index;\n    }\n\n    private convertAccountStatusToSteps(accountStatus: string): string {\n        let step = 'one';\n        switch (accountStatus) {\n            case 'P':\n                step = 'one';\n                break;\n            case 'E':\n                step = 'two';\n                break;\n            case 'C':\n                step = 'three';\n                break;\n            case 'D':\n                step = 'four';\n                break;\n            case 'F':\n                step = 'five';\n                break;\n        }\n        return step;\n    }\n\n    private toastMessage(type: SweetAlertType, title: string) {\n        VueSimpleAlert.fire({\n            type,\n            title,\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 5000,\n            onOpen: (toast) => {\n                toast.addEventListener('mouseenter', Swal.stopTimer),\n                toast.addEventListener('mouseleave', Swal.resumeTimer);\n            },\n        });\n    }\n}\n\n"],"sourceRoot":""}]}