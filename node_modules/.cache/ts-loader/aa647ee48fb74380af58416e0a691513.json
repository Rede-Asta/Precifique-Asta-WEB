{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js!/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js??ref--13-2!/home/aline/GitHub/admin-frontend/src/components/box/editarMeuNegocio/editarMeuNegocio.component.ts","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/box/editarMeuNegocio/editarMeuNegocio.component.ts","mtime":1696272469043},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZsYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zY29wYWJsZXMuZmxhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9hbGluZS9HaXRIdWIvYWRtaW4tZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IFZ1ZVNsaWRlciBmcm9tICd2dWUtc2xpZGVyLWNvbXBvbmVudCc7CmltcG9ydCBWdWVTaW1wbGVBbGVydCBmcm9tICd2dWUtc2ltcGxlLWFsZXJ0JzsKaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInOwppbXBvcnQgJ3Z1ZS1zbGlkZXItY29tcG9uZW50L3RoZW1lL2FudGQuY3NzJzsKaW1wb3J0IENyb3BwZXIgZnJvbSAnY3JvcHBlcmpzJzsKaW1wb3J0IGZvY3VzSW5wdXQgZnJvbSAnQC9oZWxwZXJzL2ZvY3VzSW5wdXQnOwppbXBvcnQgdXNlclNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy91c2VyLnNlcnZpY2UnOwppbXBvcnQgY2F0ZWdvcnlTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvY2F0ZWdvcnkuc2VydmljZSc7CmltcG9ydCByZWdpc3RlclNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9yZWdpc3Rlci5zZXJ2aWNlJzsKaW1wb3J0IGVudmlyb25tZW50IGZyb20gIkAvZW52aXJvbm1lbnRzL2Vudmlyb25tZW50IjsKaW1wb3J0IENvbXByZXNzb3IgZnJvbSAnY29tcHJlc3NvcmpzJzsKaW1wb3J0IExvZ29Nb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvbG9nby1tb2RhbC9sb2dvLW1vZGFsLnZ1ZSc7Cgp2YXIgZWRpdGFyTWV1TmVnb2NpbyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhlZGl0YXJNZXVOZWdvY2lvLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihlZGl0YXJNZXVOZWdvY2lvKTsKCiAgZnVuY3Rpb24gZWRpdGFyTWV1TmVnb2NpbygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgZWRpdGFyTWV1TmVnb2Npbyk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLnVzZXJTZXJ2aWNlID0gbmV3IHVzZXJTZXJ2aWNlKCk7CiAgICBfdGhpcy5jYXRlZ29yeVNlcnZpY2UgPSBuZXcgY2F0ZWdvcnlTZXJ2aWNlKCk7CiAgICBfdGhpcy5yZWdpc3RlclNlcnZpY2UgPSBuZXcgcmVnaXN0ZXJTZXJ2aWNlKCk7CiAgICBfdGhpcy5zaG93QWRkcmVzc0NoZWNrZWQgPSB0cnVlOwogICAgX3RoaXMud2hlbkNsb3NlZCA9IHRydWU7CiAgICBfdGhpcy5vdXRPZlJhZGl1cyA9IHRydWU7CiAgICBfdGhpcy5zaG93QWRkcmVzcyA9IHRydWU7CiAgICBfdGhpcy5zaG93Q3JvcHBlcjIgPSBmYWxzZTsKICAgIF90aGlzLnZhbGlkU3ViQ2F0ZWdvcnkgPSBmYWxzZTsKICAgIF90aGlzLmNhdGVnb3J5U3ViY2F0ZWdvcnkgPSBbXTsKICAgIF90aGlzLmNhdFN1YmNhdCA9ICcnOwogICAgX3RoaXMuYXV0b0NvbXBsZXRlU3ViQ2F0ZWdvcnlPcGVuID0gZmFsc2U7CiAgICBfdGhpcy5zdWJjYXRlZ29yeSA9ICcnOwogICAgX3RoaXMuc3ViY2F0ZWdvcmllcyA9IFtdOwogICAgX3RoaXMuc3ViY2F0ZWdvcmllc0RhdGEgPSBbXTsKICAgIF90aGlzLmNvbWJvQ2F0ZWdvcmllcyA9IFtdOwogICAgX3RoaXMudXNlcnNuYW1lID0gW107CiAgICBfdGhpcy5pbnN0YUltZyA9ICcnOwogICAgX3RoaXMudXNlckkgPSAnJzsKICAgIF90aGlzLnZhbGlkSW5zdGEgPSBmYWxzZTsKICAgIF90aGlzLmF1dG9Db21wbGV0ZUluc3RhT3BlbiA9IGZhbHNlOwogICAgX3RoaXMudXNlciA9ICcnOwogICAgX3RoaXMudXNlcnMgPSBbXTsKICAgIF90aGlzLnRlc3RlMiA9IGZhbHNlOwogICAgX3RoaXMuZmFjZWJvb2tVc2VyID0gZmFsc2U7CiAgICBfdGhpcy5pbnN0YWdyYW1Vc2VyID0gZmFsc2U7CiAgICBfdGhpcy5maW5hbEltYWdlID0gJyc7CiAgICBfdGhpcy5zaG93Q3JvcHBlciA9IGZhbHNlOwogICAgX3RoaXMuZGVzdGluYXRpb24gPSAnJzsKICAgIF90aGlzLmxvZ29JbnB1dCA9ICcnOwogICAgX3RoaXMucHVibGlzaEF2YWlsYWJsZSA9IGZhbHNlOwogICAgX3RoaXMucHVibGlzaEF2YWlsYWJsZVRleHQgPSAnJzsKICAgIF90aGlzLnB1Ymxpc2hBdmFpbGFibGVDb2xvciA9ICcnOwogICAgX3RoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTsKICAgIF90aGlzLmNpcmNsZXMgPSBbXTsKICAgIF90aGlzLnByb2Nlc3NTdHlsZSA9IHsKICAgICAgY29sb3I6ICcjMDBiMGQwJywKICAgICAgaGVpZ2h0OiA3CiAgICB9OwogICAgX3RoaXMucmFuZ2VWYWx1ZSA9IDE7CiAgICBfdGhpcy52b2x0YXIgPSB0cnVlOwogICAgX3RoaXMuY29udGVudCA9ICcnOwogICAgX3RoaXMuY29udGVudFBheW1lbnRzID0gJyc7CiAgICBfdGhpcy5wYXltZW50cyA9IFtdOwogICAgX3RoaXMucGF5bWVudHNDaGVja2VkID0gJyc7CiAgICBfdGhpcy5mYWNlYm9vayA9ICcnOwogICAgX3RoaXMuaW5zdGFncmFtID0gJyc7CiAgICBfdGhpcy53ZWJzaXRlID0gJyc7CiAgICBfdGhpcy5zZWxlY3RlZGxhbmcgPSAnJzsKICAgIF90aGlzLm5hbWUgPSAnJzsKICAgIF90aGlzLmVtYWlsID0gJyc7CiAgICBfdGhpcy5jZWx1bGFyID0gJyc7CiAgICBfdGhpcy5jYXRlZ29yeSA9ICcnOwogICAgX3RoaXMuYWJvdXQgPSAnJzsKICAgIF90aGlzLmFkZHJlc3MgPSAnJzsKICAgIF90aGlzLmNvbXBsZW1lbnRvID0gJyc7CiAgICBfdGhpcy5kZXNjcmljYW8gPSAnJzsKICAgIF90aGlzLm51bWVybyA9ICcnOwogICAgX3RoaXMuY2VwID0gJyc7CiAgICBfdGhpcy5sb2dyYWRvdXJvID0gJyc7CiAgICBfdGhpcy5iYWlycm8gPSAnJzsKICAgIF90aGlzLmNpZGFkZSA9ICcnOwogICAgX3RoaXMuZG9jdW1lbnRDcGYgPSAnJzsKICAgIF90aGlzLnJlZ2lvbiA9ICcnOwogICAgX3RoaXMuc2l6ZSA9ICcnOwogICAgX3RoaXMuc2VsbGVyTmFtZSA9ICcnOwogICAgX3RoaXMucmVnaW9ucyA9IFtdOwogICAgX3RoaXMuZGVsaXZlcnlSZWdpb25zID0gW107CiAgICBfdGhpcy5zb2NpYWxNZWRpYSA9IFtdOwogICAgX3RoaXMucHJvZmlsZVVybCA9IFtdOwogICAgX3RoaXMuZXJyb3JNc2cgPSBmYWxzZTsKICAgIF90aGlzLm1hcmtlcnMgPSBbXTsKICAgIF90aGlzLnBsYWNlcyA9IFtdOwogICAgX3RoaXMuY3VycmVudFBsYWNlID0gJyc7CiAgICBfdGhpcy5mb3JtTW9kZWwgPSB7fTsKICAgIF90aGlzLmNoZWNrZWROYW1lcyA9IFtdOwogICAgX3RoaXMuaXNBY3RpdmUgPSBmYWxzZTsKICAgIF90aGlzLm5vdGlmeSA9ICIiOwogICAgX3RoaXMuYWN0aXZlQWNjb3JkaW9uID0gX3RoaXMucHJvcEFjdGl2ZUFjY29yZGlvbjsKICAgIF90aGlzLmhhc0hlYWRlciA9IF90aGlzLnByb3BIZWFkZXI7CiAgICBfdGhpcy5jaGVja2VkID0gZmFsc2U7CiAgICBfdGhpcy5pdGVtcyA9IFtdOwogICAgX3RoaXMuZm9jdXNlZCA9IG5ldyBmb2N1c0lucHV0KCk7CiAgICBfdGhpcy5yZWcgPSAvXigoW148PigpXFtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVxbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17MiwyNH0pKSQvOwogICAgX3RoaXMudmFsaWQgPSBmYWxzZTsKICAgIF90aGlzLnZhbGlkQWRkcmVzcyA9IGZhbHNlOwogICAgX3RoaXMudmFsaWRDb21wbGVtZW50byA9IGZhbHNlOwogICAgX3RoaXMudmFsaWREZXNjcmljYW8gPSBmYWxzZTsKICAgIF90aGlzLnZhbGlkQ2F0ZWdvcnkgPSBmYWxzZTsKICAgIF90aGlzLnZhbGlkTnVtZXJvID0gZmFsc2U7CiAgICBfdGhpcy52YWxpZEFib3V0ID0gZmFsc2U7CiAgICBfdGhpcy52YWxpZFJlZ2lvbiA9IGZhbHNlOwogICAgX3RoaXMudmFsaWRMb2dyYWRvdXJvID0gZmFsc2U7CiAgICBfdGhpcy52YWxpZENpZGFkZSA9IGZhbHNlOwogICAgX3RoaXMudmFsaWRCYWlycm8gPSBmYWxzZTsKICAgIF90aGlzLnZhbGlkQ2VwID0gZmFsc2U7CiAgICBfdGhpcy5jYXRlZ29yaWVzID0gW107CiAgICBfdGhpcy5hdXRvQ29tcGxldGVDYXRlZ29yeU9wZW4gPSBmYWxzZTsKICAgIF90aGlzLmhpZGVBZGRyZXNzID0gZmFsc2U7CiAgICBfdGhpcy5zaXplcyA9IFtdOwogICAgX3RoaXMuc2hvd0xvZ29Nb2RhbCA9IGZhbHNlOwogICAgX3RoaXMuZ2VuZXJpY0NoYXRib3QgPSAnbWluaGFsb2phXzAnOwogICAgX3RoaXMuY2hhdGJvdElkID0gX3RoaXMuZ2VuZXJpY0NoYXRib3Q7CiAgICBfdGhpcy5zZWxlY3RBbGxQYXltZW50cyA9IGZhbHNlOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKGVkaXRhck1ldU5lZ29jaW8sIFt7CiAgICBrZXk6ICJvblByb3BlcnR5Q2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9wZXJ0eUNoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSB7Ly8gY29uc29sZS5sb2codmFsdWUsIG9sZFZhbHVlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRDaGF0Ym90SWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldENoYXRib3RJZChjaGF0Ym90SWQsIGlzQWN0aXZlKSB7CiAgICAgIHRoaXMuY2hhdGJvdElkID0gaXNBY3RpdmUgPyAibWluaGFsb2phXyIuY29uY2F0KGNoYXRib3RJZCkgOiB0aGlzLmdlbmVyaWNDaGF0Ym90OwogICAgfQogIH0sIHsKICAgIGtleTogIm9uUGF5bWVudHNDaGFuZ2VkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblBheW1lbnRzQ2hhbmdlZCh2YWwpIHsKICAgICAgdGhpcy5zZWxlY3RBbGxQYXltZW50cyA9IHRoaXMucGF5bWVudHMubWFwKGZ1bmN0aW9uIChwYXltZW50KSB7CiAgICAgICAgcmV0dXJuIHBheW1lbnQubWV0aG9kcy5tYXAoZnVuY3Rpb24gKG1ldGhvZCkgewogICAgICAgICAgcmV0dXJuIG1ldGhvZC5hY3RpdmU7CiAgICAgICAgfSk7CiAgICAgIH0pLmZsYXQoKS5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuICF2YWx1ZTsKICAgICAgfSkubGVuZ3RoID09PSAwOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jcmVhdGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgdmFyIGNhdGVnb3JpZXNSZXNwb25zZSwgY2F0ZWdvcmllc0RhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Nyb3BwZXIyID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gJyc7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dDcm9wcGVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmltYWdlVG9Dcm9wID0gJyc7CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJzbmFtZSA9IHRoaXMuZ2V0QWxsVXNlcnMoKTsKICAgICAgICAgICAgICAgIHRoaXMuc2l6ZXMgPSBbXTsKICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0Nob2ljZXNTZWxsZXJTaXplKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclNlcnZpY2UuZ2V0TGlzdENhdGVnb3JpZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgY2F0ZWdvcmllc1Jlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3JpZXNSZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzRGF0YSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gY2F0ZWdvcmllc0RhdGEgfHwgW107CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlLmxpc3RQcm9kY3V0c0FsbCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgZGF0YS5kZWxpdmVyeS5mb3JFYWNoKGZ1bmN0aW9uIChyZWdpb24pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnNldFJlZ2lvbnMocmVnaW9uKTsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2RvY3VtZW50JGdldEVsZW1lbnRCOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuaW5mb0FsZXJ0Tm9Eb2N1bWVudCgpOwoKICAgICAgICAgICAgICAgICAgICAoX2RvY3VtZW50JGdldEVsZW1lbnRCID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RvY3VtZW50JykpID09PSBudWxsIHx8IF9kb2N1bWVudCRnZXRFbGVtZW50QiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RvY3VtZW50JGdldEVsZW1lbnRCLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGF0YS5jYXRlZ29yeSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5pbmZvQWxlcnROb0NhdGVnb3J5KCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRhdGEuYWRkcmVzcykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5pbmZvQWxlcnROb0FkcmVzcygpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczIuc2V0RmllbGQoZGF0YSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuY2VsdWxhclZhbGlkYXRlKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuY3BmVmFsaWRhdGUoKTsKICAgICAgICAgICAgICAgIH0pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdW51c2VkLWV4cHJlc3Npb24KCiAgICAgICAgICAgICAgICB0aGlzLnByaW50VmFsdWVzOwogICAgICAgICAgICAgICAgdGhpcy51c2VyU2VydmljZS5saXN0UGFnYW1lbnRvcygpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0ZWRQYXltZW50cywga2V5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdGVkUGF5bWVudHMgPSBbXTsgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSByZWdlbmVyYXRvclJ1bnRpbWUua2V5cyhkYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChfY29udGV4dC50MSA9IF9jb250ZXh0LnQwKCkpLmRvbmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IF9jb250ZXh0LnQxLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QuYWN0aXZlID0gX3RoaXMyLmNoZWNrZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnBheW1lbnRzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToga2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzOiBkYXRhW2tleV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICogU2VydmljZSBsaXN0T2J0ZXJQYWdhbWVudG9zCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0gbGlzdE9idGVyUGFnYW1lbnRvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICogc2VydmljbyBxdWUgbGlzdGEgb3MgbWVpb3MgZGUgcGFnYW1lbnRvcyBhbHRlcmFkb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIG5hIGZ1bmNhbyBhbHRlcmFyUGF5bWVudHMsIHRyYXplbmRvIHNlbGVjaW9uYWRvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudXNlclNlcnZpY2UubGlzdE9idGVyUGFnYW1lbnRvcygpIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChjaG9pY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucGF5bWVudHMuZm9yRWFjaChmdW5jdGlvbiAocGF5bWVudENhdGVnb3J5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50Q2F0ZWdvcnkubWV0aG9kcy5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHguYWN0aXZlID0geC5uYW1lID09PSBjaG9pY2UubmFtZSA/IHRydWUgOiB4LmFjdGl2ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKICAgICAgICAgICAgICAgIHRoaXMudXNlclNlcnZpY2UuZ2V0U29jaWFsTWVkaWEoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoc29jaWFsKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldFNvY2lhbE1lZGlhKHNvY2lhbCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICAgIHJldHVybiBfY3JlYXRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY3JlYXRlZDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogIm9wZW5aZW5kZXNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuWmVuZGVzaygpIHsKICAgICAgdGhpcy4kemVuZGVzay5sb2FkKCIxNGU2YzAxZS1hZTJjLTRlMmMtOGM3Ni1kNDYxYzAxNDc5YzgiKTsKICAgICAgdGhpcy4kemVuZGVzay56RSgnbWVzc2VuZ2VyJywgJ29wZW4nKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkFjY29yZGlvblRvZ2dsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25BY2NvcmRpb25Ub2dnbGUoKSB7fQogICAgLyoqCiAgICAgKiBGdW5jdGlvbiB2ZXJpZnkgZXZlbnQgY2hlY2tib3gKICAgICAqIEBwYXJhbSBwcmludFZhbHVlcwogICAgICogQHBhcmFtIG5hbWUKICAgICAqIEBwYXJhbSBzdGF0dXMKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJwcmludFZhbHVlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJpbnRWYWx1ZXMobmFtZSwgc3RhdHVzKSB7CiAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICB0aGlzLmNoZWNrZWROYW1lcy5wdXNoKG5hbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hlY2tlZE5hbWVzID0gdGhpcy5jaGVja2VkTmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbSAhPT0gbmFtZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNldFNvY2lhbE1lZGlhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTb2NpYWxNZWRpYShtZWRpYSkgewogICAgICBpZiAobWVkaWEudHlwZSA9PT0gJ0ZhY2Vib29rJykgewogICAgICAgIHRoaXMuZmFjZWJvb2sgPSBBcnJheS5mcm9tKG5ldyBTZXQobWVkaWEucHJvZmlsZVVybC5zcGxpdCgnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLycpKSkudG9TdHJpbmcoKTsKICAgICAgICB0aGlzLmZhY2Vib29rID0gdGhpcy5mYWNlYm9vay5yZXBsYWNlKC8sL2csICcnKTsKICAgICAgfQoKICAgICAgaWYgKG1lZGlhLnR5cGUgPT09ICdJbnN0YWdyYW0nKSB7CiAgICAgICAgdGhpcy5pbnN0YWdyYW0gPSBBcnJheS5mcm9tKG5ldyBTZXQobWVkaWEucHJvZmlsZVVybC5zcGxpdCgnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS8nKSkpLnRvU3RyaW5nKCk7CiAgICAgICAgdGhpcy5pbnN0YWdyYW0gPSB0aGlzLmluc3RhZ3JhbS5yZXBsYWNlKC8sL2csICcnKTsKICAgICAgfQoKICAgICAgaWYgKG1lZGlhLnR5cGUgPT09ICdQZXJzb25hbCBXZWJzaXRlJykgewogICAgICAgIHRoaXMud2Vic2l0ZSA9IG1lZGlhLnByb2ZpbGVVcmwuc3BsaXQoJ2h0dHBzOi8vJylbMV07CiAgICAgIH0KCiAgICAgIHRoaXMuZmFjZSA9IHRoaXMuZmFjZWJvb2s7CiAgICAgIHRoaXMuaW5zdGcgPSB0aGlzLmluc3RhZ3JhbTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGaWVsZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmllbGQodGV4dHMpIHsKICAgICAgdGhpcy5maW5hbEltYWdlID0gdGV4dHMuc3RvcmVfbG9nb191cmw7CgogICAgICBpZiAodGV4dHMuYWRkcmVzcykgewogICAgICAgIHRoaXMucmFuZ2VWYWx1ZSA9IHRleHRzLmFkZHJlc3MuZGlzdGFuY2U7CiAgICAgICAgdGhpcy5hZGRyZXNzID0gdGV4dHMuYWRkcmVzcy5zdHJlZXQgKyAnLCAnICsgdGV4dHMuYWRkcmVzcy5uZWlnaGJvcmhvb2QgKyAnLCAnICsgdGV4dHMuYWRkcmVzcy5jaXR5ICsgJywgJyArIHRleHRzLmFkZHJlc3Muc3RhdGU7CiAgICAgICAgdGhpcy5nZW9jb2RlQWRkcmVzcyh0ZXh0cy5hZGRyZXNzLnN0cmVldCArICcsICcgKyB0ZXh0cy5hZGRyZXNzLm51bWJlciArICcsICcgKyB0ZXh0cy5hZGRyZXNzLm5laWdoYm9yaG9vZCArICcsICcgKyB0ZXh0cy5hZGRyZXNzLmNpdHkgKyAnLCAnICsgdGV4dHMuYWRkcmVzcy5zdGF0ZSk7CiAgICAgICAgdGhpcy5jb21wbGVtZW50byA9IHRleHRzLmFkZHJlc3MuY29tcGxlbWVudDsKICAgICAgICB0aGlzLmFib3V0ID0gdGV4dHMuYWJvdXQ7CiAgICAgICAgdGhpcy5yZWdpb24gPSAnJzsKICAgICAgICB0aGlzLm51bWVybyA9IHRleHRzLmFkZHJlc3MubnVtYmVyOwogICAgICAgIHRoaXMuY2lkYWRlID0gdGV4dHMuYWRkcmVzcy5jaXR5OwogICAgICAgIHRoaXMuYmFpcnJvID0gdGV4dHMuYWRkcmVzcy5uZWlnaGJvcmhvb2Q7CiAgICAgICAgdGhpcy5sb2dyYWRvdXJvID0gdGV4dHMuYWRkcmVzcy5zdHJlZXQ7CiAgICAgICAgdGhpcy5jZXAgPSB0ZXh0cy5hZGRyZXNzLnppcGNvZGU7CiAgICAgIH0KCiAgICAgIHRoaXMuc2l6ZSA9IHRleHRzLnNpemU7CiAgICAgIHRoaXMuc2VsbGVyTmFtZSA9IHRleHRzLnNlbGxlcl9uYW1lOwogICAgICB0aGlzLmRvY3VtZW50Q3BmID0gdGV4dHMuZG9jdW1lbnQ7CiAgICAgIHRoaXMuY29udGVudCA9IHRleHRzOwogICAgICB0aGlzLm5hbWUgPSB0ZXh0cy5uYW1lOwogICAgICB0aGlzLmNlbHVsYXIgPSB0ZXh0cy5tb2JpbGU7CiAgICAgIHRoaXMuZW1haWwgPSB0ZXh0cy5lbWFpbDsKICAgICAgdGhpcy5wdWJsaXNoQXZhaWxhYmxlID0gdGV4dHMuc2VsbGVyX2Rpc2FibGU7CiAgICAgIHRoaXMucHVibGlzaEF2YWlsYWJsZVRleHQgPSB0aGlzLnB1Ymxpc2hBdmFpbGFibGUgPyAnUmVhdGl2YXIgY29udGEnIDogJ0Rlc2F0aXZhciBjb250YSc7CiAgICAgIHRoaXMucHVibGlzaEF2YWlsYWJsZUNvbG9yID0gdGhpcy5wdWJsaXNoQXZhaWxhYmxlID8gJ2VkaXRCb3hfX2Zvcm1EYXRhX19kYXRhQnRuLS1idXR0b25fX2FjdGl2ZScgOiAnZWRpdEJveF9fZm9ybURhdGFfX2RhdGFCdG4tLWJ1dHRvbl9fZGlzYWJsZSc7CiAgICAgIHRoaXMuY2F0U3ViY2F0ID0gdGV4dHMudGhpcmRfbGV2ZWw7CgogICAgICBpZiAodGV4dHMuc3ViX2NhdGVnb3J5KSB7CiAgICAgICAgLy8gdGhpcy5jYXRlZ29yeVN1YmNhdGVnb3J5ID0gdGhpcy5jYXRTdWJjYXQuc3BsaXQoJyAtICcpOwogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB0ZXh0cy5jYXRlZ29yeTsKICAgICAgICB0aGlzLnN1YmNhdGVnb3J5ID0gdGV4dHMuc3ViX2NhdGVnb3J5OwogICAgICAgIHRoaXMudmFsaWRTdWJDYXRlZ29yeSA9IHRoaXMuc3ViY2F0ZWdvcnkgPyB0cnVlIDogZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuaGlkZUFkZHJlc3MgPSB0ZXh0cy5oaWRlX2FkZHJlc3MgPT09IHRydWUgPyB0ZXh0cy5oaWRlX2FkZHJlc3MgOiBmYWxzZTsKICAgICAgdGhpcy52YWxpZCA9IGZhbHNlOwogICAgICB0aGlzLnZhbGlkQWRkcmVzcyA9IHRoaXMuYWRkcmVzcyA/IHRydWUgOiBmYWxzZTsKICAgICAgdGhpcy52YWxpZENhdGVnb3J5ID0gdGhpcy5jYXRlZ29yeSA/IHRydWUgOiBmYWxzZTsKICAgICAgdGhpcy52YWxpZENvbXBsZW1lbnRvID0gdGhpcy5jb21wbGVtZW50byA/IHRydWUgOiBmYWxzZTsKICAgICAgdGhpcy52YWxpZERlc2NyaWNhbyA9IHRoaXMuZGVzY3JpY2FvID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLnZhbGlkTnVtZXJvID0gdGhpcy5udW1lcm8gPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMudmFsaWRBYm91dCA9IHRoaXMuYWJvdXQgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMudmFsaWRSZWdpb24gPSBmYWxzZTsKICAgICAgdGhpcy52YWxpZExvZ3JhZG91cm8gPSBmYWxzZTsKICAgICAgdGhpcy52YWxpZENpZGFkZSA9IGZhbHNlOwogICAgICB0aGlzLnZhbGlkQmFpcnJvID0gZmFsc2U7CiAgICAgIHRoaXMudmFsaWRDZXAgPSBmYWxzZTsKICAgICAgdGhpcy5mb2N1c2VkLmVkaXRDYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcnkgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0U2l6ZSA9IHRoaXMuc2l6ZSA/IHRydWUgOiBmYWxzZTsKICAgICAgdGhpcy5mb2N1c2VkLmVkaXRTZWxsZXJOYW1lID0gdGhpcy5zZWxsZXJOYW1lID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQuZWRpdEFkZHJlc3MgPSB0aGlzLmFkZHJlc3MgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0UmVnaW9uID0gdHJ1ZTsKICAgICAgdGhpcy5mb2N1c2VkLmVkaXRBYm91dCA9IHRoaXMuYWJvdXQgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0Q29tcGxlbWVudG8gPSB0aGlzLmNvbXBsZW1lbnRvID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQuZWRpdERlc2NyaWNhbyA9IHRoaXMuZGVzY3JpY2FvID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQuZWRpdE51bWVybyA9IHRoaXMubnVtZXJvID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQuZWRpdENlcCA9IHRoaXMuY2VwID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQuZWRpdExvZ3JhZG91cm8gPSB0aGlzLmxvZ3JhZG91cm8gPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0Q2lkYWRlID0gdGhpcy5jaWRhZGUgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0QmFpcnJvID0gdGhpcy5iYWlycm8gPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuc3ViY2F0ZWdvcmllc0RhdGEgPSB0aGlzLnN1YmNhdGVnb3JpZXM7CiAgICAgIHRoaXMuY2xlYXJTdWJjYXRlZ29yeSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImFsdGVyYXJBZGRyZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbHRlcmFyQWRkcmVzcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgdHJ1ZSk7CiAgICAgIHRoaXMudXNlclNlcnZpY2UudXBkYXRlV2hlbkNsb3NlZCh7CiAgICAgICAgYWNjZXB0c19vcmRlcnNfd2hlbl9jbG9zZWQ6IHRoaXMud2hlbkNsb3NlZAogICAgICB9KTsKICAgICAgdGhpcy51c2VyU2VydmljZS51cGRhdGVPdXRPZlJhZGl1cyh7CiAgICAgICAgYWNjZXB0c19kaXN0YW50X29yZGVyczogdGhpcy5vdXRPZlJhZGl1cwogICAgICB9KTsKICAgICAgdmFyIGxvY2F0aW9uID0gewogICAgICAgIGRpc3RhbmNlOiB0aGlzLnJhbmdlVmFsdWUgPyB0aGlzLnJhbmdlVmFsdWUgOiBudWxsLAogICAgICAgIG51bWJlcjogdGhpcy5udW1lcm8sCiAgICAgICAgY29tcGxlbWVudDogdGhpcy5jb21wbGVtZW50bywKICAgICAgICBuZWlnaGJvcmhvb2Q6IHRoaXMuYmFpcnJvLAogICAgICAgIGxhdDogdGhpcy5sYXQsCiAgICAgICAgbG5nOiB0aGlzLmxuZywKICAgICAgICBjaXR5OiB0aGlzLmNpZGFkZSwKICAgICAgICBzdHJlZXQ6IHRoaXMubG9ncmFkb3VybywKICAgICAgICB6aXBjb2RlOiB0aGlzLmNlcCwKICAgICAgICBzaG93X2FkZHJlc3M6IHRoaXMuc2hvd0FkZHJlc3MKICAgICAgfTsKCiAgICAgIGlmICghbG9jYXRpb24ubnVtYmVyIHx8ICFsb2NhdGlvbi56aXBjb2RlIHx8ICFsb2NhdGlvbi5uZWlnaGJvcmhvb2QgfHwgIWxvY2F0aW9uLmNpdHkgfHwgIWxvY2F0aW9uLnN0cmVldCkgewogICAgICAgIHZhciBlbXB0eUZpZWxkcyA9ICIiOwoKICAgICAgICBpZiAoIWxvY2F0aW9uLnppcGNvZGUpIHsKICAgICAgICAgIGVtcHR5RmllbGRzICs9ICdcbiBDZXAnOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFsb2NhdGlvbi5zdHJlZXQpIHsKICAgICAgICAgIGVtcHR5RmllbGRzICs9ICdcbiBMb2dyYWRvdXJvJzsKICAgICAgICB9CgogICAgICAgIGlmICghbG9jYXRpb24ubnVtYmVyKSB7CiAgICAgICAgICBlbXB0eUZpZWxkcyArPSAnXG4gTsO6bWVybyc7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWxvY2F0aW9uLm5laWdoYm9yaG9vZCkgewogICAgICAgICAgZW1wdHlGaWVsZHMgKz0gJ1xuIEJhaXJybyc7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWxvY2F0aW9uLmNpdHkpIHsKICAgICAgICAgIGVtcHR5RmllbGRzICs9ICdcbiBDaWRhZGUnOwogICAgICAgIH0KCiAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UoJ2Vycm9yJywgIk9zIGNhbXBvcyBhYmFpeG8gc8OjbyBvYnJpZ2F0w7NyaW9zOlxuIiArIGVtcHR5RmllbGRzKTsKICAgICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGxvY2F0aW9uKSB7CiAgICAgICAgdGhpcy51c2VyU2VydmljZS51cGRhdGVTaG93QWRkcmVzcyhsb2NhdGlvbik7CiAgICAgICAgdGhpcy51c2VyU2VydmljZS51cGRhdGVTZWxsZXJBZGRyZXNzKGxvY2F0aW9uKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBpZiAoIWRhdGEub2spIHsKICAgICAgICAgICAgX3RoaXMzLnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgICAgX3RoaXMzLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzLnVzZXJTZXJ2aWNlLnVwZGF0ZVNlbGxlcih7CiAgICAgICAgICAgICAgaGlkZV9hZGRyZXNzOiBfdGhpczMuaGlkZUFkZHJlc3MKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodXNlckRhdGEpIHsKICAgICAgICAgICAgICBpZiAoIXVzZXJEYXRhLm9rKSB7CiAgICAgICAgICAgICAgICBfdGhpczMuc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7CgogICAgICAgICAgICAgICAgX3RoaXMzLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczMuc2hvd1N1Y2Nlc3NmdWxsTm90aWZpY2F0aW9uKCk7CgogICAgICAgICAgICAgICAgX3RoaXMzLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwoKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmZvY3VzZWQuZWRpdE51bWVybyA9IHRoaXMubnVtZXJvID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFNpZ2xhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaWdsYSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgb2JqID0gdGhpcy5zaXplcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgPT09IF90aGlzNC5zaXplOwogICAgICB9KTsKICAgICAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkID8gb2JqLnNpZ2xhIDogIiI7CiAgICB9CiAgfSwgewogICAga2V5OiAic2F2ZURhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVEYXRhKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJGVtaXQoJ2xvYWRpbmcnLCB0cnVlKTsKCiAgICAgIGlmICghdGhpcy5zaXplIHx8ICF0aGlzLnNlbGxlck5hbWUpIHsKICAgICAgICBhbGVydCgiRGV2ZSBwcmVlbmNoZXIgb3MgZGFkb3MgZW0gYnJhbmNvLCBwb3IgZmF2b3IgcHJlZW5jaGEgZSB0ZW50ZSBub3ZhbWVudGUiKTsKICAgICAgICB0aGlzLnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwogICAgICAgIHRoaXMuJGVtaXQoJ2xvYWRpbmcnLCBmYWxzZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51c2VyU2VydmljZS51cGRhdGVTaXplKHRoaXMuZ2V0U2lnbGEoKSwgdGhpcy5zZWxsZXJOYW1lLCB0aGlzLm5hbWUsIHRoaXMuZW1haWwsIHRoaXMuZG9jdW1lbnRDcGYpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGlmICghZGF0YS5vaykgewogICAgICAgICAgICBkYXRhLmpzb24oKS50aGVuKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgICAgICBpZiAob2JqLmVtYWlsKSB7CiAgICAgICAgICAgICAgICBfdGhpczUuc2hvd0Vycm9yTm90aWZpY2F0aW9uKG9iai5lbWFpbFswXSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzNS5zaG93RXJyb3JOb3RpZmljYXRpb24oKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM1LnNob3dTdWNjZXNzZnVsbE5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgICAgZGF0YS5qc29uKCkudGhlbihmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xvZ2dlZFVzZXInLCBKU09OLnN0cmluZ2lmeShvYmopKTsKICAgICAgICAgICAgICBfdGhpczUubG9nZ2VkVXNlciA9IG9iajsKICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNS4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImFsdGVyU2VsbGVyU3RhdHVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbHRlclNlbGxlclN0YXR1cygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5wdWJsaXNoQXZhaWxhYmxlKSB7CiAgICAgICAgdGhpcy51c2VyU2VydmljZS5oYWJpbGl0YVZlbmRlZG9yKCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgIT09IDIwMikgewogICAgICAgICAgICBfdGhpczYuc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczYuc2hvd1N1Y2Nlc3NmdWxsTm90aWZpY2F0aW9uKCk7CgogICAgICAgICAgICBfdGhpczYucHVibGlzaEF2YWlsYWJsZSA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczYucHVibGlzaEF2YWlsYWJsZVRleHQgPSAnRGVzYXRpdmFyIGNvbnRhJzsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlLmRlc2FiaWxpdGFWZW5kZWRvcigpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICBpZiAodmFsdWUuc3RhdHVzICE9PSAyMDIpIHsKICAgICAgICAgICAgX3RoaXM2LnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM2LnNob3dTdWNjZXNzZnVsbE5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgICAgX3RoaXM2LnB1Ymxpc2hBdmFpbGFibGUgPSB0cnVlOwogICAgICAgICAgICBfdGhpczYucHVibGlzaEF2YWlsYWJsZVRleHQgPSAnUmVhdGl2YXIgY29udGEnOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnB1Ymxpc2hBdmFpbGFibGVDb2xvciA9IHRoaXMucHVibGlzaEF2YWlsYWJsZSA/ICdlZGl0Qm94X19mb3JtRGF0YV9fZGF0YUJ0bi0tYnV0dG9uX19kaXNhYmxlJyA6ICdlZGl0Qm94X19mb3JtRGF0YV9fZGF0YUJ0bi0tYnV0dG9uX19hY3RpdmUnOwogICAgfQogIH0sIHsKICAgIGtleTogInNhdmVDYXRlZ29yeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUNhdGVnb3J5KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuJGVtaXQoJ2xvYWRpbmcnLCB0cnVlKTsKCiAgICAgIGlmICh0aGlzLnN1YmNhdGVnb3J5ID09PSAnJyAmJiB0aGlzLmNhdGVnb3J5ICE9PSAnJykgewogICAgICAgIHRoaXMuc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7CiAgICAgICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBjb25zdCB2YWx1ZSA9IHRoaXMuY2F0ZWdvcnkgKyAnIC0gJyArIHRoaXMuc3ViY2F0ZWdvcnk7CiAgICAgICAgLy8gdGhpcy5jYXRlZ29yeUlkID0gdGhpcy5jYXRlZ29yaWVzLmZpbHRlcihjID0+IGMudmFsdWUgPT09IHZhbHVlKVswXS5pZDsKICAgICAgICB2YXIgc3ViY2F0ZWdvcnkgPSB0aGlzLnN1YmNhdGVnb3JpZXMuZmluZChmdW5jdGlvbiAoc3ViY2F0ZWdvcnkpIHsKICAgICAgICAgIHJldHVybiBzdWJjYXRlZ29yeS5uYW1lID09PSBfdGhpczcuc3ViY2F0ZWdvcnk7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChzdWJjYXRlZ29yeSkgewogICAgICAgICAgdGhpcy51c2VyU2VydmljZS51cGRhdGVDYXRlZ29yeSh7CiAgICAgICAgICAgIGNuYWU6IHN1YmNhdGVnb3J5LmNuYWUKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgaWYgKCFkYXRhLm9rKSB7CiAgICAgICAgICAgICAgX3RoaXM3LnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgICAgICBfdGhpczcuJGVtaXQoJ2xvYWRpbmcnLCBmYWxzZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXM3LnVzZXJTZXJ2aWNlLnVwZGF0ZVNlbGxlcih7CiAgICAgICAgICAgICAgICBhYm91dDogX3RoaXM3LmFib3V0CiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodXNlckRhdGEpIHsKICAgICAgICAgICAgICAgIGlmICghdXNlckRhdGEub2spIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LnNob3dTdWNjZXNzZnVsbE5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgICAgICAgICAgdmFyIGxvZ2dlZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2dlZFVzZXInKSB8fCAnJyk7CiAgICAgICAgICAgICAgICAgIGxvZ2dlZC5jYXRlZ29yeSA9IF90aGlzNy5jYXRlZ29yeTsKICAgICAgICAgICAgICAgICAgbG9nZ2VkLnN1YnNjcmliZSA9IF90aGlzNy5zdWJjYXRlZ29yeTsKICAgICAgICAgICAgICAgICAgbG9nZ2VkLmFib3V0ID0gX3RoaXM3LmFib3V0OwogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9nZ2VkVXNlcicsIEpTT04uc3RyaW5naWZ5KGxvZ2dlZCkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlLnVwZGF0ZVNlbGxlcih7CiAgICAgICAgICAgIGFib3V0OiB0aGlzLmFib3V0CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGlmICghZGF0YS5vaykgewogICAgICAgICAgICAgIF90aGlzNy5zaG93RXJyb3JOb3RpZmljYXRpb24oKTsKCiAgICAgICAgICAgICAgX3RoaXM3LiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzNy5zaG93U3VjY2Vzc2Z1bGxOb3RpZmljYXRpb24oKTsKCiAgICAgICAgICAgICAgX3RoaXM3LiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJhbHRlcmFyU29jaWFsTWVkaWEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFsdGVyYXJTb2NpYWxNZWRpYSgpIHsKICAgICAgdmFyIF93aW5kb3ckZXZlbnQsCiAgICAgICAgICBfdGhpczggPSB0aGlzOwoKICAgICAgKF93aW5kb3ckZXZlbnQgPSB3aW5kb3cuZXZlbnQpID09PSBudWxsIHx8IF93aW5kb3ckZXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93aW5kb3ckZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5zb2NpYWxNZWRpYSA9IFtdOwogICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgdHJ1ZSk7CiAgICAgIHRoaXMuaW5zdGFncmFtVXNlciA9IGZhbHNlOwogICAgICB0aGlzLmZhY2Vib29rVXNlciA9IGZhbHNlOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmFjZWJvb2snLCAndHJ1ZScpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaW5zdGFncmFtJywgJ3RydWUnKTsKCiAgICAgIGlmICghdGhpcy5mYWNlKSB7CiAgICAgICAgdGhpcy5mYWNlID0gJyc7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5pbnN0ZykgewogICAgICAgIHRoaXMuaW5zdGcgPSAnJzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZmFjZWJvb2subGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMudmVyaWZpY2FyKCdmYWNlYm9vaycpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYWNlYm9vaycpID09PSAndHJ1ZScpIHsKICAgICAgICAgICAgX3RoaXM4LnNvY2lhbE1lZGlhLnB1c2goewogICAgICAgICAgICAgIHN0YXR1czogX3RoaXM4LmZhY2Vib29rID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgICAgIHByb2ZpbGVVcmw6ICdodHRwczovL3d3dy5mYWNlYm9vay5jb20vJyArIF90aGlzOC5mYWNlYm9vaywKICAgICAgICAgICAgICB0eXBlOiAnRmFjZWJvb2snCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM4LnNvY2lhbE1lZGlhLnB1c2goewogICAgICAgICAgICAgIHN0YXR1czogX3RoaXM4LmZhY2UgPyB0cnVlIDogZmFsc2UsCiAgICAgICAgICAgICAgcHJvZmlsZVVybDogJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS8nICsgX3RoaXM4LmZhY2UsCiAgICAgICAgICAgICAgdHlwZTogJ0ZhY2Vib29rJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9LCA1MTApOwogICAgICB9CgogICAgICBpZiAodGhpcy5pbnN0YWdyYW0ubGVuZ3RoID4gMCkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpbnN0YWdyYW0nKSA9PT0gJ3RydWUnKSB7CiAgICAgICAgICAgIF90aGlzOC5zb2NpYWxNZWRpYS5wdXNoKHsKICAgICAgICAgICAgICBzdGF0dXM6IF90aGlzOC5pbnN0YWdyYW0gPyB0cnVlIDogZmFsc2UsCiAgICAgICAgICAgICAgcHJvZmlsZVVybDogJ2h0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vJyArIF90aGlzOC5pbnN0YWdyYW0sCiAgICAgICAgICAgICAgdHlwZTogJ0luc3RhZ3JhbScKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczguc29jaWFsTWVkaWEucHVzaCh7CiAgICAgICAgICAgICAgc3RhdHVzOiBfdGhpczguaW5zdGcgPyB0cnVlIDogZmFsc2UsCiAgICAgICAgICAgICAgcHJvZmlsZVVybDogJ2h0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vJyArIF90aGlzOC5pbnN0ZywKICAgICAgICAgICAgICB0eXBlOiAnSW5zdGFncmFtJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9LCA1MTApOwogICAgICAgIHRoaXMudmVyaWZpY2FyKCdpbnN0YWdyYW0nKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMud2Vic2l0ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5zb2NpYWxNZWRpYS5wdXNoKHsKICAgICAgICAgIHN0YXR1czogdGhpcy53ZWJzaXRlID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgcHJvZmlsZVVybDogJ2h0dHBzOi8vJyArIHRoaXMud2Vic2l0ZSwKICAgICAgICAgIHR5cGU6ICdQZXJzb25hbCBXZWJzaXRlJwogICAgICAgIH0pOwogICAgICB9CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczgudXNlclNlcnZpY2UucG9zdFNvY2lhbE1lZGlhKF90aGlzOC5zb2NpYWxNZWRpYSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgaWYgKCFkYXRhLm9rIHx8IF90aGlzOC5pbnN0YWdyYW1Vc2VyICE9PSBmYWxzZSB8fCBfdGhpczguZmFjZWJvb2tVc2VyICE9PSBmYWxzZSkgewogICAgICAgICAgICBfdGhpczguc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7CgogICAgICAgICAgICBfdGhpczguJGVtaXQoJ2xvYWRpbmcnLCBmYWxzZSk7CgogICAgICAgICAgICBpZiAoX3RoaXM4Lmluc3RhZ3JhbVVzZXIgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgX3RoaXM4Lmluc3RnID0gX3RoaXM4Lmluc3RhZ3JhbTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKF90aGlzOC5mYWNlYm9va1VzZXIgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgX3RoaXM4LmZhY2UgPSBfdGhpczguZmFjZWJvb2s7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzOC5zaG93U3VjY2Vzc2Z1bGxOb3RpZmljYXRpb24oKTsKCiAgICAgICAgICAgIF90aGlzOC4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgIF90aGlzOC5zb2NpYWxNZWRpYSA9IFtdOwogICAgICAgICAgICBfdGhpczguZmFjZSA9IF90aGlzOC5mYWNlYm9vazsKICAgICAgICAgICAgX3RoaXM4Lmluc3RnID0gX3RoaXM4Lmluc3RhZ3JhbTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKCiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2luc3RhZ3JhbScpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdmYWNlYm9vaycpOwogICAgICB9LCA2MDApOwogICAgfSAvLyB1cGRhdGVQb3N0U29jaWFsKCkgewogICAgLy8gICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgLy8gICB0aGlzLnNlcnZpY2UuZ2V0U29jaWFsTWVkaWEoKQogICAgLy8gICAudGhlbihkYXRhID0+IGRhdGEuanNvbigpKQogICAgLy8gICAudGhlbihkYXRhID0+IHsKICAgIC8vICAgICBpZiAoIWRhdGEub2spIHsKICAgIC8vICAgICAgIHRoaXMuc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7CiAgICAvLyAgICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgLy8gICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgLy8gICAgICAgdGhpcy5zb2NpYWxNZWRpYS5wdXNoKGRhdGEpOwogICAgLy8gICAgIH0KICAgIC8vICAgfSkKICAgIC8vICAgLmNhdGNoKGVyciA9PiB7CiAgICAvLyAgICAgY29uc29sZS5sb2coZXJyKTsKICAgIC8vICAgfSkKICAgIC8vIH0KCiAgICAvKioKICAgICAqIFBhcmFtIGFsdGVyYXJQYXltZW50cwogICAgICogQHBhcmFtICBhbHRlcmFyUGF5bWVudHMKICAgICAqIGZ1bmNhbyBxdWUgc2VsZWNpb25hIG8gbWVpbyBkZSBwYWdhbWVudG8sCiAgICAgKiBhbHRlcmEgbyBtZWlvIGRlIHBhZ2FtZW50bwogICAgICogZSBlbnZpYSBvIG1laW8gZGUgcGFnYW1lbnRvCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiYWx0ZXJhclBheW1lbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYWx0ZXJhclBheW1lbnRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3dpbmRvdyRldmVudDIsCiAgICAgICAgICAgIF90aGlzOSA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAoX3dpbmRvdyRldmVudDIgPSB3aW5kb3cuZXZlbnQpID09PSBudWxsIHx8IF93aW5kb3ckZXZlbnQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2luZG93JGV2ZW50Mi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIHRydWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF5bWVudHMuZm9yRWFjaChmdW5jdGlvbiAocGF5bWVudENhdGVnb3J5KSB7CiAgICAgICAgICAgICAgICAgIHBheW1lbnRDYXRlZ29yeS5tZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkgewogICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QuYWN0aXZlKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuY2hlY2tlZE5hbWVzLnB1c2gobWV0aG9kLm5hbWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdGhpcy51c2VyU2VydmljZS5saXN0VXBkYXRlUGFnYW1lbnRvcyh0aGlzLmNoZWNrZWROYW1lcykudGhlbihmdW5jdGlvbiAocGF5bWVudHNDaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgIGlmICghcGF5bWVudHNDaGVja2VkLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczkuJGVtaXQoJ2xvYWRpbmcnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM5LiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczkuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM5LmNoZWNrZWROYW1lcyA9IFtdOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczkuc2hvd1N1Y2Nlc3NmdWxsTm90aWZpY2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBhbHRlcmFyUGF5bWVudHMoKSB7CiAgICAgICAgcmV0dXJuIF9hbHRlcmFyUGF5bWVudHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFsdGVyYXJQYXltZW50czsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNwZlZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcGZWYWxpZGF0ZSgpIHsKICAgICAgaWYgKHRoaXMuZG9jdW1lbnRDcGYgJiYgdGhpcy5kb2N1bWVudENwZiAhPT0gbnVsbCAmJiB0aGlzLmRvY3VtZW50Q3BmLmxlbmd0aCA+IDAgJiYgdGhpcy5kb2N1bWVudENwZi5sZW5ndGggPD0gMTEpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Q3BmID0gdGhpcy5kb2N1bWVudENwZi5yZXBsYWNlKC8oXGR7M30pKFxkezN9KShcZHszfSkoXGR7Mn0pLywgZnVuY3Rpb24gKHJlZ2V4LCBhcmcxLCBhcmcyLCBhcmczLCBhcmc0KSB7CiAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KGFyZzEsICIuIikuY29uY2F0KGFyZzIsICIuIikuY29uY2F0KGFyZzMsICItIikuY29uY2F0KGFyZzQpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZG9jdW1lbnRDcGYgIT09IG51bGwpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Q3BmID0gdGhpcy5kb2N1bWVudENwZi5yZXBsYWNlKC8oXGR7Mn0pKFxkezN9KShcZHszfSkoXGR7NH0pKFxkezJ9KS8sIGZ1bmN0aW9uIChyZWdleCwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSkgewogICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChhcmcxLCAiLiIpLmNvbmNhdChhcmcyLCAiLiIpLmNvbmNhdChhcmczLCAiLyIpLmNvbmNhdChhcmc0LCAiLSIpLmNvbmNhdChhcmc1KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNlbHVsYXJWYWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2VsdWxhclZhbGlkYXRlKCkgewogICAgICB0aGlzLmNlbHVsYXIgPSB0aGlzLmNlbHVsYXIucmVwbGFjZSgvKFxkezJ9KShcZHs1fSkoXGR7NH0pLywgZnVuY3Rpb24gKHJlZ2V4LCBhcmcxLCBhcmcyLCBhcmczKSB7CiAgICAgICAgcmV0dXJuICIoIi5jb25jYXQoYXJnMSwgIikgIikuY29uY2F0KGFyZzIsICIgLSAiKS5jb25jYXQoYXJnMyk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImlzQ2F0ZWdvcnlWYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDYXRlZ29yeVZhbGlkKCkgewogICAgICB0aGlzLnZhbGlkQ2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3J5ID8gdGhpcy5yZWcudGVzdCh0aGlzLmNhdGVnb3J5KSA/IHRydWUgOiBmYWxzZSA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzQWRkcmVzc1ZhbGlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0FkZHJlc3NWYWxpZCgpIHsKICAgICAgdGhpcy52YWxpZEFkZHJlc3MgPSB0aGlzLmFkZHJlc3MgPT09ICcnID8gdGhpcy5yZWcudGVzdCh0aGlzLmFkZHJlc3MpID8gdHJ1ZSA6IGZhbHNlIDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNSZWdpb25WYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNSZWdpb25WYWxpZCgpIHsKICAgICAgdGhpcy52YWxpZFJlZ2lvbiA9IHRoaXMucmVnaW9uID09PSAnJyA/IHRoaXMucmVnLnRlc3QodGhpcy5yZWdpb24pID8gdHJ1ZSA6IGZhbHNlIDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNDZXBWYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDZXBWYWxpZCgpIHsKICAgICAgdGhpcy52YWxpZENlcCA9IHRoaXMuY2VwID09PSAnJyA/IHRoaXMucmVnLnRlc3QodGhpcy5jZXApID8gdHJ1ZSA6IGZhbHNlIDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNCYWlycm9WYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNCYWlycm9WYWxpZCgpIHsKICAgICAgdGhpcy52YWxpZEJhaXJybyA9IHRoaXMuYmFpcnJvID09PSAnJyA/IHRoaXMucmVnLnRlc3QodGhpcy5iYWlycm8pID8gdHJ1ZSA6IGZhbHNlIDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNDaWRhZGVWYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDaWRhZGVWYWxpZCgpIHsKICAgICAgdGhpcy52YWxpZENpZGFkZSA9IHRoaXMuY2lkYWRlID09PSAnJyA/IHRoaXMucmVnLnRlc3QodGhpcy5jaWRhZGUpID8gdHJ1ZSA6IGZhbHNlIDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNMb2dyYWRvdXJvVmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzTG9ncmFkb3Vyb1ZhbGlkKCkgewogICAgICB0aGlzLnZhbGlkTG9ncmFkb3VybyA9IHRoaXMubG9ncmFkb3VybyA9PT0gJycgPyB0aGlzLnJlZy50ZXN0KHRoaXMubG9ncmFkb3VybykgPyB0cnVlIDogZmFsc2UgOiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHNlbGxlck9iamVjdCwgd2hlbkNsb3NlZFNlbGxlciwgZ2V0T3V0T2ZSYWRpdXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlSW5pdCgpOwogICAgICAgICAgICAgICAgdGhpcy5pbml0TWFwKCk7IC8vIHRoaXMuY29tYm8oKTsKCiAgICAgICAgICAgICAgICB0aGlzLmdldEluc3RhZ3JhbUNvZGUoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZXJTZXJ2aWNlLmdldFNlbGxlclNob3dBZGRyZXNzKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHNlbGxlck9iamVjdCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5zaG93QWRkcmVzc0NoZWNrZWQgPSBzZWxsZXJPYmplY3Quc2hvd19hZGRyZXNzOwogICAgICAgICAgICAgICAgdGhpcy5zaG93QWRkcmVzcyA9IHNlbGxlck9iamVjdC5zaG93X2FkZHJlc3M7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlclNlcnZpY2UuZ2V0U2VsbGVyV2hlbkNsb3NlZCgpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgd2hlbkNsb3NlZFNlbGxlciA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgdGhpcy53aGVuQ2xvc2VkID0gd2hlbkNsb3NlZFNlbGxlci5hY2NlcHRzX29yZGVyc193aGVuX2Nsb3NlZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51c2VyU2VydmljZS5nZXRTZWxsZXJPdXRPZlJhZGl1cygpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgZ2V0T3V0T2ZSYWRpdXMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMub3V0T2ZSYWRpdXMgPSBnZXRPdXRPZlJhZGl1cy5hY2NlcHRzX2Rpc3RhbnRfb3JkZXJzOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG1vdW50ZWQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJpbmZvQWxlcnROb0RvY3VtZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaW5mb0FsZXJ0Tm9Eb2N1bWVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSA9IHsKICAgICAgICAgICAgICAgICAgaWNvbjogcmVxdWlyZSgnLi8uLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2ljb25fZXJyb3IucG5nJyksCiAgICAgICAgICAgICAgICAgIHRleHQ6ICJcbiAgICAgICAgICA8c3Ryb25nPkFURU5ceEM3XHhDM086IFN1YSBsb2phIG5ceEUzbyBlc3RceEUxIHNlbmRvIGV4aWJpZGEhPC9zdHJvbmc+PGJyIC8+UGFyYSB2b2NceEVBIGZpY2FyIHZpc1x4RUR2ZWwgYW9zIHNldXMgY2xpZW50ZXMsIFx4RTkgbmVjZXNzXHhFMXJpbyBxdWUgcHJlZW5jaGEgdW0gblx4RkFtZXJvIGRlIGRvY3VtZW50byB2XHhFMWxpZG8gZG8gc2V1IG5lZ1x4RjNjaW8gb3UgZG8gcmVzcG9uc1x4RTF2ZWwgbGVnYWwuXG4gICAgICAgICIsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZDFjNCcsCiAgICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgdGV4dF9hbGlnbl9sZWZ0OiB0cnVlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJTZXJ2aWNlLnZhbGlkYXRlVG9rZW5TZWxsZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwZXJ0aW5obycpOwogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9nZ2VkVXNlcicpOwogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnbG9naW4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaW5mb0FsZXJ0Tm9Eb2N1bWVudCgpIHsKICAgICAgICByZXR1cm4gX2luZm9BbGVydE5vRG9jdW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGluZm9BbGVydE5vRG9jdW1lbnQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJpbmZvQWxlcnROb0NhdGVnb3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaW5mb0FsZXJ0Tm9DYXRlZ29yeSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSA9IHsKICAgICAgICAgICAgICAgICAgaWNvbjogcmVxdWlyZSgnLi8uLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2ljb25fZXJyb3IucG5nJyksCiAgICAgICAgICAgICAgICAgIHRleHQ6ICJcbiAgICAgICAgICA8c3Ryb25nPkFURU5ceEM3XHhDM086IFN1YSBsb2phIG5ceEUzbyBlc3RceEUxIHNlbmRvIGV4aWJpZGEhPC9zdHJvbmc+PGJyIC8+UGFyYSB2b2NceEVBIGZpY2FyIHZpc1x4RUR2ZWwgYW9zIHNldXMgY2xpZW50ZXMsIFx4RTkgbmVjZXNzXHhFMXJpbyBxdWUgcHJlZW5jaGEgdW1hIGNhdGVnb3JpYSwgdW1hIHN1YmNhdGVnb3JpYSBlIHVtYSBkZXNjcmlceEU3XHhFM28gcGFyYSBvIHNldSBuZWdceEYzY2lvLlxuICAgICAgICAiLAogICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmQxYzQnLAogICAgICAgICAgICAgICAgICBhY3RpdmU6IHRydWUsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgIHRleHRfYWxpZ25fbGVmdDogdHJ1ZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS52YWxpZGF0ZVRva2VuU2VsbGVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ2LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGVydGluaG8nKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xvZ2dlZFVzZXInKTsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ2xvZ2luJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGluZm9BbGVydE5vQ2F0ZWdvcnkoKSB7CiAgICAgICAgcmV0dXJuIF9pbmZvQWxlcnROb0NhdGVnb3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpbmZvQWxlcnROb0NhdGVnb3J5OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaW5mb0FsZXJ0Tm9BZHJlc3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9pbmZvQWxlcnROb0FkcmVzcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSA9IHsKICAgICAgICAgICAgICAgICAgaWNvbjogcmVxdWlyZSgnLi8uLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2ljb25fZXJyb3IucG5nJyksCiAgICAgICAgICAgICAgICAgIHRleHQ6ICJcbiAgICAgICAgICA8c3Ryb25nPkFURU5ceEM3XHhDM086IFN1YSBsb2phIG5ceEUzbyBlc3RceEUxIHNlbmRvIGV4aWJpZGEhPC9zdHJvbmc+PGJyLz5QYXJhIHZvY1x4RUEgZmljYXIgdmlzXHhFRHZlbCBhb3Mgc2V1cyBjbGllbnRlcywgXHhFOSBuZWNlc3NceEUxcmlvIHF1ZSBwcmVlbmNoYSBvIGVuZGVyZVx4RTdvIGRvIHNldSBuZWdceEYzY2lvIGUgbyByYWlvIGRlIGF0ZW5kaW1lbnRvLlxuICAgICAgICAiLAogICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmQxYzQnLAogICAgICAgICAgICAgICAgICBhY3RpdmU6IHRydWUsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgIHRleHRfYWxpZ25fbGVmdDogdHJ1ZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS52YWxpZGF0ZVRva2VuU2VsbGVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGVydGluaG8nKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xvZ2dlZFVzZXInKTsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ2xvZ2luJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGluZm9BbGVydE5vQWRyZXNzKCkgewogICAgICAgIHJldHVybiBfaW5mb0FsZXJ0Tm9BZHJlc3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGluZm9BbGVydE5vQWRyZXNzOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaW5pdE1hcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdE1hcCgpIHsKICAgICAgdmFyIGxvZ2dlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dnZWRVc2VyJyk7CiAgICAgIHRoaXMubG9nZ2VkVXNlciA9IEpTT04ucGFyc2UobG9nZ2VkKTsKCiAgICAgIGlmICh0aGlzLmxvZ2dlZFVzZXIuYWRkcmVzcykgewogICAgICAgIHRoaXMubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHsKICAgICAgICAgIHpvb206IDEzLAogICAgICAgICAgY2VudGVyOiB7CiAgICAgICAgICAgIGxhdDogcGFyc2VGbG9hdCh0aGlzLmxvZ2dlZFVzZXIuYWRkcmVzcy5sYXQpLAogICAgICAgICAgICBsbmc6IHBhcnNlRmxvYXQodGhpcy5sb2dnZWRVc2VyLmFkZHJlc3MubG5nKQogICAgICAgICAgfSwKICAgICAgICAgIHBhbkNvbnRyb2w6IHRydWUsCiAgICAgICAgICB6b29tQ29udHJvbDogdHJ1ZSwKICAgICAgICAgIG1hcFR5cGVDb250cm9sOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdXRvY29tcGxldGVJbml0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhdXRvY29tcGxldGVJbml0KCkgewogICAgICB2YXIgJGN0cmwgPSB0aGlzOwogICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICBjb21wb25lbnRSZXN0cmljdGlvbnM6IHsKICAgICAgICAgIGNvdW50cnk6ICJiciIKICAgICAgICB9LAogICAgICAgIGxhbmd1YWdlOiBbInB0LUJSIl0sCiAgICAgICAgZmllbGRzOiBbImFkZHJlc3NfY29tcG9uZW50cyIsICJnZW9tZXRyeSIsICJmb3JtYXR0ZWRfYWRkcmVzcyJdCiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBpbnB1dCBhdXRvIGNvbXBsZXRlIGFkZHJlc3MKICAgICAgICovCgogICAgICB0aGlzLmF1dG9Db21wbGV0ZUFkZHJlc3MgPSBuZXcgZ29vZ2xlLm1hcHMucGxhY2VzLkF1dG9jb21wbGV0ZSh0aGlzLiRyZWZzLmF1dG9Db21wbGV0ZUFkZHJlc3MsIG9wdGlvbnMpOwogICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcih0aGlzLmF1dG9Db21wbGV0ZUFkZHJlc3MsICJwbGFjZV9jaGFuZ2VkIiwgZnVuY3Rpb24gKCkgewogICAgICAgICRjdHJsLmdvb2dsZUFwaVJldHVybiA9ICRjdHJsLmF1dG9Db21wbGV0ZUFkZHJlc3MuZ2V0UGxhY2UoKTsKICAgICAgICAkY3RybC5udW1lcm8gPSAkY3RybC5nb29nbGVBcGlSZXR1cm4uYWRkcmVzc19jb21wb25lbnRzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHgudHlwZXNbMF0gPT09ICdzdHJlZXRfbnVtYmVyJzsKICAgICAgICB9KS5sZW5ndGggPiAwID8gJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmFkZHJlc3NfY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVzWzBdID09PSAnc3RyZWV0X251bWJlcic7CiAgICAgICAgfSlbMF0ubG9uZ19uYW1lIDogJyc7CiAgICAgICAgJGN0cmwuY2VwID0gJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmFkZHJlc3NfY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVzWzBdID09PSAncG9zdGFsX2NvZGUnOwogICAgICAgIH0pLmxlbmd0aCA+IDAgPyAkY3RybC5nb29nbGVBcGlSZXR1cm4uYWRkcmVzc19jb21wb25lbnRzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHgudHlwZXNbMF0gPT09ICdwb3N0YWxfY29kZSc7CiAgICAgICAgfSlbMF0ubG9uZ19uYW1lIDogJyc7CiAgICAgICAgJGN0cmwuZm9jdXNlZC5lZGl0Q2VwID0gdHJ1ZTsKICAgICAgICAkY3RybC5sb2dyYWRvdXJvID0gJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmFkZHJlc3NfY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVzWzBdID09PSAncm91dGUnOwogICAgICAgIH0pLmxlbmd0aCA+IDAgPyAkY3RybC5nb29nbGVBcGlSZXR1cm4uYWRkcmVzc19jb21wb25lbnRzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHgudHlwZXNbMF0gPT09ICdyb3V0ZSc7CiAgICAgICAgfSlbMF0ubG9uZ19uYW1lIDogJyc7CiAgICAgICAgJGN0cmwuY2lkYWRlID0gJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmFkZHJlc3NfY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVzWzBdID09PSAnYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8yJzsKICAgICAgICB9KS5sZW5ndGggPiAwID8gJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmFkZHJlc3NfY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVzWzBdID09PSAnYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8yJzsKICAgICAgICB9KVswXS5sb25nX25hbWUgOiAnJzsKICAgICAgICAkY3RybC5iYWlycm8gPSAkY3RybC5nb29nbGVBcGlSZXR1cm4uYWRkcmVzc19jb21wb25lbnRzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHgudHlwZXNbMF0gPT09ICdzdWJsb2NhbGl0eV9sZXZlbF8xJzsKICAgICAgICB9KS5sZW5ndGggPiAwID8gJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmFkZHJlc3NfY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVzWzBdID09PSAnc3VibG9jYWxpdHlfbGV2ZWxfMSc7CiAgICAgICAgfSlbMF0ubG9uZ19uYW1lIDogJyc7CiAgICAgICAgJGN0cmwuYWRkcmVzcyA9ICRjdHJsLmdvb2dsZUFwaVJldHVybi5mb3JtYXR0ZWRfYWRkcmVzczsKICAgICAgICB2YXIgbG9jYXRpb24gPSB7CiAgICAgICAgICBsYXQ6ICRjdHJsLmdvb2dsZUFwaVJldHVybi5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKSwKICAgICAgICAgIGxuZzogJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpCiAgICAgICAgfTsKICAgICAgICAkY3RybC5tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwgewogICAgICAgICAgem9vbTogMTMsCiAgICAgICAgICBjZW50ZXI6IGxvY2F0aW9uLAogICAgICAgICAgcGFuQ29udHJvbDogdHJ1ZSwKICAgICAgICAgIHpvb21Db250cm9sOiB0cnVlLAogICAgICAgICAgbWFwVHlwZUNvbnRyb2w6IHRydWUsCiAgICAgICAgICBzY2FsZUNvbnRyb2w6IGZhbHNlLAogICAgICAgICAgc3RyZWV0Vmlld0NvbnRyb2w6IGZhbHNlLAogICAgICAgICAgb3ZlcnZpZXdNYXBDb250cm9sOiB0cnVlLAogICAgICAgICAgcm90YXRlQ29udHJvbDogZmFsc2UKICAgICAgICB9KTsKICAgICAgICBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHsKICAgICAgICAgIHBvc2l0aW9uOiBsb2NhdGlvbiwKICAgICAgICAgIGNlbnRlcjogbG9jYXRpb24sCiAgICAgICAgICBtYXA6ICRjdHJsLm1hcCwKICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsCiAgICAgICAgICBpY29uOiB7CiAgICAgICAgICAgIHVybDogcmVxdWlyZSgnLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uLXBsYWNlLnBuZycpLAogICAgICAgICAgICBzaXplOiBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSgyOCwgNDApLAogICAgICAgICAgICBvcmlnaW46IG5ldyBnb29nbGUubWFwcy5Qb2ludCgwLCAwKSwKICAgICAgICAgICAgYW5jaG9yOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMTgsIDE4KSwKICAgICAgICAgICAgc2NhbGVkU2l6ZTogbmV3IGdvb2dsZS5tYXBzLlNpemUoMjgsIDQwKQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgICRjdHJsLmxhdCA9IGxvY2F0aW9uLmxhdDsKICAgICAgICAkY3RybC5sbmcgPSBsb2NhdGlvbi5sbmc7CiAgICAgICAgJGN0cmwucGxvdENpcmNsZShsb2NhdGlvbi5sYXQsIGxvY2F0aW9uLmxuZyk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInBsb3RDaXJjbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHBsb3RDaXJjbGUobGF0LCBsbmcpIHsKICAgICAgdGhpcy5yZW1vdmVBbGxjaXJjbGVzKCk7CiAgICAgIHZhciBjaXJjdWxvID0gbmV3IGdvb2dsZS5tYXBzLkNpcmNsZSh7CiAgICAgICAgbWFwOiB0aGlzLm1hcCwKICAgICAgICBjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsbmcpLAogICAgICAgIHJhZGl1czogdGhpcy5yYW5nZVZhbHVlICogMTAwMCwKICAgICAgICBzdHJva2VDb2xvcjogJyMwMGIwZDAnLAogICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuOCwKICAgICAgICBzdHJva2VXZWlnaHQ6IDEsCiAgICAgICAgZmlsbENvbG9yOiAnIzAwYjBkMCcsCiAgICAgICAgZmlsbE9wYWNpdHk6IDAuMzUKICAgICAgfSk7CiAgICAgIHRoaXMuY2lyY2xlcy5wdXNoKGNpcmN1bG8pOwogICAgICB2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpOwogICAgICBib3VuZHMudW5pb24oY2lyY3Vsby5nZXRCb3VuZHMoKSk7CiAgICAgIHRoaXMubWFwLmZpdEJvdW5kcyhib3VuZHMsIDEpOwogICAgICB0aGlzLm1hcC5zZXRDZW50ZXIoewogICAgICAgIGxhdDogbGF0LAogICAgICAgIGxuZzogbG5nCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdlb2NvZGVBZGRyZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZW9jb2RlQWRkcmVzcyhhZGRyZXNzKSB7CiAgICAgIHZhciAkY3RybCA9IHRoaXM7CiAgICAgIHZhciBnZW9jb2RlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpOwogICAgICBnZW9jb2Rlci5nZW9jb2RlKHsKICAgICAgICBhZGRyZXNzOiBhZGRyZXNzCiAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHRzLCBzdGF0dXMpIHsKICAgICAgICBpZiAoc3RhdHVzID09PSAnT0snKSB7CiAgICAgICAgICB2YXIgbG9jYXRpb24gPSB7CiAgICAgICAgICAgIGxhdDogcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKSwKICAgICAgICAgICAgbG5nOiByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpCiAgICAgICAgICB9OwogICAgICAgICAgJGN0cmwubGF0ID0gcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKTsKICAgICAgICAgICRjdHJsLmxuZyA9IHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubG5nKCk7CiAgICAgICAgICAkY3RybC5tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwgewogICAgICAgICAgICB6b29tOiAxMywKICAgICAgICAgICAgY2VudGVyOiBsb2NhdGlvbiwKICAgICAgICAgICAgcGFuQ29udHJvbDogZmFsc2UsCiAgICAgICAgICAgIHpvb21Db250cm9sOiBmYWxzZSwKICAgICAgICAgICAgbWFwVHlwZUNvbnRyb2w6IHRydWUsCiAgICAgICAgICAgIHNjYWxlQ29udHJvbDogZmFsc2UsCiAgICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiBmYWxzZSwKICAgICAgICAgICAgb3ZlcnZpZXdNYXBDb250cm9sOiBmYWxzZSwKICAgICAgICAgICAgcm90YXRlQ29udHJvbDogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoewogICAgICAgICAgICBwb3NpdGlvbjogbG9jYXRpb24sCiAgICAgICAgICAgIGNlbnRlcjogbG9jYXRpb24sCiAgICAgICAgICAgIG1hcDogJGN0cmwubWFwLAogICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLAogICAgICAgICAgICBpY29uOiB7CiAgICAgICAgICAgICAgdXJsOiByZXF1aXJlKCcuLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2ljb24tcGxhY2UucG5nJyksCiAgICAgICAgICAgICAgc2l6ZTogbmV3IGdvb2dsZS5tYXBzLlNpemUoMjgsIDQwKSwKICAgICAgICAgICAgICBvcmlnaW46IG5ldyBnb29nbGUubWFwcy5Qb2ludCgwLCAwKSwKICAgICAgICAgICAgICBhbmNob3I6IG5ldyBnb29nbGUubWFwcy5Qb2ludCgxOCwgMTgpLAogICAgICAgICAgICAgIHNjYWxlZFNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDI4LCA0MCkKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICAkY3RybC5wbG90Q2lyY2xlKHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCksIHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubG5nKCkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlQWxsY2lyY2xlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWxsY2lyY2xlcygpIHsKICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluCiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5jaXJjbGVzKSB7CiAgICAgICAgdGhpcy5jaXJjbGVzW2ldLnNldE1hcChudWxsKTsKICAgICAgfQoKICAgICAgdGhpcy5jaXJjbGVzID0gW107CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0UmVnaW9ucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UmVnaW9ucyhkYXRhKSB7CiAgICAgIHZhciBfdGhpcyRyZWdpb25zOwoKICAgICAgKF90aGlzJHJlZ2lvbnMgPSB0aGlzLnJlZ2lvbnMpID09PSBudWxsIHx8IF90aGlzJHJlZ2lvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJlZ2lvbnMucHVzaChkYXRhKTsKICAgICAgdGhpcy5yZWdpb24gPSAnJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmb3JtQ2FuY2VsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtQ2FuY2VsKCkgewogICAgICB2YXIgX3dpbmRvdyRldmVudDM7CgogICAgICAoX3dpbmRvdyRldmVudDMgPSB3aW5kb3cuZXZlbnQpID09PSBudWxsIHx8IF93aW5kb3ckZXZlbnQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2luZG93JGV2ZW50My5wcmV2ZW50RGVmYXVsdCgpOwogICAgfQogIH0sIHsKICAgIGtleTogImZpbHRlckNhdGVnb3JpZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlckNhdGVnb3JpZXMoKSB7CiAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAodGhpcy5jYXRlZ29yeSwgJ2dpJyk7CiAgICAgIHJldHVybiB0aGlzLmNvbWJvQ2F0ZWdvcmllcy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuc2VhcmNoKHJlKSA+IC0xOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGVhclNlbGVjdGVkQ2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyU2VsZWN0ZWRDYXRlZ29yeSgpIHsKICAgICAgdGhpcy5maWx0ZXJDYXRlZ29yaWVzKCkubWFwKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgZGF0YSA9ICcnOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRDYXRlZ29yeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2F0ZWdvcnkoY2F0ZWdvcnkpIHsKICAgICAgdGhpcy5jbGVhclNlbGVjdGVkQ2F0ZWdvcnkoKTsKICAgICAgdGhpcy5hdXRvQ29tcGxldGVDYXRlZ29yeU9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5mb2N1c2VkLmVkaXRDYXRlZ29yeSA9IHRydWU7CgogICAgICBpZiAodGhpcy5jYXRlZ29yeSkgewogICAgICAgIHRoaXMuc3ViY2F0ZWdvcnkgPSAnJzsKICAgICAgICB0aGlzLnZhbGlkQ2F0ZWdvcnkgPSB0cnVlOwogICAgICAgIHRoaXMuY2xlYXJTdWJjYXRlZ29yeSgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0U2l6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2l6ZShzZWxlY3RlZCkgewogICAgICB2YXIgc2VsZWN0ZWRfc2VsbGVyID0gc2VsZWN0ZWQudGFyZ2V0OwogICAgICB0aGlzLnNpemUgPSBzZWxlY3RlZF9zZWxsZXIudmFsdWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q2hvaWNlc1NlbGxlclNpemUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENob2ljZXNTZWxsZXJTaXplKCkgewogICAgICB2YXIgaGVhZGVycyA9IHsKICAgICAgICAnQXV0aG9yaXphdGlvbic6IGVudmlyb25tZW50LnNldEF1dGhvcml6YXRpb25Ub2tlbigpLAogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnOiAnQ29udGVudC1UeXBlJwogICAgICB9OwogICAgICB2YXIgcmVxdWVzdE9wdGlvbnMgPSB7CiAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICB9OyAvLyBjb25zb2xlLmxvZygiZmV0Y2hoaGhoIHJldG9ybm8iLCBmZXRjaChgJHtlbnZpcm9ubWVudC5zZXRBUEkoKX0vY2hvaWNlcy9zZWxsZXJzaXplL2AsIHJlcXVlc3RPcHRpb25zKSkKCiAgICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoZW52aXJvbm1lbnQuc2V0QVBJKCksICIvY2hvaWNlcy9zZWxsZXJzaXplLyIpLCByZXF1ZXN0T3B0aW9ucyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvY2Vzc0Nob2ljZXNTZWxsZXJTaXplIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcHJvY2Vzc0Nob2ljZXNTZWxsZXJTaXplID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICAgIHZhciByZXNwb25zZSwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hvaWNlc1NlbGxlclNpemUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gX2NvbnRleHQ4LnQwID09PSAyMDAgPyA2IDogX2NvbnRleHQ4LnQwID09PSAyMDEgPyA2IDogX2NvbnRleHQ4LnQwID09PSAyMDIgPyA2IDogMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgZGF0YS5tYXAoZnVuY3Rpb24gKHNlbGxlcikgewogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMC5zaXplcykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTAuc2l6ZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBpZDogc2VsbGVyWzBdLAogICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICIiLmNvbmNhdChzZWxsZXJbMV0pLAogICAgICAgICAgICAgICAgICAgICAgc2lnbGE6ICIiLmNvbmNhdChzZWxsZXJbMF0pLAogICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoImJyZWFrIiwgMTEpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcHJvY2Vzc0Nob2ljZXNTZWxsZXJTaXplKCkgewogICAgICAgIHJldHVybiBfcHJvY2Vzc0Nob2ljZXNTZWxsZXJTaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwcm9jZXNzQ2hvaWNlc1NlbGxlclNpemU7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJkZWxldGVSZWdpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVJlZ2lvbihkYXRhKSB7CiAgICAgIHRoaXMucmVnaW9ucyA9IGRhdGE7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNDb21wbGVtZW50b1ZhbGlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NvbXBsZW1lbnRvVmFsaWQoKSB7CiAgICAgIHRoaXMudmFsaWRDb21wbGVtZW50byA9IHRoaXMuY29tcGxlbWVudG8gPT09ICcnID8gZmFsc2UgOiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzRGVzY3JpY2FvVmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzRGVzY3JpY2FvVmFsaWQoKSB7CiAgICAgIHRoaXMudmFsaWREZXNjcmljYW8gPSB0aGlzLmRlc2NyaWNhbyA9PT0gJycgPyBmYWxzZSA6IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNOdW1lcm9WYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNOdW1lcm9WYWxpZCgpIHsKICAgICAgdGhpcy52YWxpZE51bWVybyA9IHRoaXMubnVtZXJvID09PSAnJyA/IGZhbHNlIDogdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0Fib3V0VmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQWJvdXRWYWxpZCgpIHsKICAgICAgdGhpcy52YWxpZEFib3V0ID0gdGhpcy5hYm91dCA9PT0gJycgPyBmYWxzZSA6IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvd1N1Y2Nlc3NmdWxsTm90aWZpY2F0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93U3VjY2Vzc2Z1bGxOb3RpZmljYXRpb24oKSB7CiAgICAgIHRoaXMuJGZpcmUoewogICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICB0aXRsZTogJ0FsdGVyYcOnw7VlcyBzYWx2YXMgY29tIHN1Y2Vzc28nLAogICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgIHBvc2l0aW9uOiAndG9wJywKICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUsCiAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgIHRpbWVyOiAzMDAwCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNob3dFcnJvck5vdGlmaWNhdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Nob3dFcnJvck5vdGlmaWNhdGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkodGV4dCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy4kZmlyZSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgIHRpdGxlOiB0ZXh0IHx8ICdFcnJvIGFvIGVmZXR1YXIgYWx0ZXJhw6fDo28hJywKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiA0MDAwLAogICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS52YWxpZGF0ZVRva2VuU2VsbGVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ5LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGVydGluaG8nKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xvZ2dlZFVzZXInKTsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ2xvZ2luJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNob3dFcnJvck5vdGlmaWNhdGlvbihfeDIpIHsKICAgICAgICByZXR1cm4gX3Nob3dFcnJvck5vdGlmaWNhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2hvd0Vycm9yTm90aWZpY2F0aW9uOwogICAgfSgpCiAgfSwgewogICAga2V5OiAic2hvd05vdGlmaWNhdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd05vdGlmaWNhdGlvbihkYXRhKSB7CiAgICAgIHRoaXMubm90aWZ5ID0gZGF0YTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRSYW5nZVZhbHVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSYW5nZVZhbHVlKCkgewogICAgICB2YXIgcmFuZ2UgPSB0aGlzLiRyZWZzLnNsaWRlcjsKICAgICAgdGhpcy5wbG90Q2lyY2xlKHRoaXMubGF0LCB0aGlzLmxuZyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5mb0FsZXJ0VmVuZGVkb3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9pbmZvQWxlcnRWZW5kZWRvciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5ID0gewogICAgICAgICAgICAgICAgICBpY29uOiByZXF1aXJlKCcuLy4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbl9lcnJvci5wbmcnKSwKICAgICAgICAgICAgICAgICAgdGV4dDogIlxuICAgICAgICAgIDxzdHJvbmc+QXRlblx4RTdceEUzbyE8L3N0cm9uZz48YnIgLz5PcyBjYW1wb3MgXCJOb21lXCIsIFwiRS1tYWlsXCIsIFwiVGVsZWZvbmVcIiBlIFwiRG9jdW1lbnRvXCIgblx4RTNvIHNceEUzbyBlZGl0XHhFMXZlaXMuIENhc28gc2VqYSBuZWNlc3NceEUxcmlhIGFsdGVyYVx4RTdceEUzbywgcG9yIGdlbnRpbGV6YSBlbnZpYXIgZS1tYWlsIHBhcmEgPGEgc3R5bGU9XCJjb2xvcjogYmxhY2s7IHRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7XCIgaHJlZj1cIm1haWx0bzpjb250YXRvQHBlcnRpbmhvZGVjYXNhLmNvbS5iclwiIHRhcmdldD1cIl9ibGFua1wiPmNvbnRhdG9AcGVydGluaG9kZWNhc2EuY29tLmJyLjwvYT5cbiAgICAgICAgIiwKICAgICAgICAgICAgICAgICAgY29sb3I6ICcjYzNlNGU3JywKICAgICAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS52YWxpZGF0ZVRva2VuU2VsbGVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3BlcnRpbmhvJyk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2dnZWRVc2VyJyk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdsb2dpbicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGluZm9BbGVydFZlbmRlZG9yKCkgewogICAgICAgIHJldHVybiBfaW5mb0FsZXJ0VmVuZGVkb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGluZm9BbGVydFZlbmRlZG9yOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidXBsb2FkTG9nbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBsb2FkTG9nbygpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIHRydWUpOwogICAgICB0aGlzLnVzZXJTZXJ2aWNlLnVwbG9hZGxvZ28odGhpcy5sb2dnZWRVc2VyLnNsdWcsIHRoaXMuZGVzdGluYXRpb24pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoIWRhdGEub2spIHsKICAgICAgICAgIF90aGlzMTEuc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7CgogICAgICAgICAgX3RoaXMxMS4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMxMS5zaG93U3VjY2Vzc2Z1bGxOb3RpZmljYXRpb24oKTsKCiAgICAgICAgICBfdGhpczExLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0SW1hZ2VUb0Nyb3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEltYWdlVG9Dcm9wKGV2ZW50KSB7CiAgICAgIGlmIChldmVudC50YXJnZXQuZmlsZXMubGVuZ3RoICYmIGV2ZW50LnRhcmdldC5maWxlc1swXS5zaXplIC8gMTAwMDAwMCA8IDEwKSB7CiAgICAgICAgdmFyIGltYWdlRmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsgLy8gY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAvLyByZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZUZpbGUpOwogICAgICAgIC8vIHJlYWRlci5vbmxvYWQgPSAoZTogYW55KSA9PiB7CiAgICAgICAgLy8gICAgIHRoaXMuaW1hZ2VUb0Nyb3AgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgLy8gICAgIHRoaXMudXBkYXRlTG9nbygpOwogICAgICAgIC8vIH07CgogICAgICAgIHRoaXMuaW1hZ2VUb0Nyb3AgPSBpbWFnZUZpbGU7CiAgICAgICAgdGhpcy51cGRhdGVMb2dvKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93RXJyb3JOb3RpZmljYXRpb24oKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImRlc3Ryb3lDcm9wcGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95Q3JvcHBlcigpIHsKICAgICAgdGhpcy5jcm9wcGVyLmRlc3Ryb3koKTsKICAgICAgdGhpcy5zaG93Q3JvcHBlciA9IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogInNhdmVDcm9wcGVkSW1hZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVDcm9wcGVkSW1hZ2UoKSB7CiAgICAgIHRoaXMuZGVzdHJveUNyb3BwZXIoKTsKICAgICAgdGhpcy51cGxvYWRMb2dvKCk7CiAgICAgIHRoaXMuc2hvd0Nyb3BwZXIgPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVMb2dvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdXBkYXRlTG9nbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgICAgdmFyIGNvbXByZXNzb3I7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBjb21wcmVzc29yID0gbmV3IENvbXByZXNzb3IodGhpcy5pbWFnZVRvQ3JvcCwgewogICAgICAgICAgICAgICAgICBxdWFsaXR5OiAwLjUsCiAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMjUwLAogICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEyNTAsCiAgICAgICAgICAgICAgICAgIGNvbnZlcnRTaXplOiAwLAogICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGltYWdlQ29tcHJlc3NlZCkgewogICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VDb21wcmVzc2VkLnNpemUgLyAxMDAwMDAwIDwgNikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5pbWFnZVRvQ3JvcCA9IGltYWdlQ29tcHJlc3NlZDsKICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGltYWdlQ29tcHJlc3NlZCk7CgogICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuaW1hZ2VUb0Nyb3AgPSBlLnRhcmdldC5yZXN1bHQ7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5kZXN0aW5hdGlvbiA9IGUudGFyZ2V0LnJlc3VsdDsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuY3JvcEluaXQoKTsKICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJSZWR1emEgbyB0YW1hbmhvIGRlIGltYWdlbSBlIHRlbnRlIG5vdmFtZW50ZS4iKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGVycikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBjb21wcmltaW5kbyBpbWFnZW0iLCBlcnIubWVzc2FnZSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMTIuJGVtaXQoJ2xvYWRpbmcnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUxvZ28oKSB7CiAgICAgICAgcmV0dXJuIF91cGRhdGVMb2dvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1cGRhdGVMb2dvOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiY3JvcEluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyb3BJbml0KCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICB0aGlzLmltYWdlID0gdGhpcy4kcmVmcy5pbWFnZTsKCiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5zaG93Q3JvcHBlciA9IHRydWU7CiAgICAgICAgdGhpcy5jcm9wcGVyID0gbmV3IENyb3BwZXIodGhpcy5pbWFnZSwgewogICAgICAgICAgZ3VpZGVzOiB0cnVlLAogICAgICAgICAgem9vbWFibGU6IHRydWUsCiAgICAgICAgICBkcmFnTW9kZTogJ21vdmUnLAogICAgICAgICAgc2NhbGFibGU6IHRydWUsCiAgICAgICAgICBjZW50ZXI6IHRydWUsCiAgICAgICAgICBhdXRvQ3JvcEFyZWE6IDAuNjUsCiAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICAgICAgcmVzdG9yZTogZmFsc2UsCiAgICAgICAgICBjcm9wQm94TW92YWJsZTogZmFsc2UsCiAgICAgICAgICBjcm9wQm94UmVzaXphYmxlOiBmYWxzZSwKICAgICAgICAgIHdoZWVsWm9vbVJhdGlvOiAwLjEsCiAgICAgICAgICBhc3BlY3RSYXRpbzogMSAvIDEsCiAgICAgICAgICBpbml0aWFsQXNwZWN0UmF0aW86IDEgLyAxLAogICAgICAgICAgbW9kYWw6IHRydWUsCiAgICAgICAgICB6b29tT25XaGVlbDogZmFsc2UsCiAgICAgICAgICByZWFkeTogZnVuY3Rpb24gcmVhZHkoX3JlYWR5KSB7CiAgICAgICAgICAgIHZhciBjYW52YXMgPSBfdGhpczEzLmNyb3BwZXIuZ2V0Q3JvcHBlZENhbnZhcyh7CiAgICAgICAgICAgICAgaW1hZ2VTbW9vdGhpbmdRdWFsaXR5OiAnaGlnaCcsCiAgICAgICAgICAgICAgbWF4V2lkdGg6IDQwMCwKICAgICAgICAgICAgICBtYXhIZWlnaHQ6IDQwMAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMTMuZGVzdGluYXRpb24gPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTsKICAgICAgICAgICAgX3RoaXMxMy5sb2dvSW5wdXQgPSBfdGhpczEzLmRlc3RpbmF0aW9uOwogICAgICAgICAgfSwKICAgICAgICAgIGNyb3A6IGZ1bmN0aW9uIGNyb3AoKSB7CiAgICAgICAgICAgIHZhciBjYW52YXMgPSBfdGhpczEzLmNyb3BwZXIuZ2V0Q3JvcHBlZENhbnZhcyh7CiAgICAgICAgICAgICAgaW1hZ2VTbW9vdGhpbmdRdWFsaXR5OiAnaGlnaCcsCiAgICAgICAgICAgICAgbWF4V2lkdGg6IDQwMCwKICAgICAgICAgICAgICBtYXhIZWlnaHQ6IDQwMAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMTMuZGVzdGluYXRpb24gPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTsKICAgICAgICAgICAgX3RoaXMxMy5sb2dvSW5wdXQgPSBfdGhpczEzLmRlc3RpbmF0aW9uOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JvcHBlclpvb20iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyb3BwZXJab29tKHZhbHVlKSB7CiAgICAgIHRoaXMuY3JvcHBlci56b29tKHZhbHVlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcm9wcGVyUm90YXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcm9wcGVyUm90YXRlKHZhbHVlKSB7CiAgICAgIHRoaXMuY3JvcHBlci5yb3RhdGUodmFsdWUpOwogICAgfQogIH0sIHsKICAgIGtleTogInZlcmlmaWNhciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmVyaWZpY2FyKHR5cGUpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgaWYgKHR5cGUgPT09ICdmYWNlYm9vaycpIHsKICAgICAgICB2YXIgcmVxdWVzdCA9IHJlcXVpcmUoJ3JlcXVlc3QnKTsKCiAgICAgICAgcmVxdWVzdC5nZXQoewogICAgICAgICAgZW5jb2Rpbmc6ICd1dGYtOCcsCiAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgdXJpOiAiaHR0cDovL2dyYXBoLmZhY2Vib29rLmNvbS8iLmNvbmNhdCh0aGlzLmZhY2Vib29rKSwKICAgICAgICAgIGZvbGxvd1JlZGlyZWN0OiBmYWxzZQogICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJlcywgYm9keSkgewogICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdib2R5JywgYm9keSk7CiAgICAgICAgfSk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgYm9keSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdib2R5Jyk7CiAgICAgICAgICBfdGhpczE0LnRlc3RlID0gSlNPTi5wYXJzZShib2R5KTsKCiAgICAgICAgICBpZiAoX3RoaXMxNC50ZXN0ZS5lcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdyZXF1ZXN0ZWQgZG8gbm90IGV4aXN0JykpIHsKICAgICAgICAgICAgX3RoaXMxNC5mYWNlYm9va1VzZXIgPSAnVmVyaWZpcXVlIHNldSB1c3XDoXJpbyBkbyBGYWNlYm9vayc7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYWNlYm9vaycsICdmYWxzZScpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMxNC5mYWNlYm9va1VzZXIgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9LCA1MDApOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2JvZHknKTsKICAgICAgICB9LCA2MDApOwogICAgICB9CgogICAgICBpZiAodHlwZSA9PT0gJ2luc3RhZ3JhbScpIHsKICAgICAgICBmZXRjaCgiaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS8iLmNvbmNhdCh0aGlzLmluc3RhZ3JhbSwgIi8/X19hPTEiKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpczE0Lmluc3RhZ3JhbVVzZXIgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMTQuaW5zdGFncmFtVXNlciA9ICdWZXJpZmlxdWUgc2V1IHVzdcOhcmlvIGRvIEluc3RhZ3JhbSc7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpbnN0YWdyYW0nLCAnZmFsc2UnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImZpbHRlckluc3RhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJJbnN0YSgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgdGhpcy51c2Vyc25hbWUgPSBbXTsKICAgICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgfTsKICAgICAgcmV0dXJuIGZldGNoKCJodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL3dlYi9zZWFyY2gvdG9wc2VhcmNoLz9xdWVyeT0iLmNvbmNhdCh0aGlzLmluc3RhZ3JhbSksIHJlcXVlc3RPcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgICAgICAgdmFyIGRhdGEgPSB0ZXh0ICYmIEpTT04ucGFyc2UodGV4dCk7CiAgICAgICAgICBkYXRhLnVzZXJzLmZvckVhY2goZnVuY3Rpb24gKHVzZXJzKSB7CiAgICAgICAgICAgIF90aGlzMTUuc2V0VXNlcih1c2Vycyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRVc2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVc2VyKGRhdGEpIHsKICAgICAgdmFyIF90aGlzJHVzZXJzOwoKICAgICAgKF90aGlzJHVzZXJzID0gdGhpcy51c2VycykgPT09IG51bGwgfHwgX3RoaXMkdXNlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHVzZXJzLnB1c2goZGF0YS51c2VyKTsKICAgICAgdGhpcy51c2VyID0gJyc7CiAgICAgIHZhciBpID0gewogICAgICAgIG5hbWU6IGRhdGEudXNlci51c2VybmFtZSwKICAgICAgICB2YWx1ZTogZGF0YS51c2VyLmZ1bGxfbmFtZSwKICAgICAgICBpbWc6IGRhdGEudXNlci5wcm9maWxlX3BpY191cmwsCiAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlCiAgICAgIH07CiAgICAgIHRoaXMudXNlcnNuYW1lLnB1c2goaSk7CiAgICAgIHRoaXMudXNlcnNuYW1lLmZpbHRlcihmdW5jdGlvbiAoZWxlbSwgaW5kZXgsIHNlbGYpIHsKICAgICAgICByZXR1cm4gaW5kZXggPT09IHNlbGYuaW5kZXhPZihlbGVtKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0QWxsVXNlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbFVzZXJzKCkgewogICAgICB2YXIgdW4gPSBbewogICAgICAgIG5hbWU6ICcgJywKICAgICAgICB2YWx1ZTogJyAnLAogICAgICAgIGltZzogJycKICAgICAgfV07CiAgICAgIHJldHVybiB1bjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRJbnN0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SW5zdGEoaW5zdGFncmFtKSB7CiAgICAgIHRoaXMuY2xlYXJTZWxlY3RlZEluc3RhKCk7CiAgICAgIGluc3RhZ3JhbS5zZWxlY3RlZCA9IHRydWU7CiAgICAgIHRoaXMuaW5zdGFJbWcgPSBpbnN0YWdyYW0uaW1nOwogICAgICB0aGlzLnVzZXJJID0gaW5zdGFncmFtLnZhbHVlOwogICAgICB0aGlzLnVzZXJOYW1lID0gaW5zdGFncmFtLm5hbWU7CiAgICAgIHRoaXMuYXV0b0NvbXBsZXRlSW5zdGFPcGVuID0gZmFsc2U7CiAgICAgIHRoaXMudmFsaWRJbnN0YSA9IHRydWU7CiAgICAgIHRoaXMuaW5zdGFncmFtID0gaW5zdGFncmFtLm5hbWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNJbnN0YVZhbGlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0luc3RhVmFsaWQoKSB7CiAgICAgIHRoaXMudmFsaWRJbnN0YSA9IHRoaXMuaW5zdGFncmFtID8gdGhpcy5yZWcudGVzdCh0aGlzLmluc3RhZ3JhbSkgPyB0cnVlIDogZmFsc2UgOiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGVhclNlbGVjdGVkSW5zdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyU2VsZWN0ZWRJbnN0YSgpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgdGhpcy5maWx0ZXJJbnN0YWdyYW0oKS5tYXAoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBkYXRhLnNlbGVjdGVkID0gZmFsc2U7CiAgICAgICAgX3RoaXMxNi51c2VySSA9ICcnOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaWx0ZXJJbnN0YWdyYW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlckluc3RhZ3JhbSgpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgdmFyIGMgPSBbXTsgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlCgogICAgICBjID0gdGhpcy51c2Vyc25hbWUuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMubmFtZS5zdWJzdHJpbmcoMCwgX3RoaXMxNy5pbnN0YWdyYW0ubGVuZ3RoKSA9PT0gX3RoaXMxNy5pbnN0YWdyYW0uc3Vic3RyaW5nKDAsIF90aGlzMTcuaW5zdGFncmFtLmxlbmd0aCk7CiAgICAgIH0pOwoKICAgICAgaWYgKGMubGVuZ3RoID4gMSkgewogICAgICAgIGMucmV2ZXJzZSgpOwogICAgICAgIGMuZmlsdGVyKGZ1bmN0aW9uIChlbGVtLCBpbmRleCwgc2VsZikgewogICAgICAgICAgcmV0dXJuIGluZGV4ID09PSBzZWxmLmluZGV4T2YoZWxlbSk7CiAgICAgICAgfSk7CgogICAgICAgIHdoaWxlIChjWzBdLm5hbWUgPT09IGNbYy5sZW5ndGggLSAxXS5uYW1lICYmIGMubGVuZ3RoID4gMSkgewogICAgICAgICAgYy5wb3AoKTsKICAgICAgICB9CiAgICAgIH0gLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlCgoKICAgICAgcmV0dXJuIGMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMubmFtZS5zdWJzdHJpbmcoMCwgX3RoaXMxNy5pbnN0YWdyYW0ubGVuZ3RoKSA9PT0gX3RoaXMxNy5pbnN0YWdyYW0uc3Vic3RyaW5nKDAsIF90aGlzMTcuaW5zdGFncmFtLmxlbmd0aCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbWJvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21ibygpIHsKICAgICAgdmFyIHRlc3RlID0gdGhpcy5jYXRlZ29yaWVzLmxlbmd0aCAtIDE7CiAgICAgIHZhciBpID0gMDsKICAgICAgdmFyIGNhdCA9IFtdOwogICAgICB2YXIgdGVzdGVjYXQgPSBbXTsKICAgICAgdmFyIGM7CiAgICAgIHZhciBzY2F0ID0gW107CgogICAgICBmb3IgKGMgPSAwOyBjIDw9IHRlc3RlOyBjKyspIHsKICAgICAgICBjYXRbY10gPSB0aGlzLmNhdGVnb3JpZXNbY10udmFsdWUuc3BsaXQoJyAtICcpOwogICAgICB9CgogICAgICBmb3IgKGMgPSAwOyBjIDwgdGVzdGU7IGMrKykgewogICAgICAgIHRlc3RlY2F0W2NdID0gY2F0W2NdWzBdOwogICAgICB9CgogICAgICB0aGlzLmNvbWJvQ2F0ZWdvcmllc1tpXSA9IHRlc3RlY2F0WzBdOwoKICAgICAgZm9yIChjID0gMDsgYyA8PSB0ZXN0ZTsgYysrKSB7CiAgICAgICAgaWYgKHRoaXMuY29tYm9DYXRlZ29yaWVzW2ldICE9PSB0ZXN0ZWNhdFtjXSkgewogICAgICAgICAgdGhpcy5jb21ib0NhdGVnb3JpZXMucHVzaCh0ZXN0ZWNhdFtjXSk7CiAgICAgICAgICBpID0gaSArIDE7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmNvbWJvQ2F0ZWdvcmllcy5wb3AoKTsKICAgICAgdmFyIHRlc3RlMiA9IHRoaXMuY29tYm9DYXRlZ29yaWVzLmxlbmd0aCAtIDE7CgogICAgICBmb3IgKGkgPSAwOyBpIDw9IHRlc3RlMjsgaSsrKSB7CiAgICAgICAgc2NhdCA9IFtdOwogICAgICAgIHZhciBqID0gMDsKCiAgICAgICAgZm9yIChjID0gMDsgYyA8PSB0ZXN0ZTsgYysrKSB7CiAgICAgICAgICBpZiAoY2F0W2NdWzBdID09PSB0aGlzLmNvbWJvQ2F0ZWdvcmllc1tpXSkgewogICAgICAgICAgICBzY2F0W2pdID0gY2F0W2NdWzFdOwogICAgICAgICAgICBqKys7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5zdWJjYXRlZ29yaWVzW2ldID0gc2NhdDsKICAgICAgICAgIHRoaXMuc3ViY2F0ZWdvcmllc0RhdGFbaV0gPSBzY2F0OwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5maWx0ZXJDYXRlZ29yeSgpOwogICAgICB0aGlzLmZpbHRlclN1YkNhdGVnb3J5KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmlsdGVyU3ViQ2F0ZWdvcmllcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyU3ViQ2F0ZWdvcmllcygpIHsKICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cCh0aGlzLnN1YmNhdGVnb3J5LCAnZ2knKTsKICAgICAgdmFyIGogPSAwOwogICAgICB2YXIgc3ViY2F0ID0gW107CgogICAgICBpZiAodGhpcy5jYXRlZ29yeSAhPT0gbnVsbCkgewogICAgICAgIGZvciAoajsgaiA8IHRoaXMuY29tYm9DYXRlZ29yaWVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBpZiAodGhpcy5jYXRlZ29yeSA9PT0gdGhpcy5jb21ib0NhdGVnb3JpZXNbal0pIHsKICAgICAgICAgICAgc3ViY2F0ID0gW107CiAgICAgICAgICAgIHN1YmNhdCA9IHRoaXMuc3ViY2F0ZWdvcmllc1tqXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzdWJjYXQuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLnNlYXJjaChyZSkgPiAtMTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0U3ViQ2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN1YkNhdGVnb3J5KHN1YmNhdGVnb3J5KSB7CiAgICAgIHZhciBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ViY2F0ZWdvcnknKTsKICAgICAgdGhpcy5zdWJjYXRlZ29yeSA9IGJveC5vcHRpb25zW2JveC5zZWxlY3RlZEluZGV4XS50ZXh0OwogICAgICB0aGlzLmF1dG9Db21wbGV0ZVN1YkNhdGVnb3J5T3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnZhbGlkU3ViQ2F0ZWdvcnkgPSB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImZpbHRlckNhdGVnb3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJDYXRlZ29yeSgpIHsKICAgICAgdmFyIHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yeScpOwoKICAgICAgaWYgKHRoaXMuY29tYm9DYXRlZ29yaWVzICYmIHRoaXMuY29tYm9DYXRlZ29yaWVzLmxlbmd0aCkgewogICAgICAgIHRoaXMuY29tYm9DYXRlZ29yaWVzLm1hcChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHNlbGVjdC5vcHRpb25zW3NlbGVjdC5vcHRpb25zLmxlbmd0aF0gPSBuZXcgT3B0aW9uKHZhbHVlLnRvU3RyaW5nKCkpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZmlsdGVyU3ViQ2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlclN1YkNhdGVnb3J5KCkgewogICAgICB2YXIgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YmNhdGVnb3J5Jyk7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuY29tYm9DYXRlZ29yaWVzLmluZGV4T2YodGhpcy5jYXRlZ29yeSwgMCk7CgogICAgICBpZiAodGhpcy5zdWJjYXRlZ29yaWVzRGF0YVtpbmRleF0pIHsKICAgICAgICB0aGlzLnN1YmNhdGVnb3JpZXNEYXRhW2luZGV4XS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICBzZWxlY3Qub3B0aW9uc1tzZWxlY3Qub3B0aW9ucy5sZW5ndGhdID0gbmV3IE9wdGlvbih2YWx1ZS50b1N0cmluZygpKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZVN1Y2Nlc3NDbG9zZU1vZGFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTdWNjZXNzQ2xvc2VNb2RhbCgpIHsKICAgICAgdGhpcy5zaG93TG9nb01vZGFsID0gZmFsc2U7CiAgICAgIHRoaXMudG9hc3RNZXNzYWdlKCdzdWNjZXNzJywgJ0xvZ28gYXR1YWxpemFkYSBjb20gc3VjZXNzbycpOwogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xlYXJTdWJjYXRlZ29yeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTdWJjYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgdGhpcy5zdWJjYXRlZ29yaWVzID0gW107CiAgICAgIHZhciBjYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcmllcy5maW5kKGZ1bmN0aW9uIChjYXRlZ29yeSkgewogICAgICAgIHJldHVybiBjYXRlZ29yeS5uYW1lID09PSBfdGhpczE4LmNhdGVnb3J5OwogICAgICB9KTsKCiAgICAgIGlmIChjYXRlZ29yeSkgewogICAgICAgIHRoaXMuc3ViY2F0ZWdvcmllcyA9IGNhdGVnb3J5LnN1YmNhdGVnb3JpZXM7CiAgICAgIH0gLy8gY29uc3Qgc2VsZWN0OiBIVE1MU2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJjYXRlZ29yeScpIGFzIEhUTUxTZWxlY3RFbGVtZW50OwogICAgICAvLyBmb3IgKGxldCBpID0gc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICE9PSAwOyBpLS0pIHsKICAgICAgLy8gICBzZWxlY3Qub3B0aW9ucy5yZW1vdmUoaSk7CiAgICAgIC8vIH0KICAgICAgLy8gdGhpcy5maWx0ZXJTdWJDYXRlZ29yeSgpOwoKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblNlbGVjdEFsbFBheW1lbnRzQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblNlbGVjdEFsbFBheW1lbnRzQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHRoaXMucGF5bWVudHMuZm9yRWFjaChmdW5jdGlvbiAocGF5bWVudCkgewogICAgICAgIHBheW1lbnQubWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsKICAgICAgICAgIHJldHVybiBtZXRob2QuYWN0aXZlID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIm9wZW5JbnN0YWdyYW1BdXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuSW5zdGFncmFtQXV0aCgpIHsKICAgICAgd2luZG93Lm9wZW4oZW52aXJvbm1lbnQuZ2V0SW5zdGFncmFtQXV0aFVybCgpLCAnX3NlbGYnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcHRPdXRJbnN0YWdyYW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9vcHRPdXRJbnN0YWdyYW0gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZXJTZXJ2aWNlLm9wdE91dEluc3RhZ3JhbSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlLmdldFNvY2lhbE1lZGlhKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHNvY2lhbCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTkuc2V0U29jaWFsTWVkaWEoc29jaWFsKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBvcHRPdXRJbnN0YWdyYW0oKSB7CiAgICAgICAgcmV0dXJuIF9vcHRPdXRJbnN0YWdyYW0uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9wdE91dEluc3RhZ3JhbTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldEluc3RhZ3JhbUNvZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRJbnN0YWdyYW1Db2RlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgICB2YXIgY29kZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvZGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5jb2RlOwoKICAgICAgICAgICAgICAgIGlmICghY29kZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlclNlcnZpY2UuYXV0aG9yaXplSW5zdGFncmFtKGNvZGUpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlLmdldFNvY2lhbE1lZGlhKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHNvY2lhbCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMjAuc2V0U29jaWFsTWVkaWEoc29jaWFsKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRJbnN0YWdyYW1Db2RlKCkgewogICAgICAgIHJldHVybiBfZ2V0SW5zdGFncmFtQ29kZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0SW5zdGFncmFtQ29kZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInRvYXN0TWVzc2FnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9hc3RNZXNzYWdlKHR5cGUsIHRpdGxlKSB7CiAgICAgIFZ1ZVNpbXBsZUFsZXJ0LmZpcmUoewogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgIG9uT3BlbjogZnVuY3Rpb24gb25PcGVuKHRvYXN0KSB7CiAgICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgU3dhbC5zdG9wVGltZXIpLCB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgU3dhbC5yZXN1bWVUaW1lcik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBlZGl0YXJNZXVOZWdvY2lvOwp9KFZ1ZSk7CgpfX2RlY29yYXRlKFtQcm9wKCldLCBlZGl0YXJNZXVOZWdvY2lvLnByb3RvdHlwZSwgImlzQWN0aXZlIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6IHVuZGVmaW5lZAp9KV0sIGVkaXRhck1ldU5lZ29jaW8ucHJvdG90eXBlLCAiaW5wdXRMaXN0Iiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6ICcnCn0pXSwgZWRpdGFyTWV1TmVnb2Npby5wcm90b3R5cGUsICJmb3JtIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6ICc8c3Ryb25nPkxvamEgb25saW5lPC9zdHJvbmc+Jwp9KV0sIGVkaXRhck1ldU5lZ29jaW8ucHJvdG90eXBlLCAidGl0dWxvIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6ICdBcXVpIHZvY8OqIHBvZGUgY29uZmlybWFyIHNldXMgZGFkb3MgZSBlZGl0YXIgYXMgaW5mb3JtYcOnw7VlcyBzb2JyZSBvIHNldSBuZWfDs2NpbycKfSldLCBlZGl0YXJNZXVOZWdvY2lvLnByb3RvdHlwZSwgImRlc2NyaXB0aW9uIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6ICcnCn0pXSwgZWRpdGFyTWV1TmVnb2Npby5wcm90b3R5cGUsICJwcm9wQWN0aXZlQWNjb3JkaW9uIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6IHRydWUKfSldLCBlZGl0YXJNZXVOZWdvY2lvLnByb3RvdHlwZSwgInByb3BIZWFkZXIiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgZGVmYXVsdDogdW5kZWZpbmVkCn0pXSwgZWRpdGFyTWV1TmVnb2Npby5wcm90b3R5cGUsICJub3RpZnkiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbV2F0Y2goJ25vdGlmeScpXSwgZWRpdGFyTWV1TmVnb2Npby5wcm90b3R5cGUsICJvblByb3BlcnR5Q2hhbmdlZCIsIG51bGwpOwoKX19kZWNvcmF0ZShbV2F0Y2goJ3BheW1lbnRzJywgewogIGRlZXA6IHRydWUKfSldLCBlZGl0YXJNZXVOZWdvY2lvLnByb3RvdHlwZSwgIm9uUGF5bWVudHNDaGFuZ2VkIiwgbnVsbCk7CgplZGl0YXJNZXVOZWdvY2lvID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBWdWVTbGlkZXI6IFZ1ZVNsaWRlciwKICAgIExvZ29Nb2RhbDogTG9nb01vZGFsCiAgfQp9KV0sIGVkaXRhck1ldU5lZ29jaW8pOwpleHBvcnQgeyBlZGl0YXJNZXVOZWdvY2lvIH07"},{"version":3,"sources":["/home/aline/GitHub/admin-frontend/src/components/box/editarMeuNegocio/editarMeuNegocio.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, Vue, Watch } from 'vue-property-decorator';\nimport VueSlider from 'vue-slider-component';\nimport VueSimpleAlert from 'vue-simple-alert';\nimport Swal, { SweetAlertType } from 'sweetalert2';\nimport 'vue-slider-component/theme/antd.css';\nimport Cropper from 'cropperjs';\n\nimport INotification from '@/models/INotification';\nimport focusInput from '@/helpers/focusInput';\nimport userService from '@/services/user.service';\nimport categoryService from '@/services/category.service';\nimport registerService from '@/services/register.service';\nimport environment from \"@/environments/environment\";\n\nimport Compressor from 'compressorjs';\n\nimport LogoModal from '@/components/logo-modal/logo-modal.vue'\nimport { withLatestFrom } from 'rxjs-compat/operator/withLatestFrom';\n\ndeclare var google: any;\n\n@Component({\n  components: {\n    VueSlider,\n    LogoModal\n  },\n})\n\nexport class editarMeuNegocio extends Vue {\n\n  private userService = new userService();\n  private categoryService = new categoryService();\n  private registerService = new registerService();\n\n  \n  public $zendesk: any;\n  public zE: any;\n\n  public showAddressChecked: boolean = true;\n  public whenClosed: boolean = true;\n  public outOfRadius: boolean = true;\n  public showAddress: boolean = true;\n  public showCropper2: boolean = false;\n  public validSubCategory: boolean = false;\n  public categorySubcategory: any[] = [];\n  public catSubcat: string = '';\n  public autoCompleteSubCategoryOpen: boolean = false;\n  public subcategory: string = '';\n  public subcategories: any[] = [];\n  public subcategoriesData: any[] = [];\n  public comboCategories: any[] = [];\n  public usersname: Array<{\n    name: string,\n    value: string,\n    img: string,\n    selected: boolean,\n  }> = [];\n  public instaImg: string = '';\n  public userI: string = '';\n  public userName: any;\n  public validInsta: boolean = false;\n  public autoCompleteInstaOpen: boolean = false;\n  public user: any = '';\n  public users: any[] = [];\n  public face: any;\n  public instg: any;\n  public teste: any;\n  public teste2: boolean = false;\n  public facebookUser: boolean | string = false;\n  public instagramUser: boolean | string = false;\n  public finalImage: string = '';\n  public showCropper: boolean = false;\n  public destination: string = '';\n  public logoInput: string = '';\n  public publishAvailable: boolean = false;\n  public publishAvailableText: string = '';\n  public publishAvailableColor: string = '';\n  public image: HTMLImageElement = new Image();\n  public cropper: any;\n  public imageToCrop: any;\n  public map: any;\n  public circles: any[] = [];\n  public lat: any;\n  public lng: any;\n  public processStyle = {\n    color: '#00b0d0',\n    height: 7,\n  };\n  public rangeValue: number = 1;\n  public voltar: boolean = true;\n  public content: any | undefined = '';\n  public locationSelected;\n  public contentPayments: any = '';\n  public payments: any[] = [];\n  public moneys?: any[];\n  public paymentsChecked: string = '';\n  public facebook: string = '';\n  public instagram: string = '';\n  public website: string = '';\n  public selectedlang: string = '';\n  public googleApiReturn: any;\n  public name: string = '';\n  public email: string = '';\n  public celular: string = '';\n  public category: string = '';\n  public about: string = '';\n  public address: string = '';\n  public complemento: string = '';\n  public descricao: string = '';\n  public numero: string = '';\n  public cep: string = '';\n  public logradouro: string = '';\n  public bairro: string = '';\n  public cidade: string = '';\n  public documentCpf: string = '';\n  public region: string = '';\n  public size: string = '';\n  public sellerName: string = '';\n\n  public regions?: any[] = [];\n  public deliveryRegions: any[] = [];\n  public socialMedia: any[] = [];\n  public profileUrl: any[] = [];\n  public location: any;\n  public categoryId: any;\n  public errorMsg: boolean = false;\n  public autoCompleteAddress: any;\n  public autoCompleteRegion: any;\n  public markers: [] = [];\n  public places: [] = [];\n  public currentPlace: string = '';\n  public formModel: any = {};\n  public checkedNames: object[] = [];\n\n  @Prop() isActive: any = false;\n  @Prop({ default: undefined }) inputList!: object[];\n  @Prop({ default: '' }) form!: string;\n  @Prop({ default: '<strong>Loja online</strong>' }) titulo!: string;\n  @Prop({ default: 'Aqui você pode confirmar seus dados e editar as informações sobre o seu negócio' }) description!: string;\n\n  @Prop({ default: '' }) propActiveAccordion!: string;\n  @Prop({ default: true }) propHeader!: boolean;\n\n  @Prop({ default: undefined }) notify?: INotification | string = ``;\n  @Watch('notify') onPropertyChanged(value: string, oldValue: string) {\n    // console.log(value, oldValue);\n  }\n\n  public activeAccordion = this.propActiveAccordion;\n  public hasHeader = this.propHeader;\n\n  public checked: boolean = false;\n  public items: any[] = [];\n  public focused = new focusInput();\n  public reg: RegExp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/;\n  public valid: boolean = false;\n  public validAddress: boolean = false;\n  public validComplemento: boolean = false;\n  public validDescricao: boolean = false;\n  public validCategory: boolean = false;\n  public validNumero: boolean = false;\n  public validAbout: boolean = false;\n  public validRegion: boolean = false;\n  public validLogradouro: boolean = false;\n  public validCidade: boolean = false;\n  public validBairro: boolean = false;\n  public validCep: boolean = false;\n\n  public categories: Array<{\n    id: string,\n    value: string,\n    selected: boolean,\n    name: string,\n    subcategories: any[]\n  }> = [];\n  public autoCompleteCategoryOpen: boolean = false;\n  public loggedUser: any;\n  public hideAddress: boolean = false;\n  public sizes: Array<{\n    id: string,\n    value: string,\n    sigla: string,\n    selected: boolean,\n  }> = [];\n  public showLogoModal = false;\n\n  public genericChatbot: string = 'minhaloja_0';\n  public chatbotId: string = this.genericChatbot;\n\n  public setChatbotId(chatbotId, isActive) {\n    this.chatbotId = isActive ? `minhaloja_${chatbotId}` : this.genericChatbot;\n  }\n\n  public selectAllPayments: boolean = false;\n  @Watch('payments', { deep: true })\n  onPaymentsChanged(val: boolean) {\n    this.selectAllPayments = this.payments.map(payment => {\n      return payment.methods.map(method => method.active);\n    }).flat().filter(value => !value).length === 0;\n  }\n\n  async created() {\n    this.showCropper2 = false;\n    this.destination = '';\n    this.showCropper = false;\n    this.imageToCrop = '';\n    this.usersname = this.getAllUsers();\n    this.sizes = [];\n    this.processChoicesSellerSize();\n\n    const categoriesResponse = await this.registerService.getListCategories();\n    const categoriesData = await categoriesResponse.json();\n\n    this.categories = categoriesData || [];\n\n    this.userService.listProdcutsAll().then(data => {\n      data.delivery.forEach(region => this.setRegions(region));\n\n      if (!data.document) {\n        this.infoAlertNoDocument();\n        document.getElementById('document')?.removeAttribute('disabled');\n      } else if (!data.category) {\n        this.infoAlertNoCategory();\n      } else if (!data.address) {\n        this.infoAlertNoAdress();\n      }\n      this.setField(data);\n      this.celularValidate();\n      this.cpfValidate();\n    });\n    // tslint:disable-next-line:no-unused-expression\n    this.printValues;\n\n    this.userService.listPagamentos()\n      .then(async (data) => {\n        const formatedPayments = [];\n        // tslint:disable-next-line:forin\n        for (const key in data) {\n          await data[key].forEach(method => {\n            method.active = this.checked;\n          });\n          this.payments.push({ title: key, methods: data[key] });\n        }\n\n        /**\n         * Service listObterPagamentos\n         * @param listObterPagamentos\n         * servico que lista os meios de pagamentos alterados\n         * na funcao alterarPayments, trazendo selecionados\n         */\n        this.userService.listObterPagamentos()\n          // tslint:disable-next-line:no-shadowed-variable\n          .then(data => {\n            data.forEach(choice => {\n              this.payments.forEach(paymentCategory => {\n                paymentCategory.methods.map(x => x.active = x.name === choice.name ? true : x.active);\n              });\n            });\n          });\n      });\n    this.userService.getSocialMedia()\n      .then(data => {\n        data.forEach(social => {\n          this.setSocialMedia(social);\n        });\n      });\n  }\n\n\n  public openZendesk() {\n    this.$zendesk.load(\"14e6c01e-ae2c-4e2c-8c76-d461c01479c8\")\n    this.$zendesk.zE('messenger', 'open')\n}\n\n  onAccordionToggle() {\n\n  }\n\n  /**\n   * Function verify event checkbox\n   * @param printValues\n   * @param name\n   * @param status\n   */\n  printValues(name, status) {\n    if (status) {\n      this.checkedNames.push(name);\n    } else {\n      this.checkedNames = this.checkedNames.filter((item) => item !== name);\n    }\n  }\n\n  setSocialMedia(media) {\n    if (media.type === 'Facebook') {\n      this.facebook = Array.from(new Set(media.profileUrl.split('https://www.facebook.com/'))).toString();\n      this.facebook = this.facebook.replace(/,/g, '');\n    }\n    if (media.type === 'Instagram') {\n      this.instagram = Array.from(new Set(media.profileUrl.split('https://www.instagram.com/'))).toString();\n      this.instagram = this.instagram.replace(/,/g, '');\n    }\n    if (media.type === 'Personal Website') {\n      this.website = media.profileUrl.split('https://')[1];\n    }\n    this.face = this.facebook;\n    this.instg = this.instagram;\n  }\n\n\n  setField(texts: any) {\n    this.finalImage = texts.store_logo_url;\n\n    if (texts.address) {\n      this.rangeValue = texts.address.distance;\n      this.address = texts.address.street + ', ' + texts.address.neighborhood + ', ' + texts.address.city + ', ' + texts.address.state;\n      this.geocodeAddress(texts.address.street + ', ' + texts.address.number + ', ' + texts.address.neighborhood + ', ' + texts.address.city + ', ' + texts.address.state);\n      this.complemento = texts.address.complement;\n      this.about = texts.about;\n      this.region = '';\n      this.numero = texts.address.number;\n\n      this.cidade = texts.address.city;\n      this.bairro = texts.address.neighborhood;\n      this.logradouro = texts.address.street;\n      this.cep = texts.address.zipcode;\n    }\n    this.size = texts.size;\n    this.sellerName = texts.seller_name\n    this.documentCpf = texts.document;\n    this.content = texts;\n    this.name = texts.name;\n    this.celular = texts.mobile;\n    this.email = texts.email;\n    this.publishAvailable = texts.seller_disable;\n    this.publishAvailableText = this.publishAvailable ? 'Reativar conta' : 'Desativar conta';\n    this.publishAvailableColor = this.publishAvailable ? 'editBox__formData__dataBtn--button__active' : 'editBox__formData__dataBtn--button__disable';\n    this.catSubcat = texts.third_level;\n    if (texts.sub_category) {\n      // this.categorySubcategory = this.catSubcat.split(' - ');\n      this.category = texts.category;\n      this.subcategory = texts.sub_category;\n      this.validSubCategory = this.subcategory ? true : false;\n    }\n    this.hideAddress = (texts.hide_address === true) ? texts.hide_address : false;\n\n    this.valid = false;\n    this.validAddress = this.address ? true : false;\n    this.validCategory = this.category ? true : false;\n    this.validComplemento = this.complemento ? true : false;\n    this.validDescricao = this.descricao ? true : false;\n    this.validNumero = this.numero ? true : false;\n    this.validAbout = this.about ? true : false;\n    this.validRegion = false;\n    this.validLogradouro = false;\n    this.validCidade = false;\n    this.validBairro = false;\n    this.validCep = false;\n\n    this.focused.editCategory = this.category ? true : false;\n    this.focused.editSize = this.size ? true : false;\n    this.focused.editSellerName = this.sellerName ? true : false;\n    this.focused.editAddress = this.address ? true : false;\n    this.focused.editRegion = true;\n    this.focused.editAbout = this.about ? true : false;\n    this.focused.editComplemento = this.complemento ? true : false;\n    this.focused.editDescricao = this.descricao ? true : false;\n    this.focused.editNumero = this.numero ? true : false;\n    this.focused.editCep = this.cep ? true : false;\n    this.focused.editLogradouro = this.logradouro ? true : false;\n    this.focused.editCidade = this.cidade ? true : false;\n    this.focused.editBairro = this.bairro ? true : false;\n    this.subcategoriesData = this.subcategories;\n    this.clearSubcategory();\n  }\n\n  alterarAddress() {\n    this.$emit('loading', true);\n    this.userService.updateWhenClosed({ accepts_orders_when_closed: this.whenClosed});\n    this.userService.updateOutOfRadius({ accepts_distant_orders: this.outOfRadius});\n\n  \n\n    const location = {\n      distance: this.rangeValue ? this.rangeValue : null,\n      number: this.numero,\n      complement: this.complemento,\n      neighborhood: this.bairro,\n      lat: this.lat,\n      lng: this.lng,\n      city: this.cidade,\n      street: this.logradouro,\n      zipcode: this.cep,\n      show_address: this.showAddress,\n    };\n\n\n\n\n    if (\n      !location.number ||\n      !location.zipcode ||\n      !location.neighborhood ||\n      !location.city ||\n      !location.street\n    ) {\n      let emptyFields = \"\";\n\n      if (!location.zipcode) { emptyFields += '\\n Cep' }\n      if (!location.street) { emptyFields += '\\n Logradouro' }\n      if (!location.number) { emptyFields += '\\n Número' }\n      if (!location.neighborhood) { emptyFields += '\\n Bairro' }\n      if (!location.city) { emptyFields += '\\n Cidade' }\n\n      this.toastMessage('error', \"Os campos abaixo são obrigatórios:\\n\" + emptyFields);\n\n      this.$emit('loading', false);\n\n\n\n      return;\n    }\n\n\n\n   \n\n\n\n\n\n    if (location) {\n\n      \n\n\n   \n      this.userService.updateShowAddress(location)\n      this.userService.updateSellerAddress(location)\n        .then(data => {\n          if (!data.ok) {\n            this.showErrorNotification();\n            this.$emit('loading', false);\n          } else {\n            this.userService.updateSeller({ hide_address: this.hideAddress })\n              .then(userData => {\n                if (!userData.ok) {\n                  this.showErrorNotification();\n                  this.$emit('loading', false);\n                } else {\n                  this.showSuccessfullNotification();\n                  this.$emit('loading', false);\n                  window.location.reload();\n                }\n              });\n          }\n        });\n\n    }\n\n    this.focused.editNumero = this.numero ? true : false;\n\n    this.$emit('loading', false);\n  }\n\n  getSigla() {\n    const obj = this.sizes.find((item) => item.value === this.size)\n    return (obj !== undefined) ? obj.sigla : \"\";\n  }\n\n  saveData() {\n    this.$emit('loading', true);\n    if (!this.size || !this.sellerName) {\n      alert(\"Deve preencher os dados em branco, por favor preencha e tente novamente\");\n      this.showErrorNotification();\n      this.$emit('loading', false);\n    } else {\n      this.userService.updateSize(this.getSigla(), this.sellerName, this.name, this.email, this.documentCpf).then(data => {\n        if (!data.ok) {\n          data.json().then(obj => {\n            if (obj.email) {\n              this.showErrorNotification(obj.email[0]);\n            } else {\n              this.showErrorNotification();\n            }\n          })\n        } else {\n          this.showSuccessfullNotification();\n          data.json().then(obj => {\n            localStorage.setItem('loggedUser', JSON.stringify(obj));\n            this.loggedUser = obj;\n            window.location.reload();\n          });\n        }\n      })\n        .catch((error) => {\n          console.log(error)\n        })\n        .finally(() => this.$emit('loading', false));\n    }\n  }\n\n  alterSellerStatus() {\n    if (this.publishAvailable) {\n      this.userService.habilitaVendedor().then(value => {\n        if (value.status !== 202) {\n          this.showErrorNotification();\n        } else {\n          this.showSuccessfullNotification();\n          this.publishAvailable = false;\n          this.publishAvailableText = 'Desativar conta';\n        }\n      });\n    } else {\n      this.userService.desabilitaVendedor().then(value => {\n        if (value.status !== 202) {\n          this.showErrorNotification();\n        } else {\n          this.showSuccessfullNotification();\n          this.publishAvailable = true;\n          this.publishAvailableText = 'Reativar conta';\n        }\n      });\n    }\n    this.publishAvailableColor = this.publishAvailable ? 'editBox__formData__dataBtn--button__disable' : 'editBox__formData__dataBtn--button__active';\n  }\n\n  saveCategory() {\n    this.$emit('loading', true);\n    if (this.subcategory === '' && this.category !== '') {\n      this.showErrorNotification();\n      this.$emit('loading', false);\n    } else {\n      // const value = this.category + ' - ' + this.subcategory;\n      // this.categoryId = this.categories.filter(c => c.value === value)[0].id;\n      const subcategory = this.subcategories.find(subcategory => subcategory.name === this.subcategory);\n      if (subcategory) {\n        this.userService.updateCategory({ cnae: subcategory.cnae })\n          .then(data => {\n            if (!data.ok) {\n              this.showErrorNotification();\n              this.$emit('loading', false);\n            } else {\n              this.userService.updateSeller({ about: this.about })\n                .then(userData => {\n                  if (!userData.ok) {\n                    this.showErrorNotification();\n                  } else {\n                    this.showSuccessfullNotification();\n                    const logged: any = JSON.parse(localStorage.getItem('loggedUser') || '');\n                    logged.category = this.category;\n                    logged.subscribe = this.subcategory;\n                    logged.about = this.about;\n                    localStorage.setItem('loggedUser', JSON.stringify(logged));\n                  }\n                  this.$emit('loading', false);\n                  window.location.reload();\n                });\n            }\n          });\n      } else {\n        this.userService.updateSeller({ about: this.about })\n          .then(data => {\n            if (!data.ok) {\n              this.showErrorNotification();\n              this.$emit('loading', false);\n            } else {\n              this.showSuccessfullNotification();\n              this.$emit('loading', false);\n            }\n          });\n      }\n    }\n  }\n\n  alterarSocialMedia() {\n    window.event?.preventDefault();\n    this.socialMedia = [];\n    this.$emit('loading', true);\n    this.instagramUser = false;\n    this.facebookUser = false;\n    localStorage.setItem('facebook', 'true');\n    localStorage.setItem('instagram', 'true');\n    if (!this.face) {\n      this.face = '';\n    }\n    if (!this.instg) {\n      this.instg = '';\n    }\n\n    if (this.facebook.length > 0) {\n      this.verificar('facebook');\n      setTimeout(() => {\n        if (localStorage.getItem('facebook') === 'true') {\n          this.socialMedia.push({\n            status: this.facebook ? true : false,\n            profileUrl: 'https://www.facebook.com/' + this.facebook,\n            type: 'Facebook',\n          });\n        } else {\n          this.socialMedia.push({\n            status: this.face ? true : false,\n            profileUrl: 'https://www.facebook.com/' + this.face,\n            type: 'Facebook',\n          });\n        }\n      }, 510);\n    }\n    if (this.instagram.length > 0) {\n      setTimeout(() => {\n        if (localStorage.getItem('instagram') === 'true') {\n          this.socialMedia.push({\n            status: this.instagram ? true : false,\n            profileUrl: 'https://www.instagram.com/' + this.instagram,\n            type: 'Instagram',\n          });\n        } else {\n          this.socialMedia.push({\n            status: this.instg ? true : false,\n            profileUrl: 'https://www.instagram.com/' + this.instg,\n            type: 'Instagram',\n          });\n        }\n      }, 510);\n      this.verificar('instagram');\n    }\n    if (this.website.length > 0) {\n      this.socialMedia.push({\n        status: this.website ? true : false,\n        profileUrl: 'https://' + this.website,\n        type: 'Personal Website',\n      });\n    }\n    setTimeout(() => {\n      this.userService.postSocialMedia(this.socialMedia)\n        .then(data => {\n          if (!data.ok || this.instagramUser !== false || this.facebookUser !== false) {\n            this.showErrorNotification();\n            this.$emit('loading', false);\n            if (this.instagramUser === false) {\n              this.instg = this.instagram;\n            }\n            if (this.facebookUser === false) {\n              this.face = this.facebook;\n            }\n          } else {\n            this.showSuccessfullNotification();\n            this.$emit('loading', false);\n            this.socialMedia = [];\n            this.face = this.facebook;\n            this.instg = this.instagram;\n          }\n        })\n        .catch(err => console.log(err));\n      localStorage.removeItem('instagram');\n      localStorage.removeItem('facebook');\n    }, 600);\n  }\n\n\n  // updatePostSocial() {\n  //   this.$emit('loading', false);\n  //   this.service.getSocialMedia()\n  //   .then(data => data.json())\n  //   .then(data => {\n  //     if (!data.ok) {\n  //       this.showErrorNotification();\n  //       this.$emit('loading', false);\n  //     } else {\n  //       this.$emit('loading', false);\n  //       this.socialMedia.push(data);\n  //     }\n  //   })\n  //   .catch(err => {\n  //     console.log(err);\n  //   })\n  // }\n\n  /**\n   * Param alterarPayments\n   * @param  alterarPayments\n   * funcao que seleciona o meio de pagamento,\n   * altera o meio de pagamento\n   * e envia o meio de pagamento\n   */\n  async alterarPayments() {\n    window.event?.preventDefault();\n    this.$emit('loading', true);\n    await this.payments.forEach(paymentCategory => {\n      paymentCategory.methods.forEach(method => {\n        if (method.active) {\n          this.checkedNames.push(method.name);\n        }\n      });\n    });\n    this.userService.listUpdatePagamentos(this.checkedNames)\n      .then(paymentsChecked => {\n        if (!paymentsChecked.ok) {\n          this.showErrorNotification();\n          this.$emit('loading', false);\n        } else {\n          this.$emit('loading', false);\n          this.checked = true;\n          this.checkedNames = [];\n          this.showSuccessfullNotification();\n        }\n      });\n  }\n\n  cpfValidate() {\n    if (this.documentCpf && this.documentCpf !== null && this.documentCpf.length > 0 && this.documentCpf.length <= 11) {\n      this.documentCpf = this.documentCpf.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{2})/, (regex, arg1, arg2, arg3, arg4) => `${arg1}.${arg2}.${arg3}-${arg4}`);\n    } else if (this.documentCpf !== null) {\n      this.documentCpf = this.documentCpf.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/, (regex, arg1, arg2, arg3, arg4, arg5) => `${arg1}.${arg2}.${arg3}/${arg4}-${arg5}`);\n    }\n  }\n\n  celularValidate() {\n    this.celular = this.celular.replace(/(\\d{2})(\\d{5})(\\d{4})/, (regex, arg1, arg2, arg3) => `(${arg1}) ${arg2} - ${arg3}`);\n  }\n\n  public isCategoryValid() {\n    this.validCategory = (this.category) ? (this.reg.test(this.category)) ? true : false : false;\n  }\n\n  public isAddressValid() {\n    this.validAddress = (this.address === '')\n      ? (this.reg.test(this.address))\n        ? true\n        : false\n      : false;\n  }\n\n  public isRegionValid() {\n    this.validRegion = (this.region === '') ? (this.reg.test(this.region)) ? true : false : false;\n  }\n\n  public isCepValid() {\n    this.validCep = (this.cep === '') ? (this.reg.test(this.cep)) ? true : false : false;\n  }\n\n  public isBairroValid() {\n    this.validBairro = (this.bairro === '') ? (this.reg.test(this.bairro)) ? true : false : false;\n  }\n\n  public isCidadeValid() {\n    this.validCidade = (this.cidade === '') ? (this.reg.test(this.cidade)) ? true : false : false;\n  }\n\n  public isLogradouroValid() {\n    this.validLogradouro = (this.logradouro === '') ? (this.reg.test(this.logradouro)) ? true : false : false;\n  }\n\n  async mounted() {\n    this.autocompleteInit();\n    this.initMap();\n    // this.combo();\n    this.getInstagramCode();\n    const sellerObject = await this.userService.getSellerShowAddress()\n    this.showAddressChecked = sellerObject.show_address;\n    this.showAddress = sellerObject.show_address;\n\n \n\n    const whenClosedSeller = await this.userService.getSellerWhenClosed()\n    this.whenClosed = whenClosedSeller.accepts_orders_when_closed;\n\n\n    const getOutOfRadius = await this.userService.getSellerOutOfRadius()\n    this.outOfRadius = getOutOfRadius.accepts_distant_orders\n\n\n   \n  }\n\n\n  async infoAlertNoDocument() {\n    this.notify = {\n      icon: require('./../../../assets/images/icon_error.png'),\n      text: `\n          <strong>ATENÇÃO: Sua loja não está sendo exibida!</strong><br />Para você ficar visível aos seus clientes, é necessário que preencha um número de documento válido do seu negócio ou do responsável legal.\n        `,\n      color: '#ffd1c4',\n      active: true,\n      type: 'error',\n      text_align_left: true,\n    };\n    const response = await this.registerService.validateTokenSeller();\n    if (!response.ok) {\n      localStorage.removeItem('pertinho');\n      localStorage.removeItem('loggedUser');\n      this.$router.push('login');\n    }\n  }\n\n  async infoAlertNoCategory() {\n    this.notify = {\n      icon: require('./../../../assets/images/icon_error.png'),\n      text: `\n          <strong>ATENÇÃO: Sua loja não está sendo exibida!</strong><br />Para você ficar visível aos seus clientes, é necessário que preencha uma categoria, uma subcategoria e uma descrição para o seu negócio.\n        `,\n      color: '#ffd1c4',\n      active: true,\n      type: 'error',\n      text_align_left: true,\n    };\n    const response = await this.registerService.validateTokenSeller();\n    if (!response.ok) {\n      localStorage.removeItem('pertinho');\n      localStorage.removeItem('loggedUser');\n      this.$router.push('login');\n    }\n  }\n\n  async infoAlertNoAdress() {\n    this.notify = {\n      icon: require('./../../../assets/images/icon_error.png'),\n      text: `\n          <strong>ATENÇÃO: Sua loja não está sendo exibida!</strong><br/>Para você ficar visível aos seus clientes, é necessário que preencha o endereço do seu negócio e o raio de atendimento.\n        `,\n      color: '#ffd1c4',\n      active: true,\n      type: 'error',\n      text_align_left: true,\n    };\n    const response = await this.registerService.validateTokenSeller();\n    if (!response.ok) {\n      localStorage.removeItem('pertinho');\n      localStorage.removeItem('loggedUser');\n      this.$router.push('login');\n    }\n  }\n\n  initMap() {\n    const logged: any = localStorage.getItem('loggedUser');\n    this.loggedUser = JSON.parse(logged);\n    if (this.loggedUser.address) {\n      this.map = new google.maps.Map(document.getElementById('map'), {\n        zoom: 13,\n        center: {\n          lat: parseFloat(this.loggedUser.address.lat),\n          lng: parseFloat(this.loggedUser.address.lng),\n        },\n        panControl: true,\n        zoomControl: true,\n        mapTypeControl: true,\n      });\n    }\n  }\n\n  autocompleteInit() {\n    const $ctrl = this;\n\n    const options = {\n      componentRestrictions: { country: \"br\" },\n      language: [\"pt-BR\"],\n      fields: [\"address_components\", \"geometry\", \"formatted_address\"],\n    };\n\n    /**\n     * input auto complete address\n     */\n\n    this.autoCompleteAddress = new google.maps.places.Autocomplete(this.$refs.autoCompleteAddress as HTMLElement, options);\n    google.maps.event.addListener(this.autoCompleteAddress, `place_changed`, () => {\n      $ctrl.googleApiReturn = $ctrl.autoCompleteAddress.getPlace();\n\n      $ctrl.numero = $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'street_number').length > 0\n        ? $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'street_number')[0].long_name\n        : '';\n\n      $ctrl.cep = $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'postal_code').length > 0\n        ? $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'postal_code')[0].long_name\n        : '';\n\n      $ctrl.focused.editCep = true;\n\n      $ctrl.logradouro = $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'route').length > 0\n        ? $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'route')[0].long_name\n        : '';\n\n      $ctrl.cidade = $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'administrative_area_level_2').length > 0\n        ? $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'administrative_area_level_2')[0].long_name\n        : '';\n\n      $ctrl.bairro = $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'sublocality_level_1').length > 0\n        ? $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'sublocality_level_1')[0].long_name\n        : '';\n\n      $ctrl.address = $ctrl.googleApiReturn.formatted_address\n\n      const location = {\n        lat: $ctrl.googleApiReturn.geometry.location.lat(),\n        lng: $ctrl.googleApiReturn.geometry.location.lng(),\n      };\n\n      $ctrl.map = new google.maps.Map(document.getElementById('map'), {\n        zoom: 13,\n        center: location,\n        panControl: true,\n        zoomControl: true,\n        mapTypeControl: true,\n        scaleControl: false,\n        streetViewControl: false,\n        overviewMapControl: true,\n        rotateControl: false,\n      });\n\n      new google.maps.Marker({\n        position: location,\n        center: location,\n        map: $ctrl.map,\n        draggable: false,\n        icon: {\n          url: require('../../../assets/images/icon-place.png'),\n          size: new google.maps.Size(28, 40),\n          origin: new google.maps.Point(0, 0),\n          anchor: new google.maps.Point(18, 18),\n          scaledSize: new google.maps.Size(28, 40),\n        },\n      });\n      $ctrl.lat = location.lat;\n      $ctrl.lng = location.lng;\n      $ctrl.plotCircle(location.lat, location.lng);\n    });\n  }\n\n  plotCircle(lat, lng) {\n    this.removeAllcircles();\n    const circulo = new google.maps.Circle({\n      map: this.map,\n      center: new google.maps.LatLng(lat, lng),\n      radius: this.rangeValue * 1000,\n      strokeColor: '#00b0d0',\n      strokeOpacity: 0.8,\n      strokeWeight: 1,\n      fillColor: '#00b0d0',\n      fillOpacity: 0.35,\n    });\n    this.circles.push(circulo);\n    const bounds = new google.maps.LatLngBounds();\n    bounds.union(circulo.getBounds());\n    this.map.fitBounds(bounds, 1);\n    this.map.setCenter({ lat, lng });\n  }\n\n  geocodeAddress(address) {\n    const $ctrl = this;\n\n    const geocoder = new google.maps.Geocoder();\n    geocoder.geocode(\n      { address },\n      (results, status) => {\n        if (status === 'OK') {\n          const location = {\n            lat: results[0].geometry.location.lat(),\n            lng: results[0].geometry.location.lng(),\n          };\n          $ctrl.lat = results[0].geometry.location.lat();\n          $ctrl.lng = results[0].geometry.location.lng();\n          $ctrl.map = new google.maps.Map(document.getElementById('map'), {\n            zoom: 13,\n            center: location,\n            panControl: false,\n            zoomControl: false,\n            mapTypeControl: true,\n            scaleControl: false,\n            streetViewControl: false,\n            overviewMapControl: false,\n            rotateControl: false,\n          });\n\n          const marker = new google.maps.Marker({\n            position: location,\n            center: location,\n            map: $ctrl.map,\n            draggable: false,\n            icon: {\n              url: require('../../../assets/images/icon-place.png'),\n              size: new google.maps.Size(28, 40),\n              origin: new google.maps.Point(0, 0),\n              anchor: new google.maps.Point(18, 18),\n              scaledSize: new google.maps.Size(28, 40),\n            },\n          });\n          $ctrl.plotCircle(results[0].geometry.location.lat(), results[0].geometry.location.lng());\n        }\n      },\n    );\n  }\n\n  removeAllcircles() {\n    // tslint:disable-next-line:forin\n    for (const i in this.circles) {\n      this.circles[i].setMap(null);\n    }\n    this.circles = [];\n  }\n\n  setRegions(data) {\n    this.regions?.push(data);\n    this.region = '';\n  }\n\n  formCancel() {\n    window.event?.preventDefault();\n  }\n\n  filterCategories() {\n    const re = new RegExp(this.category, 'gi');\n    return this.comboCategories.filter(c => c.toString().toLowerCase().search(re) > -1);\n  }\n\n  clearSelectedCategory() {\n    this.filterCategories().map((data) => {\n      data = '';\n    });\n  }\n\n  setCategory(category: any) {\n    this.clearSelectedCategory();\n\n    this.autoCompleteCategoryOpen = false;\n    this.focused.editCategory = true;\n    if (this.category) {\n      this.subcategory = '';\n      this.validCategory = true;\n      this.clearSubcategory();\n    }\n  }\n\n  setSize(selected: any) {\n    const selected_seller = selected.target;\n    this.size = selected_seller.value;\n  }\n\n  public getChoicesSellerSize() {\n    const headers = {\n      'Authorization': environment.setAuthorizationToken(),\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Headers': 'Content-Type',\n    };\n    const requestOptions = { headers: headers };\n    // console.log(\"fetchhhhh retorno\", fetch(`${environment.setAPI()}/choices/sellersize/`, requestOptions))\n    return fetch(`${environment.setAPI()}/choices/sellersize/`, requestOptions);\n  }\n\n  private async processChoicesSellerSize() {\n    const response = await this.getChoicesSellerSize();\n    switch (response.status) {\n      case 200:\n      case 201:\n      case 202:\n        const data = await response.json();\n        data.map((seller: any[]) => {\n          if (this.sizes) {\n            this.sizes.push({ id: seller[0], value: `${seller[1]}`, sigla: `${seller[0]}`, selected: false });\n          }\n        });\n        break;\n    }\n  }\n\n  deleteRegion(data) {\n    this.regions = data;\n  }\n\n  public isComplementoValid() {\n    this.validComplemento = this.complemento === '' ? false : true;\n  }\n\n  public isDescricaoValid() {\n    this.validDescricao = this.descricao === '' ? false : true;\n  }\n\n  public isNumeroValid() {\n    this.validNumero = this.numero === '' ? false : true;\n  }\n\n  public isAboutValid() {\n    this.validAbout = this.about === '' ? false : true;\n  }\n\n  showSuccessfullNotification() {\n    this.$fire({\n      type: 'success',\n      title: 'Alterações salvas com sucesso',\n      toast: true,\n      position: 'top',\n      showCloseButton: true,\n      showConfirmButton: false,\n      timer: 3000,\n    })\n  }\n\n  async showErrorNotification(text?: string) {\n    this.$fire({\n      type: 'error',\n      title: text || 'Erro ao efetuar alteração!',\n      showCloseButton: true,\n      showConfirmButton: false,\n      timer: 4000,\n      toast: true,\n      position: 'top',\n    });\n    const response = await this.registerService.validateTokenSeller();\n    if (!response.ok) {\n      localStorage.removeItem('pertinho');\n      localStorage.removeItem('loggedUser');\n      this.$router.push('login');\n    }\n  }\n\n  showNotification(data) {\n    this.notify = data;\n  }\n\n  getRangeValue() {\n    const range: any = this.$refs.slider;\n    this.plotCircle(this.lat, this.lng);\n  }\n\n  async infoAlertVendedor() {\n    this.notify = {\n      icon: require('./../../../assets/images/icon_error.png'),\n      text: `\n          <strong>Atenção!</strong><br />Os campos \"Nome\", \"E-mail\", \"Telefone\" e \"Documento\" não são editáveis. Caso seja necessária alteração, por gentileza enviar e-mail para <a style=\"color: black; text-decoration:underline;\" href=\"mailto:contato@pertinhodecasa.com.br\" target=\"_blank\">contato@pertinhodecasa.com.br.</a>\n        `,\n      color: '#c3e4e7',\n      active: true,\n      type: 'error',\n    };\n    const response = await this.registerService.validateTokenSeller();\n    if (!response.ok) {\n      localStorage.removeItem('pertinho');\n      localStorage.removeItem('loggedUser');\n      this.$router.push('login');\n    }\n  }\n\n  uploadLogo() {\n    this.$emit('loading', true);\n    this.userService.uploadlogo(this.loggedUser.slug, this.destination)\n      .then(data => {\n        if (!data.ok) {\n          this.showErrorNotification();\n          this.$emit('loading', false);\n        } else {\n          this.showSuccessfullNotification();\n          this.$emit('loading', false);\n        }\n      });\n  }\n\n  getImageToCrop(event) {\n    if (event.target.files.length && event.target.files[0].size / 1000000 < 10) {\n      const imageFile = event.target.files[0];\n      // const reader = new FileReader();\n      // reader.readAsDataURL(imageFile);\n      // reader.onload = (e: any) => {\n      //     this.imageToCrop = e.target.result;\n      //     this.updateLogo();\n      // };\n      this.imageToCrop = imageFile;\n      this.updateLogo();\n    } else {\n      this.showErrorNotification();\n    }\n  }\n\n  destroyCropper() {\n    this.cropper.destroy();\n    this.showCropper = false;\n  }\n\n  saveCroppedImage() {\n    this.destroyCropper();\n    this.uploadLogo();\n    this.showCropper = false;\n  }\n\n  async updateLogo() {\n    this.$emit('loading', true);\n    const compressor = new Compressor(this.imageToCrop, {\n      quality: 0.5,\n      width: 1250,\n      height: 1250,\n      convertSize: 0,\n      success: (imageCompressed) => {\n        const reader = new FileReader();\n        if (imageCompressed.size / 1000000 < 6) {\n          this.imageToCrop = imageCompressed;\n          reader.readAsDataURL(imageCompressed);\n          reader.onload = (e: any) => {\n            this.imageToCrop = e.target.result;\n            this.$emit('loading', false);\n            this.destination = e.target.result;\n            this.cropInit();\n          };\n        } else {\n          alert(\"Reduza o tamanho de imagem e tente novamente.\");\n          this.$emit('loading', false);\n        }\n      },\n      error: (err) => {\n        console.log(\"error comprimindo imagem\", err.message);\n        this.$emit('loading', false);\n      },\n    });\n  }\n\n  cropInit() {\n    this.image = this.$refs.image as HTMLImageElement;\n    try {\n      this.showCropper = true;\n      this.cropper = new Cropper(this.image, {\n        guides: true,\n        zoomable: true,\n        dragMode: 'move',\n        scalable: true,\n        center: true,\n        autoCropArea: 0.65,\n        responsive: true,\n        restore: false,\n        cropBoxMovable: false,\n        cropBoxResizable: false,\n        wheelZoomRatio: 0.1,\n        aspectRatio: 1 / 1,\n        initialAspectRatio: 1 / 1,\n        modal: true,\n        zoomOnWheel: false,\n        ready: (ready) => {\n          const canvas = this.cropper.getCroppedCanvas({\n            imageSmoothingQuality: 'high',\n            maxWidth: 400,\n            maxHeight: 400,\n          });\n          this.destination = canvas.toDataURL('image/png');\n          this.logoInput = this.destination;\n        },\n        crop: () => {\n          const canvas = this.cropper.getCroppedCanvas({\n            imageSmoothingQuality: 'high',\n            maxWidth: 400,\n            maxHeight: 400,\n          });\n          this.destination = canvas.toDataURL('image/png');\n          this.logoInput = this.destination;\n        },\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  cropperZoom(value: number) {\n    this.cropper.zoom(value);\n  }\n\n  cropperRotate(value: number) {\n    this.cropper.rotate(value);\n  }\n  verificar(type) {\n    if (type === 'facebook') {\n      const request = require('request');\n      request.get({\n        encoding: 'utf-8',\n        method: 'GET',\n        uri: `http://graph.facebook.com/${this.facebook}`,\n        followRedirect: false,\n      }, (err, res, body) => localStorage.setItem('body', body));\n      setTimeout(() => {\n        const body: any = localStorage.getItem('body');\n        this.teste = JSON.parse(body);\n        if (this.teste.error.message.includes('requested do not exist')) {\n          this.facebookUser = 'Verifique seu usuário do Facebook';\n          localStorage.setItem('facebook', 'false');\n        } else {\n          this.facebookUser = false;\n        }\n      }, 500);\n      setTimeout(() => {\n        localStorage.removeItem('body');\n      }, 600);\n    }\n    if (type === 'instagram') {\n      fetch(`https://www.instagram.com/${this.instagram}/?__a=1`)\n        .then(response => {\n          if (response.status === 200) {\n            this.instagramUser = false;\n          } else {\n            this.instagramUser = 'Verifique seu usuário do Instagram';\n            localStorage.setItem('instagram', 'false');\n          }\n        });\n    }\n  }\n\n  filterInsta() {\n    this.usersname = [];\n    const requestOptions = {\n      method: 'GET',\n    };\n    return fetch(`https://www.instagram.com/web/search/topsearch/?query=${this.instagram}`, requestOptions).then(response =>\n      response.text().then((text: any) => {\n        const data = text && JSON.parse(text);\n        data.users.forEach(users => {\n          this.setUser(users);\n        });\n        return data;\n      }));\n  }\n\n  setUser(data) {\n    this.users?.push(data.user);\n    this.user = '';\n    const i = {\n      name: data.user.username,\n      value: data.user.full_name,\n      img: data.user.profile_pic_url,\n      selected: false,\n    };\n    this.usersname.push(i);\n    this.usersname.filter((elem, index, self) => index === self.indexOf(elem));\n  }\n\n  getAllUsers() {\n    const un: any = [{ name: ' ', value: ' ', img: '' }];\n    return un;\n  }\n\n  setInsta(instagram: any) {\n    this.clearSelectedInsta();\n    instagram.selected = true;\n    this.instaImg = instagram.img;\n    this.userI = instagram.value;\n    this.userName = instagram.name;\n    this.autoCompleteInstaOpen = false;\n    this.validInsta = true;\n    this.instagram = instagram.name;\n  }\n  public isInstaValid() {\n    this.validInsta = (this.instagram) ? (this.reg.test(this.instagram)) ? true : false : false;\n  }\n\n  clearSelectedInsta() {\n    this.filterInstagram().map((data) => {\n      data.selected = false;\n      this.userI = '';\n    });\n  }\n\n  filterInstagram() {\n    let c: any[] = [];\n    // tslint:disable-next-line:no-shadowed-variable\n    c = this.usersname.filter(c => c.name.substring(0, this.instagram.length) === this.instagram.substring(0, this.instagram.length));\n    if (c.length > 1) {\n      c.reverse();\n      c.filter((elem, index, self) => index === self.indexOf(elem));\n      while (c[0].name === c[c.length - 1].name && c.length > 1) {\n        c.pop();\n      }\n    }\n    // tslint:disable-next-line:no-shadowed-variable\n    return c.filter(c => c.name.substring(0, this.instagram.length) === this.instagram.substring(0, this.instagram.length));\n  }\n\n  combo() {\n    const teste = (this.categories.length) - 1;\n    let i = 0;\n    const cat: any[] = [];\n    const testecat: any[] = [];\n    let c;\n    let scat: any[] = [];\n    for (c = 0; c <= teste; c++) {\n      cat[c] = this.categories[c].value.split(' - ');\n    }\n    for (c = 0; c < teste; c++) {\n      testecat[c] = cat[c][0];\n    }\n    this.comboCategories[i] = testecat[0];\n    for (c = 0; c <= teste; c++) {\n      if (this.comboCategories[i] !== testecat[c]) {\n        this.comboCategories.push(testecat[c]);\n        i = i + 1;\n      }\n    }\n    this.comboCategories.pop();\n    const teste2 = this.comboCategories.length - 1;\n\n    for (i = 0; i <= teste2; i++) {\n      scat = [];\n      let j = 0;\n      for (c = 0; c <= teste; c++) {\n        if (cat[c][0] === this.comboCategories[i]) {\n          scat[j] = cat[c][1];\n          j++;\n        }\n        this.subcategories[i] = scat;\n        this.subcategoriesData[i] = scat;\n      }\n    }\n    this.filterCategory();\n    this.filterSubCategory();\n  }\n\n  filterSubCategories() {\n    const re = new RegExp(this.subcategory, 'gi');\n    let j = 0;\n    let subcat: any[] = [];\n\n    if (this.category !== null) {\n      for (j; j < this.comboCategories.length; j++) {\n        if (this.category === this.comboCategories[j]) {\n          subcat = [];\n          subcat = this.subcategories[j];\n        }\n      }\n    }\n    return subcat.filter(c => c.toString().toLowerCase().search(re) > -1);\n  }\n\n  setSubCategory(subcategory: any) {\n    const box: HTMLSelectElement = document.getElementById('subcategory') as HTMLSelectElement;\n    this.subcategory = box.options[box.selectedIndex].text;\n    this.autoCompleteSubCategoryOpen = false;\n    this.validSubCategory = true;\n  }\n\n  filterCategory() {\n    const select: HTMLSelectElement = document.getElementById('category') as HTMLSelectElement;\n    if (this.comboCategories && this.comboCategories.length) {\n      this.comboCategories.map(value => {\n        select.options[select.options.length] = new Option(value.toString());\n      });\n    }\n  }\n\n  filterSubCategory() {\n    const select: HTMLSelectElement = document.getElementById('subcategory') as HTMLSelectElement;\n    const index = this.comboCategories.indexOf(this.category, 0);\n    if (this.subcategoriesData[index]) {\n      this.subcategoriesData[index].map(value => {\n        select.options[select.options.length] = new Option(value.toString());\n      });\n    }\n  }\n  handleSuccessCloseModal() {\n    this.showLogoModal = false\n    this.toastMessage('success', 'Logo atualizada com sucesso')\n    window.location.reload();\n  }\n  clearSubcategory() {\n    this.subcategories = [];\n    const category = this.categories.find(category => category.name === this.category);\n\n    if (category) {\n      this.subcategories = category.subcategories;\n    }\n    // const select: HTMLSelectElement = document.getElementById('subcategory') as HTMLSelectElement;\n    // for (let i = select.options.length; i !== 0; i--) {\n    //   select.options.remove(i);\n    // }\n    // this.filterSubCategory();\n  }\n\n  public onSelectAllPaymentsChange(event) {\n    this.payments.forEach((payment) => {\n      payment.methods.forEach(method => method.active = event.target.checked);\n    });\n  }\n\n  public openInstagramAuth() {\n    window.open(environment.getInstagramAuthUrl(), '_self');\n  }\n\n  public async optOutInstagram() {\n    await this.userService.optOutInstagram();\n    this.userService.getSocialMedia()\n      .then(data => {\n        data.forEach(social => {\n          this.setSocialMedia(social);\n        });\n      });\n  }\n\n  async getInstagramCode() {\n    const code = this.$route.query.code;\n    if (code) {\n      await this.userService.authorizeInstagram(code);\n      this.userService.getSocialMedia()\n        .then(data => {\n          data.forEach(social => {\n            this.setSocialMedia(social);\n          });\n        });\n    }\n  }\n\n  private toastMessage(type: SweetAlertType, title: string) {\n    VueSimpleAlert.fire({\n      type,\n      title,\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 3000,\n      onOpen: (toast) => {\n        toast.addEventListener('mouseenter', Swal.stopTimer),\n          toast.addEventListener('mouseleave', Swal.resumeTimer);\n      },\n    });\n  }\n}\n"],"sourceRoot":""}]}