{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js!/home/aline/AstaPrecifique/node_modules/ts-loader/index.js??ref--13-2!/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/views/Product/ProductCreateOrEditImages.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/AstaPrecifique/src/views/Product/ProductCreateOrEditImages.vue","mtime":1673321154842},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5hbGwtc2V0dGxlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2FsaW5lL0FzdGFQcmVjaWZpcXVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2FsaW5lL0FzdGFQcmVjaWZpcXVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgUHJvZHVjdENyZWF0ZU9yRWRpdFN0ZXAgZnJvbSAiQC92aWV3cy9Qcm9kdWN0L1Byb2R1Y3RDcmVhdGVPckVkaXRTdGVwLnZ1ZSI7CmltcG9ydCBQcm9kdWN0SW1hZ2VDYXJvdXNlbCBmcm9tICJAL2NvbXBvbmVudHMvcHJvZHVjdC1tb2RhbC9wcm9kdWN0LWltYWdlLWNhcm91c2VsL1Byb2R1Y3RJbWFnZUNhcm91c2VsLnZ1ZSI7CmltcG9ydCBQcm9kdWN0TG9hZGluZ1NjcmVlbiBmcm9tICJAL2NvbXBvbmVudHMvcHJvZHVjdC1tb2RhbC9wcm9kdWN0LWxvYWRpbmctc2NyZWVuL1Byb2R1Y3RMb2FkaW5nU2NyZWVuLnZ1ZSI7CmltcG9ydCBQcm9kdWN0SW1hZ2VDcm9wcGVyIGZyb20gIkAvY29tcG9uZW50cy9wcm9kdWN0LW1vZGFsL3Byb2R1Y3QtaW1hZ2UtY3JvcHBlci9Qcm9kdWN0SW1hZ2VDcm9wcGVyLnZ1ZSI7CmltcG9ydCBDb21wcmVzc29yIGZyb20gImNvbXByZXNzb3JqcyI7CmltcG9ydCBwcm9kdWN0c1NlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9wcm9kdWN0cy5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogIlByb2R1Y3RDcmVhdGVPckVkaXRJbWFnZXMiLAogIGNvbXBvbmVudHM6IHsKICAgIFByb2R1Y3RJbWFnZUNyb3BwZXI6IFByb2R1Y3RJbWFnZUNyb3BwZXIsCiAgICBQcm9kdWN0TG9hZGluZ1NjcmVlbjogUHJvZHVjdExvYWRpbmdTY3JlZW4sCiAgICBQcm9kdWN0SW1hZ2VDYXJvdXNlbDogUHJvZHVjdEltYWdlQ2Fyb3VzZWwsCiAgICBQcm9kdWN0Q3JlYXRlT3JFZGl0U3RlcDogUHJvZHVjdENyZWF0ZU9yRWRpdFN0ZXAKICB9LAogIHByb3BzOiB7CiAgICBvcGVuOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0sCiAgICBwcm9kdWN0R3VpZDogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBpc1NlcnZpY2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgaXNVcGRhdGVQYWdlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHByb2R1Y3Q6IHsKICAgICAgdHlwZTogW09iamVjdCwgQm9vbGVhbl0sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlVG9Dcm9wUG9zaXRpb246IG51bGwsCiAgICAgIGltYWdlVG9Dcm9wOiBudWxsLAogICAgICBpbWFnZUxpc3Q6IFtdLAogICAgICBvcGVuTG9hZGluZ1NjcmVlbjogZmFsc2UsCiAgICAgIHByb2R1Y3RMb2FkaW5nOiBmYWxzZSwKICAgICAgcHJvZHVjdHNTZXJ2aWNlOiBuZXcgcHJvZHVjdHNTZXJ2aWNlKCksCiAgICAgIG9wZW5JbWFnZUNyb3BwZXI6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN0ZXBUaXRsZTogZnVuY3Rpb24gc3RlcFRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5pc1VwZGF0ZVBhZ2UgPyAiRm90b3MgZG8gIi5jb25jYXQodGhpcy5pc1NlcnZpY2UgPyAnc2VydmnDp28nIDogJ3Byb2R1dG8nKSA6ICJNZWxob3JlIHNldSBhblx4RkFuY2lvIGNvbSBmb3RvcyBkbyBzZXUgIi5jb25jYXQodGhpcy5pc1NlcnZpY2UgPyAnc2VydmnDp28nIDogJ3Byb2R1dG8nKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5wcm9kdWN0KSB7CiAgICAgIHRoaXMuaW1hZ2VMaXN0ID0gdGhpcy5wcm9kdWN0LmltYWdlX2xpc3Q7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRJbWFnZTogZnVuY3Rpb24gYWRkSW1hZ2UoKSB7CiAgICAgIHRoaXMuJHJlZnMuaW1hZ2VJbnB1dC5jbGljaygpOwogICAgfSwKICAgIGRlbGV0ZUltYWdlOiBmdW5jdGlvbiBkZWxldGVJbWFnZShpbmRleCkgewogICAgICB0aGlzLmltYWdlTGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIGNyb3BJbWFnZTogZnVuY3Rpb24gY3JvcEltYWdlKGluZGV4KSB7CiAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2VMaXN0W2luZGV4XTsKICAgICAgdGhpcy5pbWFnZVRvQ3JvcCA9IGltYWdlLmltYWdlX3VybDsKICAgICAgdGhpcy5pbWFnZVRvQ3JvcFBvc2l0aW9uID0gaW5kZXg7CiAgICAgIHRoaXMub3BlbkltYWdlQ3JvcHBlciA9IHRydWU7CiAgICB9LAogICAgY2xvc2VJbWFnZUNyb3BwZXI6IGZ1bmN0aW9uIGNsb3NlSW1hZ2VDcm9wcGVyKF9yZWYpIHsKICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksCiAgICAgICAgICBtZXNzYWdlID0gX3JlZjJbMF0sCiAgICAgICAgICBpbWFnZSA9IF9yZWYyWzFdOwoKICAgICAgaWYgKG1lc3NhZ2UgPT09ICdzdWNjZXNzJykgewogICAgICAgIHRoaXMuJHNldCh0aGlzLmltYWdlTGlzdCwgaW1hZ2UucG9zaXRpb24sIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5pbWFnZUxpc3RbaW1hZ2UucG9zaXRpb25dKSwge30sIHsKICAgICAgICAgIGltYWdlX3VybDogaW1hZ2UuaW1hZ2VfdXJsLAogICAgICAgICAgaW1hZ2VCbG9iOiBpbWFnZS5pbWFnZUZpbGUKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIHRoaXMub3BlbkltYWdlQ3JvcHBlciA9IGZhbHNlOwogICAgICB0aGlzLmltYWdlVG9Dcm9wID0gbnVsbDsKICAgICAgdGhpcy5pbWFnZVRvQ3JvcFBvc2l0aW9uID0gbnVsbDsKICAgIH0sCiAgICBvblVwbG9hZFByb2dyZXNzOiBmdW5jdGlvbiBvblVwbG9hZFByb2dyZXNzKGV2ZW50LCBpbmRleCkgewogICAgICB2YXIgcHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKGV2ZW50LmxvYWRlZCAqIDEwMCAvIGV2ZW50LnRvdGFsKTsKCiAgICAgIGlmICh0aGlzLmltYWdlTGlzdCAmJiB0aGlzLmltYWdlTGlzdCkgewogICAgICAgIHRoaXMuJHNldCh0aGlzLmltYWdlTGlzdCwgaW5kZXgsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5pbWFnZUxpc3RbaW5kZXhdKSwge30sIHsKICAgICAgICAgIHVwbG9hZFByb2dyZXNzOiBwcm9ncmVzcwogICAgICAgIH0pKTsKICAgICAgfQogICAgfSwKICAgIHNlbmRJbWFnZVRvUzM6IGZ1bmN0aW9uIHNlbmRJbWFnZVRvUzMocGFyYW1zKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RzU2VydmljZS51cGxvYWRUb1MzKF9vYmplY3RTcHJlYWQoe30sIHBhcmFtcykpOwogICAgfSwKICAgIGdldFNpZ25hdHVyZXM6IGZ1bmN0aW9uIGdldFNpZ25hdHVyZXMocXVhbnRpdHkpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdHNTZXJ2aWNlLmdldFMzU2lnbmF0dXJlKHRoaXMucHJvZHVjdEd1aWQsIHF1YW50aXR5KTsKICAgIH0sCiAgICBkZWxheTogZnVuY3Rpb24gZGVsYXkobXMpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXR1cm4gc2V0VGltZW91dChyZXMsIG1zKTsKICAgICAgfSk7CiAgICB9LAogICAgc2tpcDogZnVuY3Rpb24gc2tpcCgpIHsKICAgICAgdGhpcy4kZW1pdCgnY29uZmlybS1sZWF2ZScsIHRydWUpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Byb2R1dG9zJyk7CiAgICB9LAogICAgdXBkYXRlUHJvZHVjdEltYWdlczogZnVuY3Rpb24gdXBkYXRlUHJvZHVjdEltYWdlcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG9sZEltYWdlcywgaW1hZ2VzVG9VcGxvYWQsIHNpZ25hdHVyZXMsIF95aWVsZCRfdGhpcyRnZXRTaWduYSwgZGF0YSwgcmVzdWx0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIG9sZEltYWdlcyA9IF90aGlzLmltYWdlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGltYWdlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiAhaW1hZ2UuaXNOZXc7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGltYWdlc1RvVXBsb2FkID0gX3RoaXMuaW1hZ2VMaXN0LmZpbHRlcihmdW5jdGlvbiAoaW1hZ2UpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlLmlzTmV3OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzaWduYXR1cmVzID0gW107CgogICAgICAgICAgICAgICAgaWYgKCEoaW1hZ2VzVG9VcGxvYWQubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRTaWduYXR1cmVzKGltYWdlc1RvVXBsb2FkLmxlbmd0aCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyRnZXRTaWduYSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF90aGlzJGdldFNpZ25hLmRhdGE7CiAgICAgICAgICAgICAgICBzaWduYXR1cmVzID0gZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLm9wZW5Mb2FkaW5nU2NyZWVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbFNldHRsZWQoaW1hZ2VzVG9VcGxvYWQubWFwKGZ1bmN0aW9uIChpbWFnZSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNlbmRJbWFnZVRvUzMoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzaWduYXR1cmVzW2luZGV4XS5jb2RlKSwge30sIHsKICAgICAgICAgICAgICAgICAgICBpbWFnZTogaW1hZ2UuaW1hZ2VCbG9iLAogICAgICAgICAgICAgICAgICAgIG9uVXBsb2FkUHJvZ3Jlc3NDYWxsYmFjazogX3RoaXMub25VcGxvYWRQcm9ncmVzcywKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogaW5kZXgKICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX3RoaXMucHJvZHVjdExvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX3RoaXMuaW1hZ2VMaXN0LmZvckVhY2goZnVuY3Rpb24gKGltYWdlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZS5pc05ldyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb2R1Y3RzU2VydmljZS51cGRhdGVQcm9kdWN0SW1hZ2VzKF90aGlzLnByb2R1Y3RHdWlkLCBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGltYWdlc1RvVXBsb2FkLm1hcChmdW5jdGlvbiAoaW1hZ2UsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIHZhciBzaWduYXR1cmUgPSBzaWduYXR1cmVzW2luZGV4XS5jb2RlOwogICAgICAgICAgICAgICAgICByZXR1cm4gc2lnbmF0dXJlLnVybCArIHNpZ25hdHVyZS5maWVsZHMua2V5OwogICAgICAgICAgICAgICAgfSkpLCBfdG9Db25zdW1hYmxlQXJyYXkob2xkSW1hZ2VzLm1hcChmdW5jdGlvbiAoaW1hZ2UpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlLmltYWdlX3VybDsKICAgICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX3RoaXMucHJvZHVjdExvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMub3BlbkxvYWRpbmdTY3JlZW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5kZWxheSg1MDApOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ2NvbmZpcm0tbGVhdmUnLCB0cnVlKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHJvdXRlci5wdXNoKCcvcHJvZHV0b3MnKTsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kYWxlcnQoIkltYWdlbnMgIi5jb25jYXQoX3RoaXMuaXNVcGRhdGVQYWdlID8gJ2F0dWFsaXphZGFzJyA6ICdhZGljaW9uYWRhcycsICIgY29tIHN1Y2Vzc28iKSwgJycsICdzdWNjZXNzJywgewogICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kYWxlcnQoJ0Vycm8gYW8gZmF6ZXIgbyB1cGxvYWQgZGFzIGltYWdlbnMnLCAnJywgJ2Vycm9yJywgewogICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICAgICAgICBfdGhpcy5vcGVuTG9hZGluZ1NjcmVlbiA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCAzMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25JbWFnZUlucHV0OiBmdW5jdGlvbiBvbkltYWdlSW5wdXQoZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBmaWxlSW5wdXQgPSB0aGlzLiRyZWZzLmltYWdlSW5wdXQgfHwge307CgogICAgICBpZiAoZmlsZUlucHV0ICYmIGZpbGVJbnB1dC5maWxlcy5sZW5ndGgpIHsKICAgICAgICB2YXIgaW1hZ2VGaWxlID0gZmlsZUlucHV0LmZpbGVzWzBdOwoKICAgICAgICBpZiAoaW1hZ2VGaWxlLnNpemUgLyAxMDAwMDAwIDwgMTUpIHsKICAgICAgICAgIHZhciBjb21wcmVzc29yID0gbmV3IENvbXByZXNzb3IoaW1hZ2VGaWxlLCB7CiAgICAgICAgICAgIHF1YWxpdHk6IDAuNSwKICAgICAgICAgICAgd2lkdGg6IDEyNTAsCiAgICAgICAgICAgIGhlaWdodDogMTI1MCwKICAgICAgICAgICAgY29udmVydFNpemU6IDAsCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgX3N1Y2Nlc3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGltYWdlQ29tcHJlc3NlZCkgewogICAgICAgICAgICAgICAgdmFyIHJlYWRlcjsKICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VDb21wcmVzc2VkLnNpemUgLyAxMDAwMDAwIDwgNikgewogICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRmlsZSA9IGltYWdlQ29tcHJlc3NlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZUNvbXByZXNzZWQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF90aGlzMi5pbWFnZUxpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goZS50YXJnZXQucmVzdWx0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zZW50LmJsb2IoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIudDIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIudDMgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZV91cmw6IF9jb250ZXh0Mi50MSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlQmxvYjogX2NvbnRleHQyLnQyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXc6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIudDAucHVzaC5jYWxsKF9jb250ZXh0Mi50MCwgX2NvbnRleHQyLnQzKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmltYWdlVG9Dcm9wID0gZS50YXJnZXQucmVzdWx0OyAvL0B0cy1pZ25vcmUKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUlucHV0LnZhbHVlID0gbnVsbDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgIH0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgiUmVkdXphIG8gdGFtYW5obyBkZSBpbWFnZW0gZSB0ZW50ZSBub3ZhbWVudGUuIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MoX3gpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfc3VjY2Vzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7CiAgICAgICAgICAgIH0oKSwKICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGVycikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvIGNvbXByaW1pbmRvIGltYWdlbSIsIGVyci5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJSZWR1emEgbyB0YW1hbmhvIGRlIGltYWdlbSBlIHRlbnRlIG5vdmFtZW50ZS4iKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/views/Product/ProductCreateOrEditImages.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport ProductCreateOrEditStep from \"@/views/Product/ProductCreateOrEditStep.vue\";\nimport ProductImageCarousel from \"@/components/product-modal/product-image-carousel/ProductImageCarousel.vue\";\nimport ProductLoadingScreen from \"@/components/product-modal/product-loading-screen/ProductLoadingScreen.vue\";\nimport ProductImageCropper from \"@/components/product-modal/product-image-cropper/ProductImageCropper.vue\";\n\n\nimport Compressor from \"compressorjs\";\nimport productsService from \"@/services/products.service\";\n\ninterface IData {\n  imageToCrop: Blob | File | string | null;\n  imageList: any[];\n  openLoadingScreen: boolean;\n  productLoading: boolean;\n  productsService: productsService,\n  openImageCropper: boolean;\n  imageToCropPosition: number | null;\n}\n\nexport default Vue.extend({\n  name: \"ProductCreateOrEditImages\",\n  components: {\n    ProductImageCropper,\n    ProductLoadingScreen,\n    ProductImageCarousel,\n    ProductCreateOrEditStep,\n  },\n\n  props: {\n    open: {\n      type: Boolean,\n    },\n\n    productGuid: {\n      type: String,\n    },\n\n    isService: {\n      type: Boolean,\n      default: () => false,\n    },\n\n    isUpdatePage: {\n      type: Boolean,\n      default: () => false,\n    },\n\n    product: {\n      type: [Object, Boolean],\n      default: () => false,\n    }\n  },\n\n  data(): IData {\n    return {\n      imageToCropPosition: null,\n      imageToCrop: null,\n      imageList: [],\n\n      openLoadingScreen: false,\n      productLoading: false,\n      productsService: new productsService(),\n      openImageCropper: false,\n    }\n  },\n\n  computed: {\n    stepTitle(): string {\n      return this.isUpdatePage\n        ? `Fotos do ${this.isService ? 'serviço' : 'produto'}`\n        : `Melhore seu anúncio com fotos do seu ${this.isService ? 'serviço' : 'produto'}`\n    }\n  },\n\n  created() {\n    if (this.product) {\n      this.imageList = this.product.image_list;\n    }\n  },\n\n  methods: {\n    addImage() {\n      (this.$refs.imageInput as HTMLInputElement).click();\n    },\n\n    deleteImage(index) {\n      this.imageList.splice(index, 1);\n    },\n\n    cropImage(index) {\n      const image = this.imageList[index];\n      this.imageToCrop = image.image_url;\n      this.imageToCropPosition = index;\n\n      this.openImageCropper = true;\n    },\n\n    closeImageCropper([message, image]) {\n      if (message === 'success') {\n        this.$set(this.imageList, image.position, {\n          ...this.imageList[image.position],\n          image_url: image.image_url,\n          imageBlob: image.imageFile,\n        });\n      }\n\n      this.openImageCropper = false;\n      this.imageToCrop = null;\n      this.imageToCropPosition = null;\n    },\n\n    onUploadProgress(event, index) {\n      let progress: number = Math.round(\n        (event.loaded * 100) / event.total\n      );\n\n      if (this.imageList && this.imageList) {\n        this.$set(this.imageList, index, {\n          ...this.imageList[index],\n          uploadProgress: progress,\n        });\n      }\n    },\n\n    sendImageToS3(params) {\n      return this.productsService.uploadToS3({\n        ...params,\n      });\n    },\n\n    getSignatures(quantity) {\n      return this.productsService.getS3Signature(this.productGuid, quantity);\n    },\n\n    delay(ms) {\n      return new Promise((res) => setTimeout(res, ms));\n    },\n\n    skip() {\n      this.$emit('confirm-leave', true);\n      this.$router.push('/produtos');\n    },\n\n    async updateProductImages() {\n      try {\n        const oldImages = this.imageList.filter(image => !image.isNew);\n        const imagesToUpload = this.imageList.filter(image => image.isNew);\n\n        let signatures = [] as any[];\n\n        if (imagesToUpload.length > 0) {\n          const { data } = await this.getSignatures(imagesToUpload.length);\n\n          signatures = data;\n\n          this.openLoadingScreen = true;\n\n          const result = await Promise.allSettled(\n            imagesToUpload.map((image, index) => {\n              return this.sendImageToS3({\n                ...signatures[index].code,\n                image: image.imageBlob,\n                onUploadProgressCallback: this.onUploadProgress,\n                position: index,\n              });\n            }),\n          );\n        } else {\n          this.productLoading = true;\n        }\n\n        this.imageList.forEach(image => image.isNew = false)\n\n        await this.productsService.updateProductImages(\n          this.productGuid,\n          [\n            ...imagesToUpload.map((image, index) => {\n              const signature = signatures[index].code;\n              return signature.url + signature.fields.key;\n            }),\n            ...oldImages.map(image => image.image_url),\n          ]\n        );\n\n        this.productLoading = true;\n\n        this.openLoadingScreen = false;\n\n        await this.delay(500);\n\n        this.$emit('confirm-leave', true);\n        await this.$router.push('/produtos');\n\n        await this.$alert(\n          `Imagens ${this.isUpdatePage ? 'atualizadas' : 'adicionadas'} com sucesso`,\n          '',\n          'success', {\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      } catch (e) {\n        console.error(e);\n\n        await this.$alert('Erro ao fazer o upload das imagens', '', 'error', {\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      }\n\n      this.openLoadingScreen = false;\n    },\n\n    onImageInput(e) {\n      const fileInput = this.$refs.imageInput as HTMLInputElement || {};\n\n      if (fileInput && fileInput.files!.length) {\n        let imageFile: Blob | File = fileInput.files![0];\n        if (imageFile.size / 1000000 < 15) {\n          const compressor = new Compressor(imageFile, {\n            quality: 0.5,\n            width: 1250,\n            height: 1250,\n            convertSize: 0,\n            success: async (imageCompressed) => {\n              const reader = new FileReader();\n              if (imageCompressed.size / 1000000 < 6) {\n                imageFile = imageCompressed;\n                reader.readAsDataURL(imageCompressed);\n                reader.onload = async (e: any) => {\n                  this.imageList.push({\n                    image_url: e.target.result,\n                    imageBlob: await (await fetch(e.target.result)).blob(),\n                    isNew: true,\n                  });\n                  this.imageToCrop = e.target.result;\n                  //@ts-ignore\n                  fileInput.value = null;\n                };\n              } else {\n                alert(\"Reduza o tamanho de imagem e tente novamente.\");\n              }\n            },\n            error(err) {\n              console.log(\"erro comprimindo imagem\", err.message);\n            },\n          });\n        } else {\n          alert(\"Reduza o tamanho de imagem e tente novamente.\");\n        }\n      }\n    }\n  }\n});\n"],"sourceRoot":""}]}