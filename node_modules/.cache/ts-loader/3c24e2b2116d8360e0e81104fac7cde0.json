{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js!/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js??ref--13-2!/home/aline/GitHub/admin-frontend/src/services/orders.service.ts","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/services/orders.service.ts","mtime":1673321154842},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvYWxpbmUvR2l0SHViL2FkbWluLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvYWxpbmUvR2l0SHViL2FkbWluLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBlbnZpcm9ubWVudCBmcm9tICdAL2Vudmlyb25tZW50cy9lbnZpcm9ubWVudCc7CmltcG9ydCBVc2VyU3RvcmFnZSBmcm9tICdAL3NlcnZpY2VzL1VzZXJTdG9yYWdlJzsKaW1wb3J0IHsgZnJvbSB9IGZyb20gJ3J4anMnOwppbXBvcnQgeyBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7Cgp2YXIgT3JkZXJTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBPcmRlclNlcnZpY2UoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPcmRlclNlcnZpY2UpOwoKICAgIHRoaXMuaGVhZGVyc1Rva2VuID0gewogICAgICAnQXV0aG9yaXphdGlvbic6IGVudmlyb25tZW50LnNldEF1dGhvcml6YXRpb25Ub2tlbigpLAogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6ICdDb250ZW50LVR5cGUnLAogICAgICAneC10b2tlbic6IFVzZXJTdG9yYWdlLnJldHVyblRva2VuKCkKICAgIH07CiAgICB0aGlzLmhlYWRlcnMgPSB7CiAgICAgICdBdXRob3JpemF0aW9uJzogZW52aXJvbm1lbnQuc2V0QXV0aG9yaXphdGlvblRva2VuKCksCiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJzogJ0NvbnRlbnQtVHlwZScKICAgIH07CiAgICB0aGlzLnJlcXVlc3RPcHRpb25zID0gewogICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMKICAgIH07CiAgICB0aGlzLnJlcXVlc3RPcHRpb25zUGF0Y2ggPSB7CiAgICAgIG1ldGhvZDogJ1BBVENIJywKICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzVG9rZW4KICAgIH07CiAgICB0aGlzLnJlcXVlc3RPcHRpb25zRGVsZXRlID0gewogICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNUb2tlbgogICAgfTsKCiAgICB0aGlzLmdldE9yZGVyID0gZnVuY3Rpb24gKG9yZGVyTnVtYmVyKSB7CiAgICAgIHJldHVybiBmcm9tKGZldGNoKCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEkoKSwgIi9jYXRhbG9nL29yZGVyLyIpLmNvbmNhdChvcmRlck51bWJlciksIF90aGlzLnJlcXVlc3RPcHRpb25zKSkucGlwZShzd2l0Y2hNYXAoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkpOwogICAgfTsKCiAgICB0aGlzLmdldE9yZGVyc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBmcm9tKGZldGNoKCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEkoKSwgIi9jYXRhbG9nL29yZGVyL2xpc3QvIikuY29uY2F0KFVzZXJTdG9yYWdlLnJldHVybkd1aWQoKSksIF90aGlzLnJlcXVlc3RPcHRpb25zKSkucGlwZShzd2l0Y2hNYXAoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkpOwogICAgfTsKCiAgICB0aGlzLmdldFBhZ2luYXRlT3JkZXJzTGlzdCA9IGZ1bmN0aW9uIChwYWdlLCBvcmRlclN0YXR1cykgewogICAgICByZXR1cm4gZnJvbShmZXRjaCgiIi5jb25jYXQoZW52aXJvbm1lbnQuc2V0QVBJKCksICIvY2F0YWxvZy9vcmRlci9saXN0LyIpLmNvbmNhdChVc2VyU3RvcmFnZS5yZXR1cm5HdWlkKCksICI/cGFnZT0iKS5jb25jYXQocGFnZSwgIiZvcmRlcl9zdGF0dXM9IikuY29uY2F0KG9yZGVyU3RhdHVzKSwgX3RoaXMucmVxdWVzdE9wdGlvbnMpKS5waXBlKHN3aXRjaE1hcChmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KSk7CiAgICB9OwoKICAgIHRoaXMudXBkYXRlT3JkZXIgPSBmdW5jdGlvbiAob3JkZXJOdW1iZXIsIHN0YXR1cykgewogICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSSgpLCAiL2NhdGFsb2cvb3JkZXIvIikuY29uY2F0KG9yZGVyTnVtYmVyLCAiL3N0YXR1cy8iKS5jb25jYXQoc3RhdHVzKSwgX3RoaXMucmVxdWVzdE9wdGlvbnNQYXRjaCk7CiAgICB9OwoKICAgIHRoaXMuY2FuY2VsT3JkZXIgPSBmdW5jdGlvbiAob3JkZXJHdWlkKSB7CiAgICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoZW52aXJvbm1lbnQuc2V0QVBJKCksICIvY2F0YWxvZy9vcmRlci9jYW5jZWwvIikuY29uY2F0KG9yZGVyR3VpZCksIF90aGlzLnJlcXVlc3RPcHRpb25zRGVsZXRlKTsKICAgIH07CgogICAgdGhpcy5zZXRTZXNzaW9uU3RvcmFnZU9yZGVyVHJhY2tpbmcgPSBmdW5jdGlvbiAoZ3VpZCkgewogICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2tleS1hY3BkJywgZ3VpZCk7CiAgICB9OwoKICAgIHRoaXMucmVtb3ZlU2Vzc2lvblN0b3JhZ2VPcmRlclRyYWNraW5nID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2tleS1hY3BkJyk7CiAgICB9OwogIH0KCiAgX2NyZWF0ZUNsYXNzKE9yZGVyU2VydmljZSwgW3sKICAgIGtleTogImdldE9yZGVyVmlldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T3JkZXJWaWV3KCkgewogICAgICB2YXIgc2VsbGVyR3VpZCA9IFVzZXJTdG9yYWdlLnJldHVybkd1aWQoKTsKICAgICAgcmV0dXJuIGZldGNoKCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEkoKSwgIi9jYXRhbG9nL29yZGVyL3N0YXRpc3RpYy8iKS5jb25jYXQoc2VsbGVyR3VpZCksIHRoaXMucmVxdWVzdE9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gZGF0YS5qc29uKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBPcmRlclNlcnZpY2U7Cn0oKTsKCmV4cG9ydCB7IE9yZGVyU2VydmljZSBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/home/aline/GitHub/admin-frontend/src/services/orders.service.ts"],"names":[],"mappings":"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","sourcesContent":["import environment from '@/environments/environment';\nimport { Order, IOrder } from '@/models/order';\nimport UserStorage from '@/services/UserStorage';\nimport { from, Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\n\nexport default class OrderService {\n\n    private headersToken = {\n        'Authorization': environment.setAuthorizationToken(),\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Headers': 'Content-Type',\n        'x-token': UserStorage.returnToken(),\n    };\n\n    private headers = {\n        'Authorization': environment.setAuthorizationToken(),\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Headers': 'Content-Type',\n    };\n\n    private requestOptions = {  headers: this.headers };\n    private requestOptionsPatch = { method: 'PATCH', headers: this.headersToken };\n    private requestOptionsDelete = { method: 'DELETE', headers: this.headersToken };\n\n    public getOrder = (orderNumber: string): Observable<Order> =>\n        from(fetch(`${environment.setAPI()}/catalog/order/${orderNumber}`, this.requestOptions))\n        .pipe(switchMap((response: Response) => response.json()))\n\n    public getOrdersList = (): Observable<Order[]> =>\n        from(fetch(`${environment.setAPI()}/catalog/order/list/${UserStorage.returnGuid()}`, this.requestOptions))\n        .pipe(switchMap((response: Response) => response.json()))\n\n    public getPaginateOrdersList = (page: number, orderStatus: number): Observable<IOrder> =>\n        from(fetch(`${environment.setAPI()}/catalog/order/list/${UserStorage.returnGuid()}?page=${page}&order_status=${orderStatus}`, this.requestOptions))\n        .pipe(switchMap((response: Response) => response.json()))\n\n    public getOrderView() {\n        const sellerGuid: any = UserStorage.returnGuid();\n        return fetch(`${environment.setAPI()}/catalog/order/statistic/${sellerGuid}`, this.requestOptions)\n            .then(data => data.json())\n            .catch(err => console.error(err));\n    }\n\n    public updateOrder = (orderNumber: string, status: number) => fetch(`${environment.setAPI()}/catalog/order/${orderNumber}/status/${status}`, this.requestOptionsPatch);\n\n    public cancelOrder = (orderGuid: string) => fetch(`${environment.setAPI()}/catalog/order/cancel/${orderGuid}`, this.requestOptionsDelete);\n\n    public setSessionStorageOrderTracking = (guid: string) => localStorage.setItem('key-acpd', guid);\n\n    public removeSessionStorageOrderTracking = () => localStorage.removeItem('key-acpd');\n\n}\n"],"sourceRoot":""}]}