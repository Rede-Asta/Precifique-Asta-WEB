{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js!/home/aline/AstaPrecifique/node_modules/ts-loader/index.js??ref--13-2!/home/aline/AstaPrecifique/src/services/orders.service.ts","dependencies":[{"path":"/home/aline/AstaPrecifique/src/services/orders.service.ts","mtime":1673321154842},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgZW52aXJvbm1lbnQgZnJvbSAnQC9lbnZpcm9ubWVudHMvZW52aXJvbm1lbnQnOwppbXBvcnQgVXNlclN0b3JhZ2UgZnJvbSAnQC9zZXJ2aWNlcy9Vc2VyU3RvcmFnZSc7CmltcG9ydCB7IGZyb20gfSBmcm9tICdyeGpzJzsKaW1wb3J0IHsgc3dpdGNoTWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnOwoKdmFyIE9yZGVyU2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gT3JkZXJTZXJ2aWNlKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3JkZXJTZXJ2aWNlKTsKCiAgICB0aGlzLmhlYWRlcnNUb2tlbiA9IHsKICAgICAgJ0F1dGhvcml6YXRpb24nOiBlbnZpcm9ubWVudC5zZXRBdXRob3JpemF0aW9uVG9rZW4oKSwKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnOiAnQ29udGVudC1UeXBlJywKICAgICAgJ3gtdG9rZW4nOiBVc2VyU3RvcmFnZS5yZXR1cm5Ub2tlbigpCiAgICB9OwogICAgdGhpcy5oZWFkZXJzID0gewogICAgICAnQXV0aG9yaXphdGlvbic6IGVudmlyb25tZW50LnNldEF1dGhvcml6YXRpb25Ub2tlbigpLAogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6ICdDb250ZW50LVR5cGUnCiAgICB9OwogICAgdGhpcy5yZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzCiAgICB9OwogICAgdGhpcy5yZXF1ZXN0T3B0aW9uc1BhdGNoID0gewogICAgICBtZXRob2Q6ICdQQVRDSCcsCiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1Rva2VuCiAgICB9OwogICAgdGhpcy5yZXF1ZXN0T3B0aW9uc0RlbGV0ZSA9IHsKICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzVG9rZW4KICAgIH07CgogICAgdGhpcy5nZXRPcmRlciA9IGZ1bmN0aW9uIChvcmRlck51bWJlcikgewogICAgICByZXR1cm4gZnJvbShmZXRjaCgiIi5jb25jYXQoZW52aXJvbm1lbnQuc2V0QVBJKCksICIvY2F0YWxvZy9vcmRlci8iKS5jb25jYXQob3JkZXJOdW1iZXIpLCBfdGhpcy5yZXF1ZXN0T3B0aW9ucykpLnBpcGUoc3dpdGNoTWFwKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pKTsKICAgIH07CgogICAgdGhpcy5nZXRPcmRlcnNMaXN0ID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZnJvbShmZXRjaCgiIi5jb25jYXQoZW52aXJvbm1lbnQuc2V0QVBJKCksICIvY2F0YWxvZy9vcmRlci9saXN0LyIpLmNvbmNhdChVc2VyU3RvcmFnZS5yZXR1cm5HdWlkKCkpLCBfdGhpcy5yZXF1ZXN0T3B0aW9ucykpLnBpcGUoc3dpdGNoTWFwKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pKTsKICAgIH07CgogICAgdGhpcy5nZXRQYWdpbmF0ZU9yZGVyc0xpc3QgPSBmdW5jdGlvbiAocGFnZSwgb3JkZXJTdGF0dXMpIHsKICAgICAgcmV0dXJuIGZyb20oZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSSgpLCAiL2NhdGFsb2cvb3JkZXIvbGlzdC8iKS5jb25jYXQoVXNlclN0b3JhZ2UucmV0dXJuR3VpZCgpLCAiP3BhZ2U9IikuY29uY2F0KHBhZ2UsICImb3JkZXJfc3RhdHVzPSIpLmNvbmNhdChvcmRlclN0YXR1cyksIF90aGlzLnJlcXVlc3RPcHRpb25zKSkucGlwZShzd2l0Y2hNYXAoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkpOwogICAgfTsKCiAgICB0aGlzLnVwZGF0ZU9yZGVyID0gZnVuY3Rpb24gKG9yZGVyTnVtYmVyLCBzdGF0dXMpIHsKICAgICAgcmV0dXJuIGZldGNoKCIiLmNvbmNhdChlbnZpcm9ubWVudC5zZXRBUEkoKSwgIi9jYXRhbG9nL29yZGVyLyIpLmNvbmNhdChvcmRlck51bWJlciwgIi9zdGF0dXMvIikuY29uY2F0KHN0YXR1cyksIF90aGlzLnJlcXVlc3RPcHRpb25zUGF0Y2gpOwogICAgfTsKCiAgICB0aGlzLmNhbmNlbE9yZGVyID0gZnVuY3Rpb24gKG9yZGVyR3VpZCkgewogICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSSgpLCAiL2NhdGFsb2cvb3JkZXIvY2FuY2VsLyIpLmNvbmNhdChvcmRlckd1aWQpLCBfdGhpcy5yZXF1ZXN0T3B0aW9uc0RlbGV0ZSk7CiAgICB9OwoKICAgIHRoaXMuc2V0U2Vzc2lvblN0b3JhZ2VPcmRlclRyYWNraW5nID0gZnVuY3Rpb24gKGd1aWQpIHsKICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdrZXktYWNwZCcsIGd1aWQpOwogICAgfTsKCiAgICB0aGlzLnJlbW92ZVNlc3Npb25TdG9yYWdlT3JkZXJUcmFja2luZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdrZXktYWNwZCcpOwogICAgfTsKICB9CgogIF9jcmVhdGVDbGFzcyhPcmRlclNlcnZpY2UsIFt7CiAgICBrZXk6ICJnZXRPcmRlclZpZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9yZGVyVmlldygpIHsKICAgICAgdmFyIHNlbGxlckd1aWQgPSBVc2VyU3RvcmFnZS5yZXR1cm5HdWlkKCk7CiAgICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoZW52aXJvbm1lbnQuc2V0QVBJKCksICIvY2F0YWxvZy9vcmRlci9zdGF0aXN0aWMvIikuY29uY2F0KHNlbGxlckd1aWQpLCB0aGlzLnJlcXVlc3RPcHRpb25zKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIGRhdGEuanNvbigpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gT3JkZXJTZXJ2aWNlOwp9KCk7CgpleHBvcnQgeyBPcmRlclNlcnZpY2UgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/home/aline/AstaPrecifique/src/services/orders.service.ts"],"names":[],"mappings":"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","sourcesContent":["import environment from '@/environments/environment';\nimport { Order, IOrder } from '@/models/order';\nimport UserStorage from '@/services/UserStorage';\nimport { from, Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\n\nexport default class OrderService {\n\n    private headersToken = {\n        'Authorization': environment.setAuthorizationToken(),\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Headers': 'Content-Type',\n        'x-token': UserStorage.returnToken(),\n    };\n\n    private headers = {\n        'Authorization': environment.setAuthorizationToken(),\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Headers': 'Content-Type',\n    };\n\n    private requestOptions = {  headers: this.headers };\n    private requestOptionsPatch = { method: 'PATCH', headers: this.headersToken };\n    private requestOptionsDelete = { method: 'DELETE', headers: this.headersToken };\n\n    public getOrder = (orderNumber: string): Observable<Order> =>\n        from(fetch(`${environment.setAPI()}/catalog/order/${orderNumber}`, this.requestOptions))\n        .pipe(switchMap((response: Response) => response.json()))\n\n    public getOrdersList = (): Observable<Order[]> =>\n        from(fetch(`${environment.setAPI()}/catalog/order/list/${UserStorage.returnGuid()}`, this.requestOptions))\n        .pipe(switchMap((response: Response) => response.json()))\n\n    public getPaginateOrdersList = (page: number, orderStatus: number): Observable<IOrder> =>\n        from(fetch(`${environment.setAPI()}/catalog/order/list/${UserStorage.returnGuid()}?page=${page}&order_status=${orderStatus}`, this.requestOptions))\n        .pipe(switchMap((response: Response) => response.json()))\n\n    public getOrderView() {\n        const sellerGuid: any = UserStorage.returnGuid();\n        return fetch(`${environment.setAPI()}/catalog/order/statistic/${sellerGuid}`, this.requestOptions)\n            .then(data => data.json())\n            .catch(err => console.error(err));\n    }\n\n    public updateOrder = (orderNumber: string, status: number) => fetch(`${environment.setAPI()}/catalog/order/${orderNumber}/status/${status}`, this.requestOptionsPatch);\n\n    public cancelOrder = (orderGuid: string) => fetch(`${environment.setAPI()}/catalog/order/cancel/${orderGuid}`, this.requestOptionsDelete);\n\n    public setSessionStorageOrderTracking = (guid: string) => localStorage.setItem('key-acpd', guid);\n\n    public removeSessionStorageOrderTracking = () => localStorage.removeItem('key-acpd');\n\n}\n"],"sourceRoot":""}]}