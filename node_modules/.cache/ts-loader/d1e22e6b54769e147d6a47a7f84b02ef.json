{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js!/home/aline/AstaPrecifique/node_modules/ts-loader/index.js??ref--13-2!/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/views/Statistics/Statistics.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/AstaPrecifique/src/views/Statistics/Statistics.vue","mtime":1673321154842},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBTdGF0aXN0aWNzQ2Fyb3VzZWxzIGZyb20gIkAvY29tcG9uZW50cy9zdGF0aXN0aWNzL1N0YXRpc3RpY3NDYXJvdXNlbHMudnVlIjsKaW1wb3J0IFN0YXRpc3RpY3NEYXRhIGZyb20gIkAvY29tcG9uZW50cy9zdGF0aXN0aWNzL1N0YXRpc3RpY3NEYXRhLnZ1ZSI7CmltcG9ydCBTdGF0aXN0aWNzVGltZUZpbHRlcnMgZnJvbSAiQC9jb21wb25lbnRzL3N0YXRpc3RpY3MvU3RhdGlzdGljc1RpbWVGaWx0ZXJzLnZ1ZSI7CmltcG9ydCBTdGF0aXN0aWNzRGFpbHkgZnJvbSAiQC9jb21wb25lbnRzL3N0YXRpc3RpY3MvU3RhdGlzdGljc0RhaWx5LnZ1ZSI7CmltcG9ydCB7IEJTa2VsZXRvbkltZywgQlNrZWxldG9uIH0gZnJvbSAiYm9vdHN0cmFwLXZ1ZSI7CmltcG9ydCBzdGF0aXN0aWNzU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL3N0YXRpc3RpY3Muc2VydmljZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogInN0YXRpc3RpY3MiLAogIGNvbXBvbmVudHM6IHsKICAgIFN0YXRpc3RpY3NEYWlseTogU3RhdGlzdGljc0RhaWx5LAogICAgU3RhdGlzdGljc1RpbWVGaWx0ZXJzOiBTdGF0aXN0aWNzVGltZUZpbHRlcnMsCiAgICBTdGF0aXN0aWNzRGF0YTogU3RhdGlzdGljc0RhdGEsCiAgICBTdGF0aXN0aWNzQ2Fyb3VzZWxzOiBTdGF0aXN0aWNzQ2Fyb3VzZWxzLAogICAgQlNrZWxldG9uSW1nOiBCU2tlbGV0b25JbWcsCiAgICBCU2tlbGV0b246IEJTa2VsZXRvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IG51bGwsCiAgICAgIHNlbGVjdGVkRmlsdGVyOiAnYWxsJywKICAgICAgc3RhdGlzdGljc0RhdGE6IHt9LAogICAgICBzdGF0aXN0aWNzU2VydmljZTogbmV3IHN0YXRpc3RpY3NTZXJ2aWNlKCksCiAgICAgIHN0YXRpc3RpY3NEYXRhTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgc2VsZWN0ZWRGaWx0ZXI6IGZ1bmN0aW9uIHNlbGVjdGVkRmlsdGVyKG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMuZ2V0U3RhdGlzdGljc0RhdGEoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc3RvcmFnZVVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9nZ2VkVXNlcicpOwogICAgdGhpcy51c2VyID0gc3RvcmFnZVVzZXIgPyBKU09OLnBhcnNlKHN0b3JhZ2VVc2VyKSA6IG51bGw7CiAgICB0aGlzLmdldFN0YXRpc3RpY3NEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRTdGF0aXN0aWNzRGF0YTogZnVuY3Rpb24gZ2V0U3RhdGlzdGljc0RhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwZXJ0aW5obywgZmlsdGVyLCB0b2RheSwgZ2V0Rm9ybWF0dGVkRGF0ZSwgX3lpZWxkJF90aGlzJHN0YXRpc3RpLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5zdGF0aXN0aWNzRGF0YUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBwZXJ0aW5obyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlcnRpbmhvJykgfHwgJycpOwoKICAgICAgICAgICAgICAgIGlmIChwZXJ0aW5obykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGZpbHRlciA9IG51bGw7CiAgICAgICAgICAgICAgICB0b2RheSA9IG1vbWVudChuZXcgRGF0ZSgpKS5sb2NhbGUoJ3B0LWJyJyk7CgogICAgICAgICAgICAgICAgZ2V0Rm9ybWF0dGVkRGF0ZSA9IGZ1bmN0aW9uIGdldEZvcm1hdHRlZERhdGUoZGF0ZSkgewogICAgICAgICAgICAgICAgICB2YXIgZW5kID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZm9ybWF0KCJZWVlZLU1NLUREICIuY29uY2F0KGVuZCA/ICcyMzo1OScgOiAnMDA6MDAnKSk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX3RoaXMuc2VsZWN0ZWRGaWx0ZXI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gX2NvbnRleHQudDAgPT09ICJhbGwiID8gMTEgOiBfY29udGV4dC50MCA9PT0gIjMwZCIgPyAxMyA6IF9jb250ZXh0LnQwID09PSAiN2QiID8gMTUgOiBfY29udGV4dC50MCA9PT0gInRvZGF5IiA/IDE3IDogMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGZpbHRlciA9IG51bGw7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDIwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGZpbHRlciA9IHsKICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBnZXRGb3JtYXR0ZWREYXRlKG1vbWVudCh0b2RheSkuc3VidHJhY3QoMzAsICdkYXlzJykpLAogICAgICAgICAgICAgICAgICBlbmREYXRlOiBnZXRGb3JtYXR0ZWREYXRlKHRvZGF5LCB0cnVlKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMjApOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgZmlsdGVyID0gewogICAgICAgICAgICAgICAgICBzdGFydERhdGU6IGdldEZvcm1hdHRlZERhdGUobW9tZW50KHRvZGF5KS5zdWJ0cmFjdCg3LCAnZGF5cycpKSwKICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogZ2V0Rm9ybWF0dGVkRGF0ZSh0b2RheSwgdHJ1ZSkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDIwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGZpbHRlciA9IHsKICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBnZXRGb3JtYXR0ZWREYXRlKHRvZGF5KSwKICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogZ2V0Rm9ybWF0dGVkRGF0ZSh0b2RheSwgdHJ1ZSkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDIwKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMjApOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnN0YXRpc3RpY3NTZXJ2aWNlLmdldFN0YXRpc3RpY3NEYXRhKHBlcnRpbmhvLmd1aWQsIGZpbHRlcik7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkc3RhdGlzdGkgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfdGhpcyRzdGF0aXN0aS5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMuc3RhdGlzdGljc0RhdGEgPSBkYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjc7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgICAgX3RoaXMuc3RhdGlzdGljc0RhdGFMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDI3XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/views/Statistics/Statistics.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport StatisticsCarousels from \"@/components/statistics/StatisticsCarousels.vue\";\nimport StatisticsData from \"@/components/statistics/StatisticsData.vue\";\nimport StatisticsTimeFilters from \"@/components/statistics/StatisticsTimeFilters.vue\";\nimport StatisticsDaily from \"@/components/statistics/StatisticsDaily.vue\"\nimport {IStatisticsData} from \"@/models/statistics\";\n\nimport {BSkeletonImg, BSkeleton} from \"bootstrap-vue\";\n\nimport statisticsService from \"@/services/statistics.service\";\nimport moment from \"moment\";\n\ninterface IStatisticsViewData {\n  user: any;\n  selectedFilter: string;\n  statisticsData: IStatisticsData;\n\n  statisticsService: statisticsService,\n  statisticsDataLoading: boolean,\n}\n\nexport default Vue.extend({\n  name: \"statistics\",\n  components: {\n    StatisticsDaily,\n    StatisticsTimeFilters,\n    StatisticsData,\n    StatisticsCarousels,\n    BSkeletonImg,\n    BSkeleton\n  },\n\n  data(): IStatisticsViewData {\n    return {\n      user: null,\n      selectedFilter: 'all',\n      statisticsData: {} as IStatisticsData,\n\n      statisticsService: new statisticsService(),\n      statisticsDataLoading: false,\n    }\n  },\n\n  watch: {\n    selectedFilter(newValue) {\n      this.getStatisticsData();\n    },\n  },\n\n  mounted() {\n    const storageUser = localStorage.getItem('loggedUser');\n    this.user = storageUser ? JSON.parse(storageUser) : null;\n\n    this.getStatisticsData();\n  },\n\n  methods: {\n    async getStatisticsData() {\n      this.statisticsDataLoading = true;\n      try {\n        const pertinho = JSON.parse(localStorage.getItem('pertinho') || '');\n        if (!pertinho) return;\n\n        let filter: {\n          startDate: string;\n          endDate: string;\n        } | null = null;\n\n        const today = moment(new Date()).locale('pt-br');\n        const getFormattedDate = (date: moment.Moment, end = false) => date.format(`YYYY-MM-DD ${end ? '23:59' : '00:00'}`);\n\n        switch (this.selectedFilter) {\n          case \"all\":\n            filter = null;\n            break;\n          case \"30d\":\n            filter = {\n              startDate: getFormattedDate(moment(today).subtract(30, 'days')),\n              endDate: getFormattedDate(today, true),\n            };\n            break;\n          case \"7d\":\n            filter = {\n              startDate: getFormattedDate(moment(today).subtract(7, 'days')),\n              endDate: getFormattedDate(today, true),\n            }\n            break;\n          case \"today\":\n            filter = {\n              startDate: getFormattedDate(today),\n              endDate: getFormattedDate(today, true)\n            }\n            break;\n          default:\n            break;\n        }\n\n        const {data} = await this.statisticsService.getStatisticsData(pertinho.guid, filter);\n        this.statisticsData = data;\n      } catch (e) {\n\n      }\n      this.statisticsDataLoading = false;\n    }\n  }\n});\n"],"sourceRoot":""}]}