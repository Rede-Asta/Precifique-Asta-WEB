{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js!/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js??ref--13-2!/home/aline/GitHub/admin-frontend/src/components/box/editarMeuNegocio/editarMeuNegocio.component.ts","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/box/editarMeuNegocio/editarMeuNegocio.component.ts","mtime":1673321154834},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZsYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zY29wYWJsZXMuZmxhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9hbGluZS9HaXRIdWIvYWRtaW4tZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IFZ1ZVNsaWRlciBmcm9tICd2dWUtc2xpZGVyLWNvbXBvbmVudCc7CmltcG9ydCBWdWVTaW1wbGVBbGVydCBmcm9tICd2dWUtc2ltcGxlLWFsZXJ0JzsKaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInOwppbXBvcnQgJ3Z1ZS1zbGlkZXItY29tcG9uZW50L3RoZW1lL2FudGQuY3NzJzsKaW1wb3J0IENyb3BwZXIgZnJvbSAnY3JvcHBlcmpzJzsKaW1wb3J0IGZvY3VzSW5wdXQgZnJvbSAnQC9oZWxwZXJzL2ZvY3VzSW5wdXQnOwppbXBvcnQgdXNlclNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy91c2VyLnNlcnZpY2UnOwppbXBvcnQgY2F0ZWdvcnlTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvY2F0ZWdvcnkuc2VydmljZSc7CmltcG9ydCByZWdpc3RlclNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9yZWdpc3Rlci5zZXJ2aWNlJzsKaW1wb3J0IGVudmlyb25tZW50IGZyb20gIkAvZW52aXJvbm1lbnRzL2Vudmlyb25tZW50IjsKaW1wb3J0IENvbXByZXNzb3IgZnJvbSAnY29tcHJlc3NvcmpzJzsKaW1wb3J0IExvZ29Nb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvbG9nby1tb2RhbC9sb2dvLW1vZGFsLnZ1ZSc7Cgp2YXIgZWRpdGFyTWV1TmVnb2NpbyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhlZGl0YXJNZXVOZWdvY2lvLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihlZGl0YXJNZXVOZWdvY2lvKTsKCiAgZnVuY3Rpb24gZWRpdGFyTWV1TmVnb2NpbygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgZWRpdGFyTWV1TmVnb2Npbyk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLnVzZXJTZXJ2aWNlID0gbmV3IHVzZXJTZXJ2aWNlKCk7CiAgICBfdGhpcy5jYXRlZ29yeVNlcnZpY2UgPSBuZXcgY2F0ZWdvcnlTZXJ2aWNlKCk7CiAgICBfdGhpcy5yZWdpc3RlclNlcnZpY2UgPSBuZXcgcmVnaXN0ZXJTZXJ2aWNlKCk7CiAgICBfdGhpcy5zaG93QWRkcmVzc0NoZWNrZWQgPSB0cnVlOwogICAgX3RoaXMuc2hvd0FkZHJlc3MgPSB0cnVlOwogICAgX3RoaXMuc2hvd0Nyb3BwZXIyID0gZmFsc2U7CiAgICBfdGhpcy52YWxpZFN1YkNhdGVnb3J5ID0gZmFsc2U7CiAgICBfdGhpcy5jYXRlZ29yeVN1YmNhdGVnb3J5ID0gW107CiAgICBfdGhpcy5jYXRTdWJjYXQgPSAnJzsKICAgIF90aGlzLmF1dG9Db21wbGV0ZVN1YkNhdGVnb3J5T3BlbiA9IGZhbHNlOwogICAgX3RoaXMuc3ViY2F0ZWdvcnkgPSAnJzsKICAgIF90aGlzLnN1YmNhdGVnb3JpZXMgPSBbXTsKICAgIF90aGlzLnN1YmNhdGVnb3JpZXNEYXRhID0gW107CiAgICBfdGhpcy5jb21ib0NhdGVnb3JpZXMgPSBbXTsKICAgIF90aGlzLnVzZXJzbmFtZSA9IFtdOwogICAgX3RoaXMuaW5zdGFJbWcgPSAnJzsKICAgIF90aGlzLnVzZXJJID0gJyc7CiAgICBfdGhpcy52YWxpZEluc3RhID0gZmFsc2U7CiAgICBfdGhpcy5hdXRvQ29tcGxldGVJbnN0YU9wZW4gPSBmYWxzZTsKICAgIF90aGlzLnVzZXIgPSAnJzsKICAgIF90aGlzLnVzZXJzID0gW107CiAgICBfdGhpcy50ZXN0ZTIgPSBmYWxzZTsKICAgIF90aGlzLmZhY2Vib29rVXNlciA9IGZhbHNlOwogICAgX3RoaXMuaW5zdGFncmFtVXNlciA9IGZhbHNlOwogICAgX3RoaXMuZmluYWxJbWFnZSA9ICcnOwogICAgX3RoaXMuc2hvd0Nyb3BwZXIgPSBmYWxzZTsKICAgIF90aGlzLmRlc3RpbmF0aW9uID0gJyc7CiAgICBfdGhpcy5sb2dvSW5wdXQgPSAnJzsKICAgIF90aGlzLnB1Ymxpc2hBdmFpbGFibGUgPSBmYWxzZTsKICAgIF90aGlzLnB1Ymxpc2hBdmFpbGFibGVUZXh0ID0gJyc7CiAgICBfdGhpcy5wdWJsaXNoQXZhaWxhYmxlQ29sb3IgPSAnJzsKICAgIF90aGlzLmltYWdlID0gbmV3IEltYWdlKCk7CiAgICBfdGhpcy5jaXJjbGVzID0gW107CiAgICBfdGhpcy5wcm9jZXNzU3R5bGUgPSB7CiAgICAgIGNvbG9yOiAnIzAwYjBkMCcsCiAgICAgIGhlaWdodDogNwogICAgfTsKICAgIF90aGlzLnJhbmdlVmFsdWUgPSAxOwogICAgX3RoaXMudm9sdGFyID0gdHJ1ZTsKICAgIF90aGlzLmNvbnRlbnQgPSAnJzsKICAgIF90aGlzLmNvbnRlbnRQYXltZW50cyA9ICcnOwogICAgX3RoaXMucGF5bWVudHMgPSBbXTsKICAgIF90aGlzLnBheW1lbnRzQ2hlY2tlZCA9ICcnOwogICAgX3RoaXMuZmFjZWJvb2sgPSAnJzsKICAgIF90aGlzLmluc3RhZ3JhbSA9ICcnOwogICAgX3RoaXMud2Vic2l0ZSA9ICcnOwogICAgX3RoaXMuc2VsZWN0ZWRsYW5nID0gJyc7CiAgICBfdGhpcy5uYW1lID0gJyc7CiAgICBfdGhpcy5lbWFpbCA9ICcnOwogICAgX3RoaXMuY2VsdWxhciA9ICcnOwogICAgX3RoaXMuY2F0ZWdvcnkgPSAnJzsKICAgIF90aGlzLmFib3V0ID0gJyc7CiAgICBfdGhpcy5hZGRyZXNzID0gJyc7CiAgICBfdGhpcy5jb21wbGVtZW50byA9ICcnOwogICAgX3RoaXMuZGVzY3JpY2FvID0gJyc7CiAgICBfdGhpcy5udW1lcm8gPSAnJzsKICAgIF90aGlzLmNlcCA9ICcnOwogICAgX3RoaXMubG9ncmFkb3VybyA9ICcnOwogICAgX3RoaXMuYmFpcnJvID0gJyc7CiAgICBfdGhpcy5jaWRhZGUgPSAnJzsKICAgIF90aGlzLmRvY3VtZW50Q3BmID0gJyc7CiAgICBfdGhpcy5yZWdpb24gPSAnJzsKICAgIF90aGlzLnNpemUgPSAnJzsKICAgIF90aGlzLnNlbGxlck5hbWUgPSAnJzsKICAgIF90aGlzLnJlZ2lvbnMgPSBbXTsKICAgIF90aGlzLmRlbGl2ZXJ5UmVnaW9ucyA9IFtdOwogICAgX3RoaXMuc29jaWFsTWVkaWEgPSBbXTsKICAgIF90aGlzLnByb2ZpbGVVcmwgPSBbXTsKICAgIF90aGlzLmVycm9yTXNnID0gZmFsc2U7CiAgICBfdGhpcy5tYXJrZXJzID0gW107CiAgICBfdGhpcy5wbGFjZXMgPSBbXTsKICAgIF90aGlzLmN1cnJlbnRQbGFjZSA9ICcnOwogICAgX3RoaXMuZm9ybU1vZGVsID0ge307CiAgICBfdGhpcy5jaGVja2VkTmFtZXMgPSBbXTsKICAgIF90aGlzLmlzQWN0aXZlID0gZmFsc2U7CiAgICBfdGhpcy5ub3RpZnkgPSAiIjsKICAgIF90aGlzLmFjdGl2ZUFjY29yZGlvbiA9IF90aGlzLnByb3BBY3RpdmVBY2NvcmRpb247CiAgICBfdGhpcy5oYXNIZWFkZXIgPSBfdGhpcy5wcm9wSGVhZGVyOwogICAgX3RoaXMuY2hlY2tlZCA9IGZhbHNlOwogICAgX3RoaXMuaXRlbXMgPSBbXTsKICAgIF90aGlzLmZvY3VzZWQgPSBuZXcgZm9jdXNJbnB1dCgpOwogICAgX3RoaXMucmVnID0gL14oKFtePD4oKVxbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClcW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31dKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsMjR9KSkkLzsKICAgIF90aGlzLnZhbGlkID0gZmFsc2U7CiAgICBfdGhpcy52YWxpZEFkZHJlc3MgPSBmYWxzZTsKICAgIF90aGlzLnZhbGlkQ29tcGxlbWVudG8gPSBmYWxzZTsKICAgIF90aGlzLnZhbGlkRGVzY3JpY2FvID0gZmFsc2U7CiAgICBfdGhpcy52YWxpZENhdGVnb3J5ID0gZmFsc2U7CiAgICBfdGhpcy52YWxpZE51bWVybyA9IGZhbHNlOwogICAgX3RoaXMudmFsaWRBYm91dCA9IGZhbHNlOwogICAgX3RoaXMudmFsaWRSZWdpb24gPSBmYWxzZTsKICAgIF90aGlzLnZhbGlkTG9ncmFkb3VybyA9IGZhbHNlOwogICAgX3RoaXMudmFsaWRDaWRhZGUgPSBmYWxzZTsKICAgIF90aGlzLnZhbGlkQmFpcnJvID0gZmFsc2U7CiAgICBfdGhpcy52YWxpZENlcCA9IGZhbHNlOwogICAgX3RoaXMuY2F0ZWdvcmllcyA9IFtdOwogICAgX3RoaXMuYXV0b0NvbXBsZXRlQ2F0ZWdvcnlPcGVuID0gZmFsc2U7CiAgICBfdGhpcy5oaWRlQWRkcmVzcyA9IGZhbHNlOwogICAgX3RoaXMuc2l6ZXMgPSBbXTsKICAgIF90aGlzLnNob3dMb2dvTW9kYWwgPSBmYWxzZTsKICAgIF90aGlzLmdlbmVyaWNDaGF0Ym90ID0gJ21pbmhhbG9qYV8wJzsKICAgIF90aGlzLmNoYXRib3RJZCA9IF90aGlzLmdlbmVyaWNDaGF0Ym90OwogICAgX3RoaXMuc2VsZWN0QWxsUGF5bWVudHMgPSBmYWxzZTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhlZGl0YXJNZXVOZWdvY2lvLCBbewogICAga2V5OiAib25Qcm9wZXJ0eUNoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvcGVydHlDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkgey8vIGNvbnNvbGUubG9nKHZhbHVlLCBvbGRWYWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0Q2hhdGJvdElkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDaGF0Ym90SWQoY2hhdGJvdElkLCBpc0FjdGl2ZSkgewogICAgICB0aGlzLmNoYXRib3RJZCA9IGlzQWN0aXZlID8gIm1pbmhhbG9qYV8iLmNvbmNhdChjaGF0Ym90SWQpIDogdGhpcy5nZW5lcmljQ2hhdGJvdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblBheW1lbnRzQ2hhbmdlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25QYXltZW50c0NoYW5nZWQodmFsKSB7CiAgICAgIHRoaXMuc2VsZWN0QWxsUGF5bWVudHMgPSB0aGlzLnBheW1lbnRzLm1hcChmdW5jdGlvbiAocGF5bWVudCkgewogICAgICAgIHJldHVybiBwYXltZW50Lm1ldGhvZHMubWFwKGZ1bmN0aW9uIChtZXRob2QpIHsKICAgICAgICAgIHJldHVybiBtZXRob2QuYWN0aXZlOwogICAgICAgIH0pOwogICAgICB9KS5mbGF0KCkuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHJldHVybiAhdmFsdWU7CiAgICAgIH0pLmxlbmd0aCA9PT0gMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY3JlYXRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHZhciBjYXRlZ29yaWVzUmVzcG9uc2UsIGNhdGVnb3JpZXNEYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLnNob3dDcm9wcGVyMiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9ICcnOwogICAgICAgICAgICAgICAgdGhpcy5zaG93Q3JvcHBlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5pbWFnZVRvQ3JvcCA9ICcnOwogICAgICAgICAgICAgICAgdGhpcy51c2Vyc25hbWUgPSB0aGlzLmdldEFsbFVzZXJzKCk7CiAgICAgICAgICAgICAgICB0aGlzLnNpemVzID0gW107CiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NDaG9pY2VzU2VsbGVyU2l6ZSgpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJTZXJ2aWNlLmdldExpc3RDYXRlZ29yaWVzKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNSZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yaWVzUmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgY2F0ZWdvcmllc0RhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IGNhdGVnb3JpZXNEYXRhIHx8IFtdOwogICAgICAgICAgICAgICAgdGhpcy51c2VyU2VydmljZS5saXN0UHJvZGN1dHNBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgIGRhdGEuZGVsaXZlcnkuZm9yRWFjaChmdW5jdGlvbiAocmVnaW9uKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRSZWdpb25zKHJlZ2lvbik7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmRvY3VtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9kb2N1bWVudCRnZXRFbGVtZW50QjsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmluZm9BbGVydE5vRG9jdW1lbnQoKTsKCiAgICAgICAgICAgICAgICAgICAgKF9kb2N1bWVudCRnZXRFbGVtZW50QiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb2N1bWVudCcpKSA9PT0gbnVsbCB8fCBfZG9jdW1lbnQkZ2V0RWxlbWVudEIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kb2N1bWVudCRnZXRFbGVtZW50Qi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRhdGEuY2F0ZWdvcnkpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuaW5mb0FsZXJ0Tm9DYXRlZ29yeSgpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFkYXRhLmFkZHJlc3MpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuaW5mb0FsZXJ0Tm9BZHJlc3MoKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldEZpZWxkKGRhdGEpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmNlbHVsYXJWYWxpZGF0ZSgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmNwZlZhbGlkYXRlKCk7CiAgICAgICAgICAgICAgICB9KTsgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXVudXNlZC1leHByZXNzaW9uCgogICAgICAgICAgICAgICAgdGhpcy5wcmludFZhbHVlczsKICAgICAgICAgICAgICAgIHRoaXMudXNlclNlcnZpY2UubGlzdFBhZ2FtZW50b3MoKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdGVkUGF5bWVudHMsIGtleTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRlZFBheW1lbnRzID0gW107IC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpmb3JpbgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gcmVnZW5lcmF0b3JSdW50aW1lLmtleXMoZGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoX2NvbnRleHQudDEgPSBfY29udGV4dC50MCgpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBfY29udGV4dC50MS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLmFjdGl2ZSA9IF90aGlzMi5jaGVja2VkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5wYXltZW50cy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGtleSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kczogZGF0YVtrZXldCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFNlcnZpY2UgbGlzdE9idGVyUGFnYW1lbnRvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIGxpc3RPYnRlclBhZ2FtZW50b3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHNlcnZpY28gcXVlIGxpc3RhIG9zIG1laW9zIGRlIHBhZ2FtZW50b3MgYWx0ZXJhZG9zCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBuYSBmdW5jYW8gYWx0ZXJhclBheW1lbnRzLCB0cmF6ZW5kbyBzZWxlY2lvbmFkb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVzZXJTZXJ2aWNlLmxpc3RPYnRlclBhZ2FtZW50b3MoKSAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoY2hvaWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnBheW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHBheW1lbnRDYXRlZ29yeSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudENhdGVnb3J5Lm1ldGhvZHMubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB4LmFjdGl2ZSA9IHgubmFtZSA9PT0gY2hvaWNlLm5hbWUgPyB0cnVlIDogeC5hY3RpdmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlLmdldFNvY2lhbE1lZGlhKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHNvY2lhbCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTb2NpYWxNZWRpYShzb2NpYWwpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgICByZXR1cm4gX2NyZWF0ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNyZWF0ZWQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJvbkFjY29yZGlvblRvZ2dsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25BY2NvcmRpb25Ub2dnbGUoKSB7fQogICAgLyoqCiAgICAgKiBGdW5jdGlvbiB2ZXJpZnkgZXZlbnQgY2hlY2tib3gKICAgICAqIEBwYXJhbSBwcmludFZhbHVlcwogICAgICogQHBhcmFtIG5hbWUKICAgICAqIEBwYXJhbSBzdGF0dXMKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJwcmludFZhbHVlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJpbnRWYWx1ZXMobmFtZSwgc3RhdHVzKSB7CiAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICB0aGlzLmNoZWNrZWROYW1lcy5wdXNoKG5hbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hlY2tlZE5hbWVzID0gdGhpcy5jaGVja2VkTmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbSAhPT0gbmFtZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNldFNvY2lhbE1lZGlhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTb2NpYWxNZWRpYShtZWRpYSkgewogICAgICBpZiAobWVkaWEudHlwZSA9PT0gJ0ZhY2Vib29rJykgewogICAgICAgIHRoaXMuZmFjZWJvb2sgPSBBcnJheS5mcm9tKG5ldyBTZXQobWVkaWEucHJvZmlsZVVybC5zcGxpdCgnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLycpKSkudG9TdHJpbmcoKTsKICAgICAgICB0aGlzLmZhY2Vib29rID0gdGhpcy5mYWNlYm9vay5yZXBsYWNlKC8sL2csICcnKTsKICAgICAgfQoKICAgICAgaWYgKG1lZGlhLnR5cGUgPT09ICdJbnN0YWdyYW0nKSB7CiAgICAgICAgdGhpcy5pbnN0YWdyYW0gPSBBcnJheS5mcm9tKG5ldyBTZXQobWVkaWEucHJvZmlsZVVybC5zcGxpdCgnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS8nKSkpLnRvU3RyaW5nKCk7CiAgICAgICAgdGhpcy5pbnN0YWdyYW0gPSB0aGlzLmluc3RhZ3JhbS5yZXBsYWNlKC8sL2csICcnKTsKICAgICAgfQoKICAgICAgaWYgKG1lZGlhLnR5cGUgPT09ICdQZXJzb25hbCBXZWJzaXRlJykgewogICAgICAgIHRoaXMud2Vic2l0ZSA9IG1lZGlhLnByb2ZpbGVVcmwuc3BsaXQoJ2h0dHBzOi8vJylbMV07CiAgICAgIH0KCiAgICAgIHRoaXMuZmFjZSA9IHRoaXMuZmFjZWJvb2s7CiAgICAgIHRoaXMuaW5zdGcgPSB0aGlzLmluc3RhZ3JhbTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGaWVsZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmllbGQodGV4dHMpIHsKICAgICAgdGhpcy5maW5hbEltYWdlID0gdGV4dHMuc3RvcmVfbG9nb191cmw7CgogICAgICBpZiAodGV4dHMuYWRkcmVzcykgewogICAgICAgIHRoaXMucmFuZ2VWYWx1ZSA9IHRleHRzLmFkZHJlc3MuZGlzdGFuY2U7CiAgICAgICAgdGhpcy5hZGRyZXNzID0gdGV4dHMuYWRkcmVzcy5zdHJlZXQgKyAnLCAnICsgdGV4dHMuYWRkcmVzcy5uZWlnaGJvcmhvb2QgKyAnLCAnICsgdGV4dHMuYWRkcmVzcy5jaXR5ICsgJywgJyArIHRleHRzLmFkZHJlc3Muc3RhdGU7CiAgICAgICAgdGhpcy5nZW9jb2RlQWRkcmVzcyh0ZXh0cy5hZGRyZXNzLnN0cmVldCArICcsICcgKyB0ZXh0cy5hZGRyZXNzLm51bWJlciArICcsICcgKyB0ZXh0cy5hZGRyZXNzLm5laWdoYm9yaG9vZCArICcsICcgKyB0ZXh0cy5hZGRyZXNzLmNpdHkgKyAnLCAnICsgdGV4dHMuYWRkcmVzcy5zdGF0ZSk7CiAgICAgICAgdGhpcy5jb21wbGVtZW50byA9IHRleHRzLmFkZHJlc3MuY29tcGxlbWVudDsKICAgICAgICB0aGlzLmFib3V0ID0gdGV4dHMuYWJvdXQ7CiAgICAgICAgdGhpcy5yZWdpb24gPSAnJzsKICAgICAgICB0aGlzLm51bWVybyA9IHRleHRzLmFkZHJlc3MubnVtYmVyOwogICAgICAgIHRoaXMuY2lkYWRlID0gdGV4dHMuYWRkcmVzcy5jaXR5OwogICAgICAgIHRoaXMuYmFpcnJvID0gdGV4dHMuYWRkcmVzcy5uZWlnaGJvcmhvb2Q7CiAgICAgICAgdGhpcy5sb2dyYWRvdXJvID0gdGV4dHMuYWRkcmVzcy5zdHJlZXQ7CiAgICAgICAgdGhpcy5jZXAgPSB0ZXh0cy5hZGRyZXNzLnppcGNvZGU7CiAgICAgIH0KCiAgICAgIHRoaXMuc2l6ZSA9IHRleHRzLnNpemU7CiAgICAgIHRoaXMuc2VsbGVyTmFtZSA9IHRleHRzLnNlbGxlcl9uYW1lOwogICAgICB0aGlzLmRvY3VtZW50Q3BmID0gdGV4dHMuZG9jdW1lbnQ7CiAgICAgIHRoaXMuY29udGVudCA9IHRleHRzOwogICAgICB0aGlzLm5hbWUgPSB0ZXh0cy5uYW1lOwogICAgICB0aGlzLmNlbHVsYXIgPSB0ZXh0cy5tb2JpbGU7CiAgICAgIHRoaXMuZW1haWwgPSB0ZXh0cy5lbWFpbDsKICAgICAgdGhpcy5wdWJsaXNoQXZhaWxhYmxlID0gdGV4dHMuc2VsbGVyX2Rpc2FibGU7CiAgICAgIHRoaXMucHVibGlzaEF2YWlsYWJsZVRleHQgPSB0aGlzLnB1Ymxpc2hBdmFpbGFibGUgPyAnUmVhdGl2YXIgY29udGEnIDogJ0Rlc2F0aXZhciBjb250YSc7CiAgICAgIHRoaXMucHVibGlzaEF2YWlsYWJsZUNvbG9yID0gdGhpcy5wdWJsaXNoQXZhaWxhYmxlID8gJ2VkaXRCb3hfX2Zvcm1EYXRhX19kYXRhQnRuLS1idXR0b25fX2FjdGl2ZScgOiAnZWRpdEJveF9fZm9ybURhdGFfX2RhdGFCdG4tLWJ1dHRvbl9fZGlzYWJsZSc7CiAgICAgIHRoaXMuY2F0U3ViY2F0ID0gdGV4dHMudGhpcmRfbGV2ZWw7CgogICAgICBpZiAodGV4dHMuc3ViX2NhdGVnb3J5KSB7CiAgICAgICAgLy8gdGhpcy5jYXRlZ29yeVN1YmNhdGVnb3J5ID0gdGhpcy5jYXRTdWJjYXQuc3BsaXQoJyAtICcpOwogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB0ZXh0cy5jYXRlZ29yeTsKICAgICAgICB0aGlzLnN1YmNhdGVnb3J5ID0gdGV4dHMuc3ViX2NhdGVnb3J5OwogICAgICAgIHRoaXMudmFsaWRTdWJDYXRlZ29yeSA9IHRoaXMuc3ViY2F0ZWdvcnkgPyB0cnVlIDogZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuaGlkZUFkZHJlc3MgPSB0ZXh0cy5oaWRlX2FkZHJlc3MgPT09IHRydWUgPyB0ZXh0cy5oaWRlX2FkZHJlc3MgOiBmYWxzZTsKICAgICAgdGhpcy52YWxpZCA9IGZhbHNlOwogICAgICB0aGlzLnZhbGlkQWRkcmVzcyA9IHRoaXMuYWRkcmVzcyA/IHRydWUgOiBmYWxzZTsKICAgICAgdGhpcy52YWxpZENhdGVnb3J5ID0gdGhpcy5jYXRlZ29yeSA/IHRydWUgOiBmYWxzZTsKICAgICAgdGhpcy52YWxpZENvbXBsZW1lbnRvID0gdGhpcy5jb21wbGVtZW50byA/IHRydWUgOiBmYWxzZTsKICAgICAgdGhpcy52YWxpZERlc2NyaWNhbyA9IHRoaXMuZGVzY3JpY2FvID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLnZhbGlkTnVtZXJvID0gdGhpcy5udW1lcm8gPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMudmFsaWRBYm91dCA9IHRoaXMuYWJvdXQgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMudmFsaWRSZWdpb24gPSBmYWxzZTsKICAgICAgdGhpcy52YWxpZExvZ3JhZG91cm8gPSBmYWxzZTsKICAgICAgdGhpcy52YWxpZENpZGFkZSA9IGZhbHNlOwogICAgICB0aGlzLnZhbGlkQmFpcnJvID0gZmFsc2U7CiAgICAgIHRoaXMudmFsaWRDZXAgPSBmYWxzZTsKICAgICAgdGhpcy5mb2N1c2VkLmVkaXRDYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcnkgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0U2l6ZSA9IHRoaXMuc2l6ZSA/IHRydWUgOiBmYWxzZTsKICAgICAgdGhpcy5mb2N1c2VkLmVkaXRTZWxsZXJOYW1lID0gdGhpcy5zZWxsZXJOYW1lID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQuZWRpdEFkZHJlc3MgPSB0aGlzLmFkZHJlc3MgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0UmVnaW9uID0gdHJ1ZTsKICAgICAgdGhpcy5mb2N1c2VkLmVkaXRBYm91dCA9IHRoaXMuYWJvdXQgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0Q29tcGxlbWVudG8gPSB0aGlzLmNvbXBsZW1lbnRvID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQuZWRpdERlc2NyaWNhbyA9IHRoaXMuZGVzY3JpY2FvID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQuZWRpdE51bWVybyA9IHRoaXMubnVtZXJvID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQuZWRpdENlcCA9IHRoaXMuY2VwID8gdHJ1ZSA6IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQuZWRpdExvZ3JhZG91cm8gPSB0aGlzLmxvZ3JhZG91cm8gPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0Q2lkYWRlID0gdGhpcy5jaWRhZGUgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0QmFpcnJvID0gdGhpcy5iYWlycm8gPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuc3ViY2F0ZWdvcmllc0RhdGEgPSB0aGlzLnN1YmNhdGVnb3JpZXM7CiAgICAgIHRoaXMuY2xlYXJTdWJjYXRlZ29yeSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImFsdGVyYXJBZGRyZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbHRlcmFyQWRkcmVzcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgdHJ1ZSk7CiAgICAgIHZhciBsb2NhdGlvbiA9IHsKICAgICAgICBkaXN0YW5jZTogdGhpcy5yYW5nZVZhbHVlID8gdGhpcy5yYW5nZVZhbHVlIDogbnVsbCwKICAgICAgICBudW1iZXI6IHRoaXMubnVtZXJvLAogICAgICAgIGNvbXBsZW1lbnQ6IHRoaXMuY29tcGxlbWVudG8sCiAgICAgICAgbmVpZ2hib3Job29kOiB0aGlzLmJhaXJybywKICAgICAgICBsYXQ6IHRoaXMubGF0LAogICAgICAgIGxuZzogdGhpcy5sbmcsCiAgICAgICAgY2l0eTogdGhpcy5jaWRhZGUsCiAgICAgICAgc3RyZWV0OiB0aGlzLmxvZ3JhZG91cm8sCiAgICAgICAgemlwY29kZTogdGhpcy5jZXAsCiAgICAgICAgc2hvd19hZGRyZXNzOiB0aGlzLnNob3dBZGRyZXNzCiAgICAgIH07CgogICAgICBpZiAoIWxvY2F0aW9uLm51bWJlciB8fCAhbG9jYXRpb24uemlwY29kZSB8fCAhbG9jYXRpb24ubmVpZ2hib3Job29kIHx8ICFsb2NhdGlvbi5jaXR5IHx8ICFsb2NhdGlvbi5zdHJlZXQpIHsKICAgICAgICB2YXIgZW1wdHlGaWVsZHMgPSAiIjsKCiAgICAgICAgaWYgKCFsb2NhdGlvbi56aXBjb2RlKSB7CiAgICAgICAgICBlbXB0eUZpZWxkcyArPSAnXG4gQ2VwJzsKICAgICAgICB9CgogICAgICAgIGlmICghbG9jYXRpb24uc3RyZWV0KSB7CiAgICAgICAgICBlbXB0eUZpZWxkcyArPSAnXG4gTG9ncmFkb3Vybyc7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWxvY2F0aW9uLm51bWJlcikgewogICAgICAgICAgZW1wdHlGaWVsZHMgKz0gJ1xuIE7Dum1lcm8nOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFsb2NhdGlvbi5uZWlnaGJvcmhvb2QpIHsKICAgICAgICAgIGVtcHR5RmllbGRzICs9ICdcbiBCYWlycm8nOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFsb2NhdGlvbi5jaXR5KSB7CiAgICAgICAgICBlbXB0eUZpZWxkcyArPSAnXG4gQ2lkYWRlJzsKICAgICAgICB9CgogICAgICAgIHRoaXMudG9hc3RNZXNzYWdlKCdlcnJvcicsICJPcyBjYW1wb3MgYWJhaXhvIHPDo28gb2JyaWdhdMOzcmlvczpcbiIgKyBlbXB0eUZpZWxkcyk7CiAgICAgICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChsb2NhdGlvbikgewogICAgICAgIHRoaXMudXNlclNlcnZpY2UudXBkYXRlU2hvd0FkZHJlc3MobG9jYXRpb24pOwogICAgICAgIHRoaXMudXNlclNlcnZpY2UudXBkYXRlU2VsbGVyQWRkcmVzcyhsb2NhdGlvbikudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgaWYgKCFkYXRhLm9rKSB7CiAgICAgICAgICAgIF90aGlzMy5zaG93RXJyb3JOb3RpZmljYXRpb24oKTsKCiAgICAgICAgICAgIF90aGlzMy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy51c2VyU2VydmljZS51cGRhdGVTZWxsZXIoewogICAgICAgICAgICAgIGhpZGVfYWRkcmVzczogX3RoaXMzLmhpZGVBZGRyZXNzCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJEYXRhKSB7CiAgICAgICAgICAgICAgaWYgKCF1c2VyRGF0YS5vaykgewogICAgICAgICAgICAgICAgX3RoaXMzLnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMzLnNob3dTdWNjZXNzZnVsbE5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5mb2N1c2VkLmVkaXROdW1lcm8gPSB0aGlzLm51bWVybyA/IHRydWUgOiBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRTaWdsYSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2lnbGEoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIG9iaiA9IHRoaXMuc2l6ZXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSBfdGhpczQuc2l6ZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBvYmogIT09IHVuZGVmaW5lZCA/IG9iai5zaWdsYSA6ICIiOwogICAgfQogIH0sIHsKICAgIGtleTogInNhdmVEYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgdHJ1ZSk7CgogICAgICBpZiAoIXRoaXMuc2l6ZSB8fCAhdGhpcy5zZWxsZXJOYW1lKSB7CiAgICAgICAgYWxlcnQoIkRldmUgcHJlZW5jaGVyIG9zIGRhZG9zIGVtIGJyYW5jbywgcG9yIGZhdm9yIHByZWVuY2hhIGUgdGVudGUgbm92YW1lbnRlIik7CiAgICAgICAgdGhpcy5zaG93RXJyb3JOb3RpZmljYXRpb24oKTsKICAgICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXNlclNlcnZpY2UudXBkYXRlU2l6ZSh0aGlzLmdldFNpZ2xhKCksIHRoaXMuc2VsbGVyTmFtZSwgdGhpcy5uYW1lLCB0aGlzLmVtYWlsLCB0aGlzLmRvY3VtZW50Q3BmKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBpZiAoIWRhdGEub2spIHsKICAgICAgICAgICAgZGF0YS5qc29uKCkudGhlbihmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICAgICAgaWYgKG9iai5lbWFpbCkgewogICAgICAgICAgICAgICAgX3RoaXM1LnNob3dFcnJvck5vdGlmaWNhdGlvbihvYmouZW1haWxbMF0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczUuc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNS5zaG93U3VjY2Vzc2Z1bGxOb3RpZmljYXRpb24oKTsKCiAgICAgICAgICAgIGRhdGEuanNvbigpLnRoZW4oZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dnZWRVc2VyJywgSlNPTi5zdHJpbmdpZnkob2JqKSk7CiAgICAgICAgICAgICAgX3RoaXM1LmxvZ2dlZFVzZXIgPSBvYmo7CiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczUuJGVtaXQoJ2xvYWRpbmcnLCBmYWxzZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJhbHRlclNlbGxlclN0YXR1cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWx0ZXJTZWxsZXJTdGF0dXMoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucHVibGlzaEF2YWlsYWJsZSkgewogICAgICAgIHRoaXMudXNlclNlcnZpY2UuaGFiaWxpdGFWZW5kZWRvcigpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICBpZiAodmFsdWUuc3RhdHVzICE9PSAyMDIpIHsKICAgICAgICAgICAgX3RoaXM2LnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM2LnNob3dTdWNjZXNzZnVsbE5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgICAgX3RoaXM2LnB1Ymxpc2hBdmFpbGFibGUgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXM2LnB1Ymxpc2hBdmFpbGFibGVUZXh0ID0gJ0Rlc2F0aXZhciBjb250YSc7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51c2VyU2VydmljZS5kZXNhYmlsaXRhVmVuZGVkb3IoKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyAhPT0gMjAyKSB7CiAgICAgICAgICAgIF90aGlzNi5zaG93RXJyb3JOb3RpZmljYXRpb24oKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNi5zaG93U3VjY2Vzc2Z1bGxOb3RpZmljYXRpb24oKTsKCiAgICAgICAgICAgIF90aGlzNi5wdWJsaXNoQXZhaWxhYmxlID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXM2LnB1Ymxpc2hBdmFpbGFibGVUZXh0ID0gJ1JlYXRpdmFyIGNvbnRhJzsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5wdWJsaXNoQXZhaWxhYmxlQ29sb3IgPSB0aGlzLnB1Ymxpc2hBdmFpbGFibGUgPyAnZWRpdEJveF9fZm9ybURhdGFfX2RhdGFCdG4tLWJ1dHRvbl9fZGlzYWJsZScgOiAnZWRpdEJveF9fZm9ybURhdGFfX2RhdGFCdG4tLWJ1dHRvbl9fYWN0aXZlJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzYXZlQ2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVDYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLiRlbWl0KCdsb2FkaW5nJywgdHJ1ZSk7CgogICAgICBpZiAodGhpcy5zdWJjYXRlZ29yeSA9PT0gJycgJiYgdGhpcy5jYXRlZ29yeSAhPT0gJycpIHsKICAgICAgICB0aGlzLnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwogICAgICAgIHRoaXMuJGVtaXQoJ2xvYWRpbmcnLCBmYWxzZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gY29uc3QgdmFsdWUgPSB0aGlzLmNhdGVnb3J5ICsgJyAtICcgKyB0aGlzLnN1YmNhdGVnb3J5OwogICAgICAgIC8vIHRoaXMuY2F0ZWdvcnlJZCA9IHRoaXMuY2F0ZWdvcmllcy5maWx0ZXIoYyA9PiBjLnZhbHVlID09PSB2YWx1ZSlbMF0uaWQ7CiAgICAgICAgdmFyIHN1YmNhdGVnb3J5ID0gdGhpcy5zdWJjYXRlZ29yaWVzLmZpbmQoZnVuY3Rpb24gKHN1YmNhdGVnb3J5KSB7CiAgICAgICAgICByZXR1cm4gc3ViY2F0ZWdvcnkubmFtZSA9PT0gX3RoaXM3LnN1YmNhdGVnb3J5OwogICAgICAgIH0pOwoKICAgICAgICBpZiAoc3ViY2F0ZWdvcnkpIHsKICAgICAgICAgIHRoaXMudXNlclNlcnZpY2UudXBkYXRlQ2F0ZWdvcnkoewogICAgICAgICAgICBjbmFlOiBzdWJjYXRlZ29yeS5jbmFlCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGlmICghZGF0YS5vaykgewogICAgICAgICAgICAgIF90aGlzNy5zaG93RXJyb3JOb3RpZmljYXRpb24oKTsKCiAgICAgICAgICAgICAgX3RoaXM3LiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzNy51c2VyU2VydmljZS51cGRhdGVTZWxsZXIoewogICAgICAgICAgICAgICAgYWJvdXQ6IF90aGlzNy5hYm91dAogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJEYXRhKSB7CiAgICAgICAgICAgICAgICBpZiAoIXVzZXJEYXRhLm9rKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5zaG93RXJyb3JOb3RpZmljYXRpb24oKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5zaG93U3VjY2Vzc2Z1bGxOb3RpZmljYXRpb24oKTsKCiAgICAgICAgICAgICAgICAgIHZhciBsb2dnZWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dnZWRVc2VyJykgfHwgJycpOwogICAgICAgICAgICAgICAgICBsb2dnZWQuY2F0ZWdvcnkgPSBfdGhpczcuY2F0ZWdvcnk7CiAgICAgICAgICAgICAgICAgIGxvZ2dlZC5zdWJzY3JpYmUgPSBfdGhpczcuc3ViY2F0ZWdvcnk7CiAgICAgICAgICAgICAgICAgIGxvZ2dlZC5hYm91dCA9IF90aGlzNy5hYm91dDsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xvZ2dlZFVzZXInLCBKU09OLnN0cmluZ2lmeShsb2dnZWQpKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczcuJGVtaXQoJ2xvYWRpbmcnLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy51c2VyU2VydmljZS51cGRhdGVTZWxsZXIoewogICAgICAgICAgICBhYm91dDogdGhpcy5hYm91dAogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBpZiAoIWRhdGEub2spIHsKICAgICAgICAgICAgICBfdGhpczcuc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7CgogICAgICAgICAgICAgIF90aGlzNy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczcuc2hvd1N1Y2Nlc3NmdWxsTm90aWZpY2F0aW9uKCk7CgogICAgICAgICAgICAgIF90aGlzNy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiYWx0ZXJhclNvY2lhbE1lZGlhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbHRlcmFyU29jaWFsTWVkaWEoKSB7CiAgICAgIHZhciBfd2luZG93JGV2ZW50LAogICAgICAgICAgX3RoaXM4ID0gdGhpczsKCiAgICAgIChfd2luZG93JGV2ZW50ID0gd2luZG93LmV2ZW50KSA9PT0gbnVsbCB8fCBfd2luZG93JGV2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2luZG93JGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuc29jaWFsTWVkaWEgPSBbXTsKICAgICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIHRydWUpOwogICAgICB0aGlzLmluc3RhZ3JhbVVzZXIgPSBmYWxzZTsKICAgICAgdGhpcy5mYWNlYm9va1VzZXIgPSBmYWxzZTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZhY2Vib29rJywgJ3RydWUnKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2luc3RhZ3JhbScsICd0cnVlJyk7CgogICAgICBpZiAoIXRoaXMuZmFjZSkgewogICAgICAgIHRoaXMuZmFjZSA9ICcnOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuaW5zdGcpIHsKICAgICAgICB0aGlzLmluc3RnID0gJyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmZhY2Vib29rLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnZlcmlmaWNhcignZmFjZWJvb2snKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmFjZWJvb2snKSA9PT0gJ3RydWUnKSB7CiAgICAgICAgICAgIF90aGlzOC5zb2NpYWxNZWRpYS5wdXNoKHsKICAgICAgICAgICAgICBzdGF0dXM6IF90aGlzOC5mYWNlYm9vayA/IHRydWUgOiBmYWxzZSwKICAgICAgICAgICAgICBwcm9maWxlVXJsOiAnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLycgKyBfdGhpczguZmFjZWJvb2ssCiAgICAgICAgICAgICAgdHlwZTogJ0ZhY2Vib29rJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzOC5zb2NpYWxNZWRpYS5wdXNoKHsKICAgICAgICAgICAgICBzdGF0dXM6IF90aGlzOC5mYWNlID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgICAgIHByb2ZpbGVVcmw6ICdodHRwczovL3d3dy5mYWNlYm9vay5jb20vJyArIF90aGlzOC5mYWNlLAogICAgICAgICAgICAgIHR5cGU6ICdGYWNlYm9vaycKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgNTEwKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW5zdGFncmFtLmxlbmd0aCA+IDApIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaW5zdGFncmFtJykgPT09ICd0cnVlJykgewogICAgICAgICAgICBfdGhpczguc29jaWFsTWVkaWEucHVzaCh7CiAgICAgICAgICAgICAgc3RhdHVzOiBfdGhpczguaW5zdGFncmFtID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgICAgIHByb2ZpbGVVcmw6ICdodHRwczovL3d3dy5pbnN0YWdyYW0uY29tLycgKyBfdGhpczguaW5zdGFncmFtLAogICAgICAgICAgICAgIHR5cGU6ICdJbnN0YWdyYW0nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM4LnNvY2lhbE1lZGlhLnB1c2goewogICAgICAgICAgICAgIHN0YXR1czogX3RoaXM4Lmluc3RnID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgICAgIHByb2ZpbGVVcmw6ICdodHRwczovL3d3dy5pbnN0YWdyYW0uY29tLycgKyBfdGhpczguaW5zdGcsCiAgICAgICAgICAgICAgdHlwZTogJ0luc3RhZ3JhbScKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgNTEwKTsKICAgICAgICB0aGlzLnZlcmlmaWNhcignaW5zdGFncmFtJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLndlYnNpdGUubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuc29jaWFsTWVkaWEucHVzaCh7CiAgICAgICAgICBzdGF0dXM6IHRoaXMud2Vic2l0ZSA/IHRydWUgOiBmYWxzZSwKICAgICAgICAgIHByb2ZpbGVVcmw6ICdodHRwczovLycgKyB0aGlzLndlYnNpdGUsCiAgICAgICAgICB0eXBlOiAnUGVyc29uYWwgV2Vic2l0ZScKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM4LnVzZXJTZXJ2aWNlLnBvc3RTb2NpYWxNZWRpYShfdGhpczguc29jaWFsTWVkaWEpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGlmICghZGF0YS5vayB8fCBfdGhpczguaW5zdGFncmFtVXNlciAhPT0gZmFsc2UgfHwgX3RoaXM4LmZhY2Vib29rVXNlciAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgX3RoaXM4LnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgICAgX3RoaXM4LiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwoKICAgICAgICAgICAgaWYgKF90aGlzOC5pbnN0YWdyYW1Vc2VyID09PSBmYWxzZSkgewogICAgICAgICAgICAgIF90aGlzOC5pbnN0ZyA9IF90aGlzOC5pbnN0YWdyYW07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChfdGhpczguZmFjZWJvb2tVc2VyID09PSBmYWxzZSkgewogICAgICAgICAgICAgIF90aGlzOC5mYWNlID0gX3RoaXM4LmZhY2Vib29rOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczguc2hvd1N1Y2Nlc3NmdWxsTm90aWZpY2F0aW9uKCk7CgogICAgICAgICAgICBfdGhpczguJGVtaXQoJ2xvYWRpbmcnLCBmYWxzZSk7CgogICAgICAgICAgICBfdGhpczguc29jaWFsTWVkaWEgPSBbXTsKICAgICAgICAgICAgX3RoaXM4LmZhY2UgPSBfdGhpczguZmFjZWJvb2s7CiAgICAgICAgICAgIF90aGlzOC5pbnN0ZyA9IF90aGlzOC5pbnN0YWdyYW07CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CgogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpbnN0YWdyYW0nKTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZmFjZWJvb2snKTsKICAgICAgfSwgNjAwKTsKICAgIH0gLy8gdXBkYXRlUG9zdFNvY2lhbCgpIHsKICAgIC8vICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgIC8vICAgdGhpcy5zZXJ2aWNlLmdldFNvY2lhbE1lZGlhKCkKICAgIC8vICAgLnRoZW4oZGF0YSA9PiBkYXRhLmpzb24oKSkKICAgIC8vICAgLnRoZW4oZGF0YSA9PiB7CiAgICAvLyAgICAgaWYgKCFkYXRhLm9rKSB7CiAgICAvLyAgICAgICB0aGlzLnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwogICAgLy8gICAgICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgIC8vICAgICB9IGVsc2UgewogICAgLy8gICAgICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgIC8vICAgICAgIHRoaXMuc29jaWFsTWVkaWEucHVzaChkYXRhKTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0pCiAgICAvLyAgIC5jYXRjaChlcnIgPT4gewogICAgLy8gICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAvLyAgIH0pCiAgICAvLyB9CgogICAgLyoqCiAgICAgKiBQYXJhbSBhbHRlcmFyUGF5bWVudHMKICAgICAqIEBwYXJhbSAgYWx0ZXJhclBheW1lbnRzCiAgICAgKiBmdW5jYW8gcXVlIHNlbGVjaW9uYSBvIG1laW8gZGUgcGFnYW1lbnRvLAogICAgICogYWx0ZXJhIG8gbWVpbyBkZSBwYWdhbWVudG8KICAgICAqIGUgZW52aWEgbyBtZWlvIGRlIHBhZ2FtZW50bwogICAgICovCgogIH0sIHsKICAgIGtleTogImFsdGVyYXJQYXltZW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2FsdGVyYXJQYXltZW50cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF93aW5kb3ckZXZlbnQyLAogICAgICAgICAgICBfdGhpczkgPSB0aGlzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgKF93aW5kb3ckZXZlbnQyID0gd2luZG93LmV2ZW50KSA9PT0gbnVsbCB8fCBfd2luZG93JGV2ZW50MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvdyRldmVudDIucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2xvYWRpbmcnLCB0cnVlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBheW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHBheW1lbnRDYXRlZ29yeSkgewogICAgICAgICAgICAgICAgICBwYXltZW50Q2F0ZWdvcnkubWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmFjdGl2ZSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LmNoZWNrZWROYW1lcy5wdXNoKG1ldGhvZC5uYW1lKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHRoaXMudXNlclNlcnZpY2UubGlzdFVwZGF0ZVBhZ2FtZW50b3ModGhpcy5jaGVja2VkTmFtZXMpLnRoZW4oZnVuY3Rpb24gKHBheW1lbnRzQ2hlY2tlZCkgewogICAgICAgICAgICAgICAgICBpZiAoIXBheW1lbnRzQ2hlY2tlZC5vaykgewogICAgICAgICAgICAgICAgICAgIF90aGlzOS5zaG93RXJyb3JOb3RpZmljYXRpb24oKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM5LiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzOS4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM5LmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIF90aGlzOS5jaGVja2VkTmFtZXMgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM5LnNob3dTdWNjZXNzZnVsbE5vdGlmaWNhdGlvbigpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYWx0ZXJhclBheW1lbnRzKCkgewogICAgICAgIHJldHVybiBfYWx0ZXJhclBheW1lbnRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhbHRlcmFyUGF5bWVudHM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjcGZWYWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3BmVmFsaWRhdGUoKSB7CiAgICAgIGlmICh0aGlzLmRvY3VtZW50Q3BmICYmIHRoaXMuZG9jdW1lbnRDcGYgIT09IG51bGwgJiYgdGhpcy5kb2N1bWVudENwZi5sZW5ndGggPiAwICYmIHRoaXMuZG9jdW1lbnRDcGYubGVuZ3RoIDw9IDExKSB7CiAgICAgICAgdGhpcy5kb2N1bWVudENwZiA9IHRoaXMuZG9jdW1lbnRDcGYucmVwbGFjZSgvKFxkezN9KShcZHszfSkoXGR7M30pKFxkezJ9KS8sIGZ1bmN0aW9uIChyZWdleCwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkgewogICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChhcmcxLCAiLiIpLmNvbmNhdChhcmcyLCAiLiIpLmNvbmNhdChhcmczLCAiLSIpLmNvbmNhdChhcmc0KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmRvY3VtZW50Q3BmICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy5kb2N1bWVudENwZiA9IHRoaXMuZG9jdW1lbnRDcGYucmVwbGFjZSgvKFxkezJ9KShcZHszfSkoXGR7M30pKFxkezR9KShcZHsyfSkvLCBmdW5jdGlvbiAocmVnZXgsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQoYXJnMSwgIi4iKS5jb25jYXQoYXJnMiwgIi4iKS5jb25jYXQoYXJnMywgIi8iKS5jb25jYXQoYXJnNCwgIi0iKS5jb25jYXQoYXJnNSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjZWx1bGFyVmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNlbHVsYXJWYWxpZGF0ZSgpIHsKICAgICAgdGhpcy5jZWx1bGFyID0gdGhpcy5jZWx1bGFyLnJlcGxhY2UoLyhcZHsyfSkoXGR7NX0pKFxkezR9KS8sIGZ1bmN0aW9uIChyZWdleCwgYXJnMSwgYXJnMiwgYXJnMykgewogICAgICAgIHJldHVybiAiKCIuY29uY2F0KGFyZzEsICIpICIpLmNvbmNhdChhcmcyLCAiIC0gIikuY29uY2F0KGFyZzMpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0NhdGVnb3J5VmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ2F0ZWdvcnlWYWxpZCgpIHsKICAgICAgdGhpcy52YWxpZENhdGVnb3J5ID0gdGhpcy5jYXRlZ29yeSA/IHRoaXMucmVnLnRlc3QodGhpcy5jYXRlZ29yeSkgPyB0cnVlIDogZmFsc2UgOiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0FkZHJlc3NWYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNBZGRyZXNzVmFsaWQoKSB7CiAgICAgIHRoaXMudmFsaWRBZGRyZXNzID0gdGhpcy5hZGRyZXNzID09PSAnJyA/IHRoaXMucmVnLnRlc3QodGhpcy5hZGRyZXNzKSA/IHRydWUgOiBmYWxzZSA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzUmVnaW9uVmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzUmVnaW9uVmFsaWQoKSB7CiAgICAgIHRoaXMudmFsaWRSZWdpb24gPSB0aGlzLnJlZ2lvbiA9PT0gJycgPyB0aGlzLnJlZy50ZXN0KHRoaXMucmVnaW9uKSA/IHRydWUgOiBmYWxzZSA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzQ2VwVmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ2VwVmFsaWQoKSB7CiAgICAgIHRoaXMudmFsaWRDZXAgPSB0aGlzLmNlcCA9PT0gJycgPyB0aGlzLnJlZy50ZXN0KHRoaXMuY2VwKSA/IHRydWUgOiBmYWxzZSA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzQmFpcnJvVmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQmFpcnJvVmFsaWQoKSB7CiAgICAgIHRoaXMudmFsaWRCYWlycm8gPSB0aGlzLmJhaXJybyA9PT0gJycgPyB0aGlzLnJlZy50ZXN0KHRoaXMuYmFpcnJvKSA/IHRydWUgOiBmYWxzZSA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzQ2lkYWRlVmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ2lkYWRlVmFsaWQoKSB7CiAgICAgIHRoaXMudmFsaWRDaWRhZGUgPSB0aGlzLmNpZGFkZSA9PT0gJycgPyB0aGlzLnJlZy50ZXN0KHRoaXMuY2lkYWRlKSA/IHRydWUgOiBmYWxzZSA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzTG9ncmFkb3Vyb1ZhbGlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0xvZ3JhZG91cm9WYWxpZCgpIHsKICAgICAgdGhpcy52YWxpZExvZ3JhZG91cm8gPSB0aGlzLmxvZ3JhZG91cm8gPT09ICcnID8gdGhpcy5yZWcudGVzdCh0aGlzLmxvZ3JhZG91cm8pID8gdHJ1ZSA6IGZhbHNlIDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAibW91bnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBzZWxsZXJPYmplY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlSW5pdCgpOwogICAgICAgICAgICAgICAgdGhpcy5pbml0TWFwKCk7IC8vIHRoaXMuY29tYm8oKTsKCiAgICAgICAgICAgICAgICB0aGlzLmdldEluc3RhZ3JhbUNvZGUoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZXJTZXJ2aWNlLmdldFNlbGxlclNob3dBZGRyZXNzKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHNlbGxlck9iamVjdCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5zaG93QWRkcmVzc0NoZWNrZWQgPSBzZWxsZXJPYmplY3Quc2hvd19hZGRyZXNzOwogICAgICAgICAgICAgICAgdGhpcy5zaG93QWRkcmVzcyA9IHNlbGxlck9iamVjdC5zaG93X2FkZHJlc3M7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgICAgcmV0dXJuIF9tb3VudGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBtb3VudGVkOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaW5mb0FsZXJ0Tm9Eb2N1bWVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2luZm9BbGVydE5vRG9jdW1lbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkgPSB7CiAgICAgICAgICAgICAgICAgIGljb246IHJlcXVpcmUoJy4vLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uX2Vycm9yLnBuZycpLAogICAgICAgICAgICAgICAgICB0ZXh0OiAiXG4gICAgICAgICAgPHN0cm9uZz5BVEVOXHhDN1x4QzNPOiBTdWEgbG9qYSBuXHhFM28gZXN0XHhFMSBzZW5kbyBleGliaWRhITwvc3Ryb25nPjxiciAvPlBhcmEgdm9jXHhFQSBmaWNhciB2aXNceEVEdmVsIGFvcyBzZXVzIGNsaWVudGVzLCBceEU5IG5lY2Vzc1x4RTFyaW8gcXVlIHByZWVuY2hhIHVtIG5ceEZBbWVybyBkZSBkb2N1bWVudG8gdlx4RTFsaWRvIGRvIHNldSBuZWdceEYzY2lvIG91IGRvIHJlc3BvbnNceEUxdmVsIGxlZ2FsLlxuICAgICAgICAiLAogICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmQxYzQnLAogICAgICAgICAgICAgICAgICBhY3RpdmU6IHRydWUsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgIHRleHRfYWxpZ25fbGVmdDogdHJ1ZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU2VydmljZS52YWxpZGF0ZVRva2VuU2VsbGVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGVydGluaG8nKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xvZ2dlZFVzZXInKTsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ2xvZ2luJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGluZm9BbGVydE5vRG9jdW1lbnQoKSB7CiAgICAgICAgcmV0dXJuIF9pbmZvQWxlcnROb0RvY3VtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpbmZvQWxlcnROb0RvY3VtZW50OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaW5mb0FsZXJ0Tm9DYXRlZ29yeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2luZm9BbGVydE5vQ2F0ZWdvcnkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkgPSB7CiAgICAgICAgICAgICAgICAgIGljb246IHJlcXVpcmUoJy4vLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uX2Vycm9yLnBuZycpLAogICAgICAgICAgICAgICAgICB0ZXh0OiAiXG4gICAgICAgICAgPHN0cm9uZz5BVEVOXHhDN1x4QzNPOiBTdWEgbG9qYSBuXHhFM28gZXN0XHhFMSBzZW5kbyBleGliaWRhITwvc3Ryb25nPjxiciAvPlBhcmEgdm9jXHhFQSBmaWNhciB2aXNceEVEdmVsIGFvcyBzZXVzIGNsaWVudGVzLCBceEU5IG5lY2Vzc1x4RTFyaW8gcXVlIHByZWVuY2hhIHVtYSBjYXRlZ29yaWEsIHVtYSBzdWJjYXRlZ29yaWEgZSB1bWEgZGVzY3JpXHhFN1x4RTNvIHBhcmEgbyBzZXUgbmVnXHhGM2Npby5cbiAgICAgICAgIiwKICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZkMWM0JywKICAgICAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICB0ZXh0X2FsaWduX2xlZnQ6IHRydWUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclNlcnZpY2UudmFsaWRhdGVUb2tlblNlbGxlcigpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Ni5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3BlcnRpbmhvJyk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2dnZWRVc2VyJyk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdsb2dpbicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBpbmZvQWxlcnROb0NhdGVnb3J5KCkgewogICAgICAgIHJldHVybiBfaW5mb0FsZXJ0Tm9DYXRlZ29yeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gaW5mb0FsZXJ0Tm9DYXRlZ29yeTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImluZm9BbGVydE5vQWRyZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaW5mb0FsZXJ0Tm9BZHJlc3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkgPSB7CiAgICAgICAgICAgICAgICAgIGljb246IHJlcXVpcmUoJy4vLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uX2Vycm9yLnBuZycpLAogICAgICAgICAgICAgICAgICB0ZXh0OiAiXG4gICAgICAgICAgPHN0cm9uZz5BVEVOXHhDN1x4QzNPOiBTdWEgbG9qYSBuXHhFM28gZXN0XHhFMSBzZW5kbyBleGliaWRhITwvc3Ryb25nPjxici8+UGFyYSB2b2NceEVBIGZpY2FyIHZpc1x4RUR2ZWwgYW9zIHNldXMgY2xpZW50ZXMsIFx4RTkgbmVjZXNzXHhFMXJpbyBxdWUgcHJlZW5jaGEgbyBlbmRlcmVceEU3byBkbyBzZXUgbmVnXHhGM2NpbyBlIG8gcmFpbyBkZSBhdGVuZGltZW50by5cbiAgICAgICAgIiwKICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZkMWM0JywKICAgICAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICB0ZXh0X2FsaWduX2xlZnQ6IHRydWUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclNlcnZpY2UudmFsaWRhdGVUb2tlblNlbGxlcigpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Ny5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3BlcnRpbmhvJyk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2dnZWRVc2VyJyk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdsb2dpbicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBpbmZvQWxlcnROb0FkcmVzcygpIHsKICAgICAgICByZXR1cm4gX2luZm9BbGVydE5vQWRyZXNzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpbmZvQWxlcnROb0FkcmVzczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImluaXRNYXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRNYXAoKSB7CiAgICAgIHZhciBsb2dnZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9nZ2VkVXNlcicpOwogICAgICB0aGlzLmxvZ2dlZFVzZXIgPSBKU09OLnBhcnNlKGxvZ2dlZCk7CgogICAgICBpZiAodGhpcy5sb2dnZWRVc2VyLmFkZHJlc3MpIHsKICAgICAgICB0aGlzLm1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7CiAgICAgICAgICB6b29tOiAxMywKICAgICAgICAgIGNlbnRlcjogewogICAgICAgICAgICBsYXQ6IHBhcnNlRmxvYXQodGhpcy5sb2dnZWRVc2VyLmFkZHJlc3MubGF0KSwKICAgICAgICAgICAgbG5nOiBwYXJzZUZsb2F0KHRoaXMubG9nZ2VkVXNlci5hZGRyZXNzLmxuZykKICAgICAgICAgIH0sCiAgICAgICAgICBwYW5Db250cm9sOiB0cnVlLAogICAgICAgICAgem9vbUNvbnRyb2w6IHRydWUsCiAgICAgICAgICBtYXBUeXBlQ29udHJvbDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiYXV0b2NvbXBsZXRlSW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXV0b2NvbXBsZXRlSW5pdCgpIHsKICAgICAgdmFyICRjdHJsID0gdGhpczsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgY29tcG9uZW50UmVzdHJpY3Rpb25zOiB7CiAgICAgICAgICBjb3VudHJ5OiAiYnIiCiAgICAgICAgfSwKICAgICAgICBsYW5ndWFnZTogWyJwdC1CUiJdLAogICAgICAgIGZpZWxkczogWyJhZGRyZXNzX2NvbXBvbmVudHMiLCAiZ2VvbWV0cnkiLCAiZm9ybWF0dGVkX2FkZHJlc3MiXQogICAgICB9OwogICAgICAvKioKICAgICAgICogaW5wdXQgYXV0byBjb21wbGV0ZSBhZGRyZXNzCiAgICAgICAqLwoKICAgICAgdGhpcy5hdXRvQ29tcGxldGVBZGRyZXNzID0gbmV3IGdvb2dsZS5tYXBzLnBsYWNlcy5BdXRvY29tcGxldGUodGhpcy4kcmVmcy5hdXRvQ29tcGxldGVBZGRyZXNzLCBvcHRpb25zKTsKICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5hdXRvQ29tcGxldGVBZGRyZXNzLCAicGxhY2VfY2hhbmdlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAkY3RybC5nb29nbGVBcGlSZXR1cm4gPSAkY3RybC5hdXRvQ29tcGxldGVBZGRyZXNzLmdldFBsYWNlKCk7CiAgICAgICAgJGN0cmwubnVtZXJvID0gJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmFkZHJlc3NfY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVzWzBdID09PSAnc3RyZWV0X251bWJlcic7CiAgICAgICAgfSkubGVuZ3RoID4gMCA/ICRjdHJsLmdvb2dsZUFwaVJldHVybi5hZGRyZXNzX2NvbXBvbmVudHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geC50eXBlc1swXSA9PT0gJ3N0cmVldF9udW1iZXInOwogICAgICAgIH0pWzBdLmxvbmdfbmFtZSA6ICcnOwogICAgICAgICRjdHJsLmNlcCA9ICRjdHJsLmdvb2dsZUFwaVJldHVybi5hZGRyZXNzX2NvbXBvbmVudHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geC50eXBlc1swXSA9PT0gJ3Bvc3RhbF9jb2RlJzsKICAgICAgICB9KS5sZW5ndGggPiAwID8gJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmFkZHJlc3NfY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVzWzBdID09PSAncG9zdGFsX2NvZGUnOwogICAgICAgIH0pWzBdLmxvbmdfbmFtZSA6ICcnOwogICAgICAgICRjdHJsLmZvY3VzZWQuZWRpdENlcCA9IHRydWU7CiAgICAgICAgJGN0cmwubG9ncmFkb3VybyA9ICRjdHJsLmdvb2dsZUFwaVJldHVybi5hZGRyZXNzX2NvbXBvbmVudHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geC50eXBlc1swXSA9PT0gJ3JvdXRlJzsKICAgICAgICB9KS5sZW5ndGggPiAwID8gJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmFkZHJlc3NfY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVzWzBdID09PSAncm91dGUnOwogICAgICAgIH0pWzBdLmxvbmdfbmFtZSA6ICcnOwogICAgICAgICRjdHJsLmNpZGFkZSA9ICRjdHJsLmdvb2dsZUFwaVJldHVybi5hZGRyZXNzX2NvbXBvbmVudHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geC50eXBlc1swXSA9PT0gJ2FkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMic7CiAgICAgICAgfSkubGVuZ3RoID4gMCA/ICRjdHJsLmdvb2dsZUFwaVJldHVybi5hZGRyZXNzX2NvbXBvbmVudHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geC50eXBlc1swXSA9PT0gJ2FkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMic7CiAgICAgICAgfSlbMF0ubG9uZ19uYW1lIDogJyc7CiAgICAgICAgJGN0cmwuYmFpcnJvID0gJGN0cmwuZ29vZ2xlQXBpUmV0dXJuLmFkZHJlc3NfY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVzWzBdID09PSAnc3VibG9jYWxpdHlfbGV2ZWxfMSc7CiAgICAgICAgfSkubGVuZ3RoID4gMCA/ICRjdHJsLmdvb2dsZUFwaVJldHVybi5hZGRyZXNzX2NvbXBvbmVudHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geC50eXBlc1swXSA9PT0gJ3N1YmxvY2FsaXR5X2xldmVsXzEnOwogICAgICAgIH0pWzBdLmxvbmdfbmFtZSA6ICcnOwogICAgICAgICRjdHJsLmFkZHJlc3MgPSAkY3RybC5nb29nbGVBcGlSZXR1cm4uZm9ybWF0dGVkX2FkZHJlc3M7CiAgICAgICAgdmFyIGxvY2F0aW9uID0gewogICAgICAgICAgbGF0OiAkY3RybC5nb29nbGVBcGlSZXR1cm4uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCksCiAgICAgICAgICBsbmc6ICRjdHJsLmdvb2dsZUFwaVJldHVybi5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKQogICAgICAgIH07CiAgICAgICAgJGN0cmwubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHsKICAgICAgICAgIHpvb206IDEzLAogICAgICAgICAgY2VudGVyOiBsb2NhdGlvbiwKICAgICAgICAgIHBhbkNvbnRyb2w6IHRydWUsCiAgICAgICAgICB6b29tQ29udHJvbDogdHJ1ZSwKICAgICAgICAgIG1hcFR5cGVDb250cm9sOiB0cnVlLAogICAgICAgICAgc2NhbGVDb250cm9sOiBmYWxzZSwKICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiBmYWxzZSwKICAgICAgICAgIG92ZXJ2aWV3TWFwQ29udHJvbDogdHJ1ZSwKICAgICAgICAgIHJvdGF0ZUNvbnRyb2w6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgICAgbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7CiAgICAgICAgICBwb3NpdGlvbjogbG9jYXRpb24sCiAgICAgICAgICBjZW50ZXI6IGxvY2F0aW9uLAogICAgICAgICAgbWFwOiAkY3RybC5tYXAsCiAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLAogICAgICAgICAgaWNvbjogewogICAgICAgICAgICB1cmw6IHJlcXVpcmUoJy4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbi1wbGFjZS5wbmcnKSwKICAgICAgICAgICAgc2l6ZTogbmV3IGdvb2dsZS5tYXBzLlNpemUoMjgsIDQwKSwKICAgICAgICAgICAgb3JpZ2luOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMCwgMCksCiAgICAgICAgICAgIGFuY2hvcjogbmV3IGdvb2dsZS5tYXBzLlBvaW50KDE4LCAxOCksCiAgICAgICAgICAgIHNjYWxlZFNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDI4LCA0MCkKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAkY3RybC5sYXQgPSBsb2NhdGlvbi5sYXQ7CiAgICAgICAgJGN0cmwubG5nID0gbG9jYXRpb24ubG5nOwogICAgICAgICRjdHJsLnBsb3RDaXJjbGUobG9jYXRpb24ubGF0LCBsb2NhdGlvbi5sbmcpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwbG90Q2lyY2xlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwbG90Q2lyY2xlKGxhdCwgbG5nKSB7CiAgICAgIHRoaXMucmVtb3ZlQWxsY2lyY2xlcygpOwogICAgICB2YXIgY2lyY3VsbyA9IG5ldyBnb29nbGUubWFwcy5DaXJjbGUoewogICAgICAgIG1hcDogdGhpcy5tYXAsCiAgICAgICAgY2VudGVyOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG5nKSwKICAgICAgICByYWRpdXM6IHRoaXMucmFuZ2VWYWx1ZSAqIDEwMDAsCiAgICAgICAgc3Ryb2tlQ29sb3I6ICcjMDBiMGQwJywKICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjgsCiAgICAgICAgc3Ryb2tlV2VpZ2h0OiAxLAogICAgICAgIGZpbGxDb2xvcjogJyMwMGIwZDAnLAogICAgICAgIGZpbGxPcGFjaXR5OiAwLjM1CiAgICAgIH0pOwogICAgICB0aGlzLmNpcmNsZXMucHVzaChjaXJjdWxvKTsKICAgICAgdmFyIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTsKICAgICAgYm91bmRzLnVuaW9uKGNpcmN1bG8uZ2V0Qm91bmRzKCkpOwogICAgICB0aGlzLm1hcC5maXRCb3VuZHMoYm91bmRzLCAxKTsKICAgICAgdGhpcy5tYXAuc2V0Q2VudGVyKHsKICAgICAgICBsYXQ6IGxhdCwKICAgICAgICBsbmc6IGxuZwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZW9jb2RlQWRkcmVzcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VvY29kZUFkZHJlc3MoYWRkcmVzcykgewogICAgICB2YXIgJGN0cmwgPSB0aGlzOwogICAgICB2YXIgZ2VvY29kZXIgPSBuZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTsKICAgICAgZ2VvY29kZXIuZ2VvY29kZSh7CiAgICAgICAgYWRkcmVzczogYWRkcmVzcwogICAgICB9LCBmdW5jdGlvbiAocmVzdWx0cywgc3RhdHVzKSB7CiAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ09LJykgewogICAgICAgICAgdmFyIGxvY2F0aW9uID0gewogICAgICAgICAgICBsYXQ6IHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCksCiAgICAgICAgICAgIGxuZzogcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKQogICAgICAgICAgfTsKICAgICAgICAgICRjdHJsLmxhdCA9IHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCk7CiAgICAgICAgICAkY3RybC5sbmcgPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpOwogICAgICAgICAgJGN0cmwubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHsKICAgICAgICAgICAgem9vbTogMTMsCiAgICAgICAgICAgIGNlbnRlcjogbG9jYXRpb24sCiAgICAgICAgICAgIHBhbkNvbnRyb2w6IGZhbHNlLAogICAgICAgICAgICB6b29tQ29udHJvbDogZmFsc2UsCiAgICAgICAgICAgIG1hcFR5cGVDb250cm9sOiB0cnVlLAogICAgICAgICAgICBzY2FsZUNvbnRyb2w6IGZhbHNlLAogICAgICAgICAgICBzdHJlZXRWaWV3Q29udHJvbDogZmFsc2UsCiAgICAgICAgICAgIG92ZXJ2aWV3TWFwQ29udHJvbDogZmFsc2UsCiAgICAgICAgICAgIHJvdGF0ZUNvbnRyb2w6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHsKICAgICAgICAgICAgcG9zaXRpb246IGxvY2F0aW9uLAogICAgICAgICAgICBjZW50ZXI6IGxvY2F0aW9uLAogICAgICAgICAgICBtYXA6ICRjdHJsLm1hcCwKICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSwKICAgICAgICAgICAgaWNvbjogewogICAgICAgICAgICAgIHVybDogcmVxdWlyZSgnLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uLXBsYWNlLnBuZycpLAogICAgICAgICAgICAgIHNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDI4LCA0MCksCiAgICAgICAgICAgICAgb3JpZ2luOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMCwgMCksCiAgICAgICAgICAgICAgYW5jaG9yOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMTgsIDE4KSwKICAgICAgICAgICAgICBzY2FsZWRTaXplOiBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSgyOCwgNDApCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgJGN0cmwucGxvdENpcmNsZShyZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpLCByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZUFsbGNpcmNsZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUFsbGNpcmNsZXMoKSB7CiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpmb3JpbgogICAgICBmb3IgKHZhciBpIGluIHRoaXMuY2lyY2xlcykgewogICAgICAgIHRoaXMuY2lyY2xlc1tpXS5zZXRNYXAobnVsbCk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2lyY2xlcyA9IFtdOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFJlZ2lvbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFJlZ2lvbnMoZGF0YSkgewogICAgICB2YXIgX3RoaXMkcmVnaW9uczsKCiAgICAgIChfdGhpcyRyZWdpb25zID0gdGhpcy5yZWdpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRyZWdpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRyZWdpb25zLnB1c2goZGF0YSk7CiAgICAgIHRoaXMucmVnaW9uID0gJyc7CiAgICB9CiAgfSwgewogICAga2V5OiAiZm9ybUNhbmNlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybUNhbmNlbCgpIHsKICAgICAgdmFyIF93aW5kb3ckZXZlbnQzOwoKICAgICAgKF93aW5kb3ckZXZlbnQzID0gd2luZG93LmV2ZW50KSA9PT0gbnVsbCB8fCBfd2luZG93JGV2ZW50MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvdyRldmVudDMucHJldmVudERlZmF1bHQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaWx0ZXJDYXRlZ29yaWVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJDYXRlZ29yaWVzKCkgewogICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKHRoaXMuY2F0ZWdvcnksICdnaScpOwogICAgICByZXR1cm4gdGhpcy5jb21ib0NhdGVnb3JpZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLnNlYXJjaChyZSkgPiAtMTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xlYXJTZWxlY3RlZENhdGVnb3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclNlbGVjdGVkQ2F0ZWdvcnkoKSB7CiAgICAgIHRoaXMuZmlsdGVyQ2F0ZWdvcmllcygpLm1hcChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGRhdGEgPSAnJzsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0Q2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldENhdGVnb3J5KGNhdGVnb3J5KSB7CiAgICAgIHRoaXMuY2xlYXJTZWxlY3RlZENhdGVnb3J5KCk7CiAgICAgIHRoaXMuYXV0b0NvbXBsZXRlQ2F0ZWdvcnlPcGVuID0gZmFsc2U7CiAgICAgIHRoaXMuZm9jdXNlZC5lZGl0Q2F0ZWdvcnkgPSB0cnVlOwoKICAgICAgaWYgKHRoaXMuY2F0ZWdvcnkpIHsKICAgICAgICB0aGlzLnN1YmNhdGVnb3J5ID0gJyc7CiAgICAgICAgdGhpcy52YWxpZENhdGVnb3J5ID0gdHJ1ZTsKICAgICAgICB0aGlzLmNsZWFyU3ViY2F0ZWdvcnkoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNldFNpemUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNpemUoc2VsZWN0ZWQpIHsKICAgICAgdmFyIHNlbGVjdGVkX3NlbGxlciA9IHNlbGVjdGVkLnRhcmdldDsKICAgICAgdGhpcy5zaXplID0gc2VsZWN0ZWRfc2VsbGVyLnZhbHVlOwogICAgfQogIH0sIHsKICAgIGtleTogImdldENob2ljZXNTZWxsZXJTaXplIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDaG9pY2VzU2VsbGVyU2l6ZSgpIHsKICAgICAgdmFyIGhlYWRlcnMgPSB7CiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBlbnZpcm9ubWVudC5zZXRBdXRob3JpemF0aW9uVG9rZW4oKSwKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJzogJ0NvbnRlbnQtVHlwZScKICAgICAgfTsKICAgICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICAgIGhlYWRlcnM6IGhlYWRlcnMKICAgICAgfTsgLy8gY29uc29sZS5sb2coImZldGNoaGhoaCByZXRvcm5vIiwgZmV0Y2goYCR7ZW52aXJvbm1lbnQuc2V0QVBJKCl9L2Nob2ljZXMvc2VsbGVyc2l6ZS9gLCByZXF1ZXN0T3B0aW9ucykpCgogICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KGVudmlyb25tZW50LnNldEFQSSgpLCAiL2Nob2ljZXMvc2VsbGVyc2l6ZS8iKSwgcmVxdWVzdE9wdGlvbnMpOwogICAgfQogIH0sIHsKICAgIGtleTogInByb2Nlc3NDaG9pY2VzU2VsbGVyU2l6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Byb2Nlc3NDaG9pY2VzU2VsbGVyU2l6ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgICB2YXIgcmVzcG9uc2UsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENob2ljZXNTZWxsZXJTaXplKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDgudDAgPSByZXNwb25zZS5zdGF0dXM7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IF9jb250ZXh0OC50MCA9PT0gMjAwID8gNiA6IF9jb250ZXh0OC50MCA9PT0gMjAxID8gNiA6IF9jb250ZXh0OC50MCA9PT0gMjAyID8gNiA6IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIGRhdGEubWFwKGZ1bmN0aW9uIChzZWxsZXIpIHsKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTAuc2l6ZXMpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEwLnNpemVzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgaWQ6IHNlbGxlclswXSwKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAiIi5jb25jYXQoc2VsbGVyWzFdKSwKICAgICAgICAgICAgICAgICAgICAgIHNpZ2xhOiAiIi5jb25jYXQoc2VsbGVyWzBdKSwKICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJicmVhayIsIDExKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHByb2Nlc3NDaG9pY2VzU2VsbGVyU2l6ZSgpIHsKICAgICAgICByZXR1cm4gX3Byb2Nlc3NDaG9pY2VzU2VsbGVyU2l6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcHJvY2Vzc0Nob2ljZXNTZWxsZXJTaXplOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZGVsZXRlUmVnaW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVSZWdpb24oZGF0YSkgewogICAgICB0aGlzLnJlZ2lvbnMgPSBkYXRhOwogICAgfQogIH0sIHsKICAgIGtleTogImlzQ29tcGxlbWVudG9WYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDb21wbGVtZW50b1ZhbGlkKCkgewogICAgICB0aGlzLnZhbGlkQ29tcGxlbWVudG8gPSB0aGlzLmNvbXBsZW1lbnRvID09PSAnJyA/IGZhbHNlIDogdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0Rlc2NyaWNhb1ZhbGlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0Rlc2NyaWNhb1ZhbGlkKCkgewogICAgICB0aGlzLnZhbGlkRGVzY3JpY2FvID0gdGhpcy5kZXNjcmljYW8gPT09ICcnID8gZmFsc2UgOiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzTnVtZXJvVmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzTnVtZXJvVmFsaWQoKSB7CiAgICAgIHRoaXMudmFsaWROdW1lcm8gPSB0aGlzLm51bWVybyA9PT0gJycgPyBmYWxzZSA6IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNBYm91dFZhbGlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0Fib3V0VmFsaWQoKSB7CiAgICAgIHRoaXMudmFsaWRBYm91dCA9IHRoaXMuYWJvdXQgPT09ICcnID8gZmFsc2UgOiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogInNob3dTdWNjZXNzZnVsbE5vdGlmaWNhdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1N1Y2Nlc3NmdWxsTm90aWZpY2F0aW9uKCkgewogICAgICB0aGlzLiRmaXJlKHsKICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgdGl0bGU6ICdBbHRlcmHDp8O1ZXMgc2FsdmFzIGNvbSBzdWNlc3NvJywKICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICBwb3NpdGlvbjogJ3RvcCcsCiAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlLAogICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICB0aW1lcjogMzAwMAogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaG93RXJyb3JOb3RpZmljYXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zaG93RXJyb3JOb3RpZmljYXRpb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KHRleHQpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuJGZpcmUoewogICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICB0aXRsZTogdGV4dCB8fCAnRXJybyBhbyBlZmV0dWFyIGFsdGVyYcOnw6NvIScsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0aW1lcjogNDAwMCwKICAgICAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclNlcnZpY2UudmFsaWRhdGVUb2tlblNlbGxlcigpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0OS5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3BlcnRpbmhvJyk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2dnZWRVc2VyJyk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdsb2dpbicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTksIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzaG93RXJyb3JOb3RpZmljYXRpb24oX3gyKSB7CiAgICAgICAgcmV0dXJuIF9zaG93RXJyb3JOb3RpZmljYXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNob3dFcnJvck5vdGlmaWNhdGlvbjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInNob3dOb3RpZmljYXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dOb3RpZmljYXRpb24oZGF0YSkgewogICAgICB0aGlzLm5vdGlmeSA9IGRhdGE7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UmFuZ2VWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmFuZ2VWYWx1ZSgpIHsKICAgICAgdmFyIHJhbmdlID0gdGhpcy4kcmVmcy5zbGlkZXI7CiAgICAgIHRoaXMucGxvdENpcmNsZSh0aGlzLmxhdCwgdGhpcy5sbmcpOwogICAgfQogIH0sIHsKICAgIGtleTogImluZm9BbGVydFZlbmRlZG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaW5mb0FsZXJ0VmVuZGVkb3IgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSA9IHsKICAgICAgICAgICAgICAgICAgaWNvbjogcmVxdWlyZSgnLi8uLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2ljb25fZXJyb3IucG5nJyksCiAgICAgICAgICAgICAgICAgIHRleHQ6ICJcbiAgICAgICAgICA8c3Ryb25nPkF0ZW5ceEU3XHhFM28hPC9zdHJvbmc+PGJyIC8+T3MgY2FtcG9zIFwiTm9tZVwiLCBcIkUtbWFpbFwiLCBcIlRlbGVmb25lXCIgZSBcIkRvY3VtZW50b1wiIG5ceEUzbyBzXHhFM28gZWRpdFx4RTF2ZWlzLiBDYXNvIHNlamEgbmVjZXNzXHhFMXJpYSBhbHRlcmFceEU3XHhFM28sIHBvciBnZW50aWxlemEgZW52aWFyIGUtbWFpbCBwYXJhIDxhIHN0eWxlPVwiY29sb3I6IGJsYWNrOyB0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO1wiIGhyZWY9XCJtYWlsdG86Y29udGF0b0BwZXJ0aW5ob2RlY2FzYS5jb20uYnJcIiB0YXJnZXQ9XCJfYmxhbmtcIj5jb250YXRvQHBlcnRpbmhvZGVjYXNhLmNvbS5ici48L2E+XG4gICAgICAgICIsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2MzZTRlNycsCiAgICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclNlcnZpY2UudmFsaWRhdGVUb2tlblNlbGxlcigpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTAuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwZXJ0aW5obycpOwogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9nZ2VkVXNlcicpOwogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnbG9naW4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBpbmZvQWxlcnRWZW5kZWRvcigpIHsKICAgICAgICByZXR1cm4gX2luZm9BbGVydFZlbmRlZG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpbmZvQWxlcnRWZW5kZWRvcjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInVwbG9hZExvZ28iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwbG9hZExvZ28oKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHRoaXMuJGVtaXQoJ2xvYWRpbmcnLCB0cnVlKTsKICAgICAgdGhpcy51c2VyU2VydmljZS51cGxvYWRsb2dvKHRoaXMubG9nZ2VkVXNlci5zbHVnLCB0aGlzLmRlc3RpbmF0aW9uKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgaWYgKCFkYXRhLm9rKSB7CiAgICAgICAgICBfdGhpczExLnNob3dFcnJvck5vdGlmaWNhdGlvbigpOwoKICAgICAgICAgIF90aGlzMTEuJGVtaXQoJ2xvYWRpbmcnLCBmYWxzZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMTEuc2hvd1N1Y2Nlc3NmdWxsTm90aWZpY2F0aW9uKCk7CgogICAgICAgICAgX3RoaXMxMS4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEltYWdlVG9Dcm9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbWFnZVRvQ3JvcChldmVudCkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0LmZpbGVzLmxlbmd0aCAmJiBldmVudC50YXJnZXQuZmlsZXNbMF0uc2l6ZSAvIDEwMDAwMDAgPCAxMCkgewogICAgICAgIHZhciBpbWFnZUZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07IC8vIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgLy8gcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW1hZ2VGaWxlKTsKICAgICAgICAvLyByZWFkZXIub25sb2FkID0gKGU6IGFueSkgPT4gewogICAgICAgIC8vICAgICB0aGlzLmltYWdlVG9Dcm9wID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgIC8vICAgICB0aGlzLnVwZGF0ZUxvZ28oKTsKICAgICAgICAvLyB9OwoKICAgICAgICB0aGlzLmltYWdlVG9Dcm9wID0gaW1hZ2VGaWxlOwogICAgICAgIHRoaXMudXBkYXRlTG9nbygpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZXN0cm95Q3JvcHBlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveUNyb3BwZXIoKSB7CiAgICAgIHRoaXMuY3JvcHBlci5kZXN0cm95KCk7CiAgICAgIHRoaXMuc2hvd0Nyb3BwZXIgPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzYXZlQ3JvcHBlZEltYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlQ3JvcHBlZEltYWdlKCkgewogICAgICB0aGlzLmRlc3Ryb3lDcm9wcGVyKCk7CiAgICAgIHRoaXMudXBsb2FkTG9nbygpOwogICAgICB0aGlzLnNob3dDcm9wcGVyID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlTG9nbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwZGF0ZUxvZ28gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICAgIHZhciBjb21wcmVzc29yOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIHRydWUpOwogICAgICAgICAgICAgICAgY29tcHJlc3NvciA9IG5ldyBDb21wcmVzc29yKHRoaXMuaW1hZ2VUb0Nyb3AsIHsKICAgICAgICAgICAgICAgICAgcXVhbGl0eTogMC41LAogICAgICAgICAgICAgICAgICB3aWR0aDogMTI1MCwKICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMjUwLAogICAgICAgICAgICAgICAgICBjb252ZXJ0U2l6ZTogMCwKICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhpbWFnZUNvbXByZXNzZWQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlQ29tcHJlc3NlZC5zaXplIC8gMTAwMDAwMCA8IDYpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuaW1hZ2VUb0Nyb3AgPSBpbWFnZUNvbXByZXNzZWQ7CiAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZUNvbXByZXNzZWQpOwoKICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmltYWdlVG9Dcm9wID0gZS50YXJnZXQucmVzdWx0OwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuZGVzdGluYXRpb24gPSBlLnRhcmdldC5yZXN1bHQ7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmNyb3BJbml0KCk7CiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBhbGVydCgiUmVkdXphIG8gdGFtYW5obyBkZSBpbWFnZW0gZSB0ZW50ZSBub3ZhbWVudGUuIik7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3IgY29tcHJpbWluZG8gaW1hZ2VtIiwgZXJyLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVMb2dvKCkgewogICAgICAgIHJldHVybiBfdXBkYXRlTG9nby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXBkYXRlTG9nbzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNyb3BJbml0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcm9wSW5pdCgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgdGhpcy5pbWFnZSA9IHRoaXMuJHJlZnMuaW1hZ2U7CgogICAgICB0cnkgewogICAgICAgIHRoaXMuc2hvd0Nyb3BwZXIgPSB0cnVlOwogICAgICAgIHRoaXMuY3JvcHBlciA9IG5ldyBDcm9wcGVyKHRoaXMuaW1hZ2UsIHsKICAgICAgICAgIGd1aWRlczogdHJ1ZSwKICAgICAgICAgIHpvb21hYmxlOiB0cnVlLAogICAgICAgICAgZHJhZ01vZGU6ICdtb3ZlJywKICAgICAgICAgIHNjYWxhYmxlOiB0cnVlLAogICAgICAgICAgY2VudGVyOiB0cnVlLAogICAgICAgICAgYXV0b0Nyb3BBcmVhOiAwLjY1LAogICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgICAgIHJlc3RvcmU6IGZhbHNlLAogICAgICAgICAgY3JvcEJveE1vdmFibGU6IGZhbHNlLAogICAgICAgICAgY3JvcEJveFJlc2l6YWJsZTogZmFsc2UsCiAgICAgICAgICB3aGVlbFpvb21SYXRpbzogMC4xLAogICAgICAgICAgYXNwZWN0UmF0aW86IDEgLyAxLAogICAgICAgICAgaW5pdGlhbEFzcGVjdFJhdGlvOiAxIC8gMSwKICAgICAgICAgIG1vZGFsOiB0cnVlLAogICAgICAgICAgem9vbU9uV2hlZWw6IGZhbHNlLAogICAgICAgICAgcmVhZHk6IGZ1bmN0aW9uIHJlYWR5KF9yZWFkeSkgewogICAgICAgICAgICB2YXIgY2FudmFzID0gX3RoaXMxMy5jcm9wcGVyLmdldENyb3BwZWRDYW52YXMoewogICAgICAgICAgICAgIGltYWdlU21vb3RoaW5nUXVhbGl0eTogJ2hpZ2gnLAogICAgICAgICAgICAgIG1heFdpZHRoOiA0MDAsCiAgICAgICAgICAgICAgbWF4SGVpZ2h0OiA0MDAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczEzLmRlc3RpbmF0aW9uID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7CiAgICAgICAgICAgIF90aGlzMTMubG9nb0lucHV0ID0gX3RoaXMxMy5kZXN0aW5hdGlvbjsKICAgICAgICAgIH0sCiAgICAgICAgICBjcm9wOiBmdW5jdGlvbiBjcm9wKCkgewogICAgICAgICAgICB2YXIgY2FudmFzID0gX3RoaXMxMy5jcm9wcGVyLmdldENyb3BwZWRDYW52YXMoewogICAgICAgICAgICAgIGltYWdlU21vb3RoaW5nUXVhbGl0eTogJ2hpZ2gnLAogICAgICAgICAgICAgIG1heFdpZHRoOiA0MDAsCiAgICAgICAgICAgICAgbWF4SGVpZ2h0OiA0MDAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczEzLmRlc3RpbmF0aW9uID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7CiAgICAgICAgICAgIF90aGlzMTMubG9nb0lucHV0ID0gX3RoaXMxMy5kZXN0aW5hdGlvbjsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNyb3BwZXJab29tIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcm9wcGVyWm9vbSh2YWx1ZSkgewogICAgICB0aGlzLmNyb3BwZXIuem9vbSh2YWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JvcHBlclJvdGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JvcHBlclJvdGF0ZSh2YWx1ZSkgewogICAgICB0aGlzLmNyb3BwZXIucm90YXRlKHZhbHVlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2ZXJpZmljYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZlcmlmaWNhcih0eXBlKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIGlmICh0eXBlID09PSAnZmFjZWJvb2snKSB7CiAgICAgICAgdmFyIHJlcXVlc3QgPSByZXF1aXJlKCdyZXF1ZXN0Jyk7CgogICAgICAgIHJlcXVlc3QuZ2V0KHsKICAgICAgICAgIGVuY29kaW5nOiAndXRmLTgnLAogICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgIHVyaTogImh0dHA6Ly9ncmFwaC5mYWNlYm9vay5jb20vIi5jb25jYXQodGhpcy5mYWNlYm9vayksCiAgICAgICAgICBmb2xsb3dSZWRpcmVjdDogZmFsc2UKICAgICAgICB9LCBmdW5jdGlvbiAoZXJyLCByZXMsIGJvZHkpIHsKICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYm9keScsIGJvZHkpOwogICAgICAgIH0pOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGJvZHkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYm9keScpOwogICAgICAgICAgX3RoaXMxNC50ZXN0ZSA9IEpTT04ucGFyc2UoYm9keSk7CgogICAgICAgICAgaWYgKF90aGlzMTQudGVzdGUuZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncmVxdWVzdGVkIGRvIG5vdCBleGlzdCcpKSB7CiAgICAgICAgICAgIF90aGlzMTQuZmFjZWJvb2tVc2VyID0gJ1ZlcmlmaXF1ZSBzZXUgdXN1w6FyaW8gZG8gRmFjZWJvb2snOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmFjZWJvb2snLCAnZmFsc2UnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMTQuZmFjZWJvb2tVc2VyID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdib2R5Jyk7CiAgICAgICAgfSwgNjAwKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGUgPT09ICdpbnN0YWdyYW0nKSB7CiAgICAgICAgZmV0Y2goImh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vIi5jb25jYXQodGhpcy5pbnN0YWdyYW0sICIvP19fYT0xIikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMxNC5pbnN0YWdyYW1Vc2VyID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczE0Lmluc3RhZ3JhbVVzZXIgPSAnVmVyaWZpcXVlIHNldSB1c3XDoXJpbyBkbyBJbnN0YWdyYW0nOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaW5zdGFncmFtJywgJ2ZhbHNlJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaWx0ZXJJbnN0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVySW5zdGEoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHRoaXMudXNlcnNuYW1lID0gW107CiAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgIH07CiAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS93ZWIvc2VhcmNoL3RvcHNlYXJjaC8/cXVlcnk9Ii5jb25jYXQodGhpcy5pbnN0YWdyYW0pLCByZXF1ZXN0T3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICAgIHZhciBkYXRhID0gdGV4dCAmJiBKU09OLnBhcnNlKHRleHQpOwogICAgICAgICAgZGF0YS51c2Vycy5mb3JFYWNoKGZ1bmN0aW9uICh1c2VycykgewogICAgICAgICAgICBfdGhpczE1LnNldFVzZXIodXNlcnMpOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0VXNlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXNlcihkYXRhKSB7CiAgICAgIHZhciBfdGhpcyR1c2VyczsKCiAgICAgIChfdGhpcyR1c2VycyA9IHRoaXMudXNlcnMpID09PSBudWxsIHx8IF90aGlzJHVzZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR1c2Vycy5wdXNoKGRhdGEudXNlcik7CiAgICAgIHRoaXMudXNlciA9ICcnOwogICAgICB2YXIgaSA9IHsKICAgICAgICBuYW1lOiBkYXRhLnVzZXIudXNlcm5hbWUsCiAgICAgICAgdmFsdWU6IGRhdGEudXNlci5mdWxsX25hbWUsCiAgICAgICAgaW1nOiBkYXRhLnVzZXIucHJvZmlsZV9waWNfdXJsLAogICAgICAgIHNlbGVjdGVkOiBmYWxzZQogICAgICB9OwogICAgICB0aGlzLnVzZXJzbmFtZS5wdXNoKGkpOwogICAgICB0aGlzLnVzZXJzbmFtZS5maWx0ZXIoZnVuY3Rpb24gKGVsZW0sIGluZGV4LCBzZWxmKSB7CiAgICAgICAgcmV0dXJuIGluZGV4ID09PSBzZWxmLmluZGV4T2YoZWxlbSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEFsbFVzZXJzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxVc2VycygpIHsKICAgICAgdmFyIHVuID0gW3sKICAgICAgICBuYW1lOiAnICcsCiAgICAgICAgdmFsdWU6ICcgJywKICAgICAgICBpbWc6ICcnCiAgICAgIH1dOwogICAgICByZXR1cm4gdW47CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0SW5zdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEluc3RhKGluc3RhZ3JhbSkgewogICAgICB0aGlzLmNsZWFyU2VsZWN0ZWRJbnN0YSgpOwogICAgICBpbnN0YWdyYW0uc2VsZWN0ZWQgPSB0cnVlOwogICAgICB0aGlzLmluc3RhSW1nID0gaW5zdGFncmFtLmltZzsKICAgICAgdGhpcy51c2VySSA9IGluc3RhZ3JhbS52YWx1ZTsKICAgICAgdGhpcy51c2VyTmFtZSA9IGluc3RhZ3JhbS5uYW1lOwogICAgICB0aGlzLmF1dG9Db21wbGV0ZUluc3RhT3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnZhbGlkSW5zdGEgPSB0cnVlOwogICAgICB0aGlzLmluc3RhZ3JhbSA9IGluc3RhZ3JhbS5uYW1lOwogICAgfQogIH0sIHsKICAgIGtleTogImlzSW5zdGFWYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNJbnN0YVZhbGlkKCkgewogICAgICB0aGlzLnZhbGlkSW5zdGEgPSB0aGlzLmluc3RhZ3JhbSA/IHRoaXMucmVnLnRlc3QodGhpcy5pbnN0YWdyYW0pID8gdHJ1ZSA6IGZhbHNlIDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xlYXJTZWxlY3RlZEluc3RhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclNlbGVjdGVkSW5zdGEoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHRoaXMuZmlsdGVySW5zdGFncmFtKCkubWFwKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgZGF0YS5zZWxlY3RlZCA9IGZhbHNlOwogICAgICAgIF90aGlzMTYudXNlckkgPSAnJzsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmlsdGVySW5zdGFncmFtIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJJbnN0YWdyYW0oKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHZhciBjID0gW107IC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZQoKICAgICAgYyA9IHRoaXMudXNlcnNuYW1lLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLm5hbWUuc3Vic3RyaW5nKDAsIF90aGlzMTcuaW5zdGFncmFtLmxlbmd0aCkgPT09IF90aGlzMTcuaW5zdGFncmFtLnN1YnN0cmluZygwLCBfdGhpczE3Lmluc3RhZ3JhbS5sZW5ndGgpOwogICAgICB9KTsKCiAgICAgIGlmIChjLmxlbmd0aCA+IDEpIHsKICAgICAgICBjLnJldmVyc2UoKTsKICAgICAgICBjLmZpbHRlcihmdW5jdGlvbiAoZWxlbSwgaW5kZXgsIHNlbGYpIHsKICAgICAgICAgIHJldHVybiBpbmRleCA9PT0gc2VsZi5pbmRleE9mKGVsZW0pOwogICAgICAgIH0pOwoKICAgICAgICB3aGlsZSAoY1swXS5uYW1lID09PSBjW2MubGVuZ3RoIC0gMV0ubmFtZSAmJiBjLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIGMucG9wKCk7CiAgICAgICAgfQogICAgICB9IC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZQoKCiAgICAgIHJldHVybiBjLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLm5hbWUuc3Vic3RyaW5nKDAsIF90aGlzMTcuaW5zdGFncmFtLmxlbmd0aCkgPT09IF90aGlzMTcuaW5zdGFncmFtLnN1YnN0cmluZygwLCBfdGhpczE3Lmluc3RhZ3JhbS5sZW5ndGgpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21ibyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tYm8oKSB7CiAgICAgIHZhciB0ZXN0ZSA9IHRoaXMuY2F0ZWdvcmllcy5sZW5ndGggLSAxOwogICAgICB2YXIgaSA9IDA7CiAgICAgIHZhciBjYXQgPSBbXTsKICAgICAgdmFyIHRlc3RlY2F0ID0gW107CiAgICAgIHZhciBjOwogICAgICB2YXIgc2NhdCA9IFtdOwoKICAgICAgZm9yIChjID0gMDsgYyA8PSB0ZXN0ZTsgYysrKSB7CiAgICAgICAgY2F0W2NdID0gdGhpcy5jYXRlZ29yaWVzW2NdLnZhbHVlLnNwbGl0KCcgLSAnKTsKICAgICAgfQoKICAgICAgZm9yIChjID0gMDsgYyA8IHRlc3RlOyBjKyspIHsKICAgICAgICB0ZXN0ZWNhdFtjXSA9IGNhdFtjXVswXTsKICAgICAgfQoKICAgICAgdGhpcy5jb21ib0NhdGVnb3JpZXNbaV0gPSB0ZXN0ZWNhdFswXTsKCiAgICAgIGZvciAoYyA9IDA7IGMgPD0gdGVzdGU7IGMrKykgewogICAgICAgIGlmICh0aGlzLmNvbWJvQ2F0ZWdvcmllc1tpXSAhPT0gdGVzdGVjYXRbY10pIHsKICAgICAgICAgIHRoaXMuY29tYm9DYXRlZ29yaWVzLnB1c2godGVzdGVjYXRbY10pOwogICAgICAgICAgaSA9IGkgKyAxOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5jb21ib0NhdGVnb3JpZXMucG9wKCk7CiAgICAgIHZhciB0ZXN0ZTIgPSB0aGlzLmNvbWJvQ2F0ZWdvcmllcy5sZW5ndGggLSAxOwoKICAgICAgZm9yIChpID0gMDsgaSA8PSB0ZXN0ZTI7IGkrKykgewogICAgICAgIHNjYXQgPSBbXTsKICAgICAgICB2YXIgaiA9IDA7CgogICAgICAgIGZvciAoYyA9IDA7IGMgPD0gdGVzdGU7IGMrKykgewogICAgICAgICAgaWYgKGNhdFtjXVswXSA9PT0gdGhpcy5jb21ib0NhdGVnb3JpZXNbaV0pIHsKICAgICAgICAgICAgc2NhdFtqXSA9IGNhdFtjXVsxXTsKICAgICAgICAgICAgaisrOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuc3ViY2F0ZWdvcmllc1tpXSA9IHNjYXQ7CiAgICAgICAgICB0aGlzLnN1YmNhdGVnb3JpZXNEYXRhW2ldID0gc2NhdDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuZmlsdGVyQ2F0ZWdvcnkoKTsKICAgICAgdGhpcy5maWx0ZXJTdWJDYXRlZ29yeSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImZpbHRlclN1YkNhdGVnb3JpZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlclN1YkNhdGVnb3JpZXMoKSB7CiAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAodGhpcy5zdWJjYXRlZ29yeSwgJ2dpJyk7CiAgICAgIHZhciBqID0gMDsKICAgICAgdmFyIHN1YmNhdCA9IFtdOwoKICAgICAgaWYgKHRoaXMuY2F0ZWdvcnkgIT09IG51bGwpIHsKICAgICAgICBmb3IgKGo7IGogPCB0aGlzLmNvbWJvQ2F0ZWdvcmllcy5sZW5ndGg7IGorKykgewogICAgICAgICAgaWYgKHRoaXMuY2F0ZWdvcnkgPT09IHRoaXMuY29tYm9DYXRlZ29yaWVzW2pdKSB7CiAgICAgICAgICAgIHN1YmNhdCA9IFtdOwogICAgICAgICAgICBzdWJjYXQgPSB0aGlzLnN1YmNhdGVnb3JpZXNbal07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc3ViY2F0LmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5zZWFyY2gocmUpID4gLTE7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFN1YkNhdGVnb3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTdWJDYXRlZ29yeShzdWJjYXRlZ29yeSkgewogICAgICB2YXIgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YmNhdGVnb3J5Jyk7CiAgICAgIHRoaXMuc3ViY2F0ZWdvcnkgPSBib3gub3B0aW9uc1tib3guc2VsZWN0ZWRJbmRleF0udGV4dDsKICAgICAgdGhpcy5hdXRvQ29tcGxldGVTdWJDYXRlZ29yeU9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy52YWxpZFN1YkNhdGVnb3J5ID0gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaWx0ZXJDYXRlZ29yeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyQ2F0ZWdvcnkoKSB7CiAgICAgIHZhciBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcnknKTsKCiAgICAgIGlmICh0aGlzLmNvbWJvQ2F0ZWdvcmllcyAmJiB0aGlzLmNvbWJvQ2F0ZWdvcmllcy5sZW5ndGgpIHsKICAgICAgICB0aGlzLmNvbWJvQ2F0ZWdvcmllcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICBzZWxlY3Qub3B0aW9uc1tzZWxlY3Qub3B0aW9ucy5sZW5ndGhdID0gbmV3IE9wdGlvbih2YWx1ZS50b1N0cmluZygpKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImZpbHRlclN1YkNhdGVnb3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJTdWJDYXRlZ29yeSgpIHsKICAgICAgdmFyIHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJjYXRlZ29yeScpOwogICAgICB2YXIgaW5kZXggPSB0aGlzLmNvbWJvQ2F0ZWdvcmllcy5pbmRleE9mKHRoaXMuY2F0ZWdvcnksIDApOwoKICAgICAgaWYgKHRoaXMuc3ViY2F0ZWdvcmllc0RhdGFbaW5kZXhdKSB7CiAgICAgICAgdGhpcy5zdWJjYXRlZ29yaWVzRGF0YVtpbmRleF0ubWFwKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgc2VsZWN0Lm9wdGlvbnNbc2VsZWN0Lm9wdGlvbnMubGVuZ3RoXSA9IG5ldyBPcHRpb24odmFsdWUudG9TdHJpbmcoKSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYW5kbGVTdWNjZXNzQ2xvc2VNb2RhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU3VjY2Vzc0Nsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuc2hvd0xvZ29Nb2RhbCA9IGZhbHNlOwogICAgICB0aGlzLnRvYXN0TWVzc2FnZSgnc3VjY2VzcycsICdMb2dvIGF0dWFsaXphZGEgY29tIHN1Y2Vzc28nKTsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQogIH0sIHsKICAgIGtleTogImNsZWFyU3ViY2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyU3ViY2F0ZWdvcnkoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHRoaXMuc3ViY2F0ZWdvcmllcyA9IFtdOwogICAgICB2YXIgY2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3JpZXMuZmluZChmdW5jdGlvbiAoY2F0ZWdvcnkpIHsKICAgICAgICByZXR1cm4gY2F0ZWdvcnkubmFtZSA9PT0gX3RoaXMxOC5jYXRlZ29yeTsKICAgICAgfSk7CgogICAgICBpZiAoY2F0ZWdvcnkpIHsKICAgICAgICB0aGlzLnN1YmNhdGVnb3JpZXMgPSBjYXRlZ29yeS5zdWJjYXRlZ29yaWVzOwogICAgICB9IC8vIGNvbnN0IHNlbGVjdDogSFRNTFNlbGVjdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ViY2F0ZWdvcnknKSBhcyBIVE1MU2VsZWN0RWxlbWVudDsKICAgICAgLy8gZm9yIChsZXQgaSA9IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSAhPT0gMDsgaS0tKSB7CiAgICAgIC8vICAgc2VsZWN0Lm9wdGlvbnMucmVtb3ZlKGkpOwogICAgICAvLyB9CiAgICAgIC8vIHRoaXMuZmlsdGVyU3ViQ2F0ZWdvcnkoKTsKCiAgICB9CiAgfSwgewogICAga2V5OiAib25TZWxlY3RBbGxQYXltZW50c0NoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TZWxlY3RBbGxQYXltZW50c0NoYW5nZShldmVudCkgewogICAgICB0aGlzLnBheW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHBheW1lbnQpIHsKICAgICAgICBwYXltZW50Lm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7CiAgICAgICAgICByZXR1cm4gbWV0aG9kLmFjdGl2ZSA9IGV2ZW50LnRhcmdldC5jaGVja2VkOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcGVuSW5zdGFncmFtQXV0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb3Blbkluc3RhZ3JhbUF1dGgoKSB7CiAgICAgIHdpbmRvdy5vcGVuKGVudmlyb25tZW50LmdldEluc3RhZ3JhbUF1dGhVcmwoKSwgJ19zZWxmJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAib3B0T3V0SW5zdGFncmFtIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfb3B0T3V0SW5zdGFncmFtID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51c2VyU2VydmljZS5vcHRPdXRJbnN0YWdyYW0oKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdGhpcy51c2VyU2VydmljZS5nZXRTb2NpYWxNZWRpYSgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzb2NpYWwpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczE5LnNldFNvY2lhbE1lZGlhKHNvY2lhbCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gb3B0T3V0SW5zdGFncmFtKCkgewogICAgICAgIHJldHVybiBfb3B0T3V0SW5zdGFncmFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBvcHRPdXRJbnN0YWdyYW07CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRJbnN0YWdyYW1Db2RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0SW5zdGFncmFtQ29kZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHZhciBfdGhpczIwID0gdGhpczsKCiAgICAgICAgdmFyIGNvZGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb2RlID0gdGhpcy4kcm91dGUucXVlcnkuY29kZTsKCiAgICAgICAgICAgICAgICBpZiAoIWNvZGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZXJTZXJ2aWNlLmF1dGhvcml6ZUluc3RhZ3JhbShjb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdGhpcy51c2VyU2VydmljZS5nZXRTb2NpYWxNZWRpYSgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzb2NpYWwpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIwLnNldFNvY2lhbE1lZGlhKHNvY2lhbCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0SW5zdGFncmFtQ29kZSgpIHsKICAgICAgICByZXR1cm4gX2dldEluc3RhZ3JhbUNvZGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldEluc3RhZ3JhbUNvZGU7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ0b2FzdE1lc3NhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvYXN0TWVzc2FnZSh0eXBlLCB0aXRsZSkgewogICAgICBWdWVTaW1wbGVBbGVydC5maXJlKHsKICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICBvbk9wZW46IGZ1bmN0aW9uIG9uT3Blbih0b2FzdCkgewogICAgICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIFN3YWwuc3RvcFRpbWVyKSwgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIFN3YWwucmVzdW1lVGltZXIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gZWRpdGFyTWV1TmVnb2NpbzsKfShWdWUpOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgZWRpdGFyTWV1TmVnb2Npby5wcm90b3R5cGUsICJpc0FjdGl2ZSIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICBkZWZhdWx0OiB1bmRlZmluZWQKfSldLCBlZGl0YXJNZXVOZWdvY2lvLnByb3RvdHlwZSwgImlucHV0TGlzdCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICBkZWZhdWx0OiAnJwp9KV0sIGVkaXRhck1ldU5lZ29jaW8ucHJvdG90eXBlLCAiZm9ybSIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICBkZWZhdWx0OiAnPHN0cm9uZz5Mb2phIG9ubGluZTwvc3Ryb25nPicKfSldLCBlZGl0YXJNZXVOZWdvY2lvLnByb3RvdHlwZSwgInRpdHVsbyIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICBkZWZhdWx0OiAnQXF1aSB2b2PDqiBwb2RlIGNvbmZpcm1hciBzZXVzIGRhZG9zIGUgZWRpdGFyIGFzIGluZm9ybWHDp8O1ZXMgc29icmUgbyBzZXUgbmVnw7NjaW8nCn0pXSwgZWRpdGFyTWV1TmVnb2Npby5wcm90b3R5cGUsICJkZXNjcmlwdGlvbiIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICBkZWZhdWx0OiAnJwp9KV0sIGVkaXRhck1ldU5lZ29jaW8ucHJvdG90eXBlLCAicHJvcEFjdGl2ZUFjY29yZGlvbiIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICBkZWZhdWx0OiB0cnVlCn0pXSwgZWRpdGFyTWV1TmVnb2Npby5wcm90b3R5cGUsICJwcm9wSGVhZGVyIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6IHVuZGVmaW5lZAp9KV0sIGVkaXRhck1ldU5lZ29jaW8ucHJvdG90eXBlLCAibm90aWZ5Iiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdub3RpZnknKV0sIGVkaXRhck1ldU5lZ29jaW8ucHJvdG90eXBlLCAib25Qcm9wZXJ0eUNoYW5nZWQiLCBudWxsKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdwYXltZW50cycsIHsKICBkZWVwOiB0cnVlCn0pXSwgZWRpdGFyTWV1TmVnb2Npby5wcm90b3R5cGUsICJvblBheW1lbnRzQ2hhbmdlZCIsIG51bGwpOwoKZWRpdGFyTWV1TmVnb2NpbyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgVnVlU2xpZGVyOiBWdWVTbGlkZXIsCiAgICBMb2dvTW9kYWw6IExvZ29Nb2RhbAogIH0KfSldLCBlZGl0YXJNZXVOZWdvY2lvKTsKZXhwb3J0IHsgZWRpdGFyTWV1TmVnb2NpbyB9Ow=="},{"version":3,"sources":["/home/aline/GitHub/admin-frontend/src/components/box/editarMeuNegocio/editarMeuNegocio.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, Vue, Watch } from 'vue-property-decorator';\nimport VueSlider from 'vue-slider-component';\nimport VueSimpleAlert from 'vue-simple-alert';\nimport Swal, { SweetAlertType } from 'sweetalert2';\nimport 'vue-slider-component/theme/antd.css';\nimport Cropper from 'cropperjs';\n\nimport INotification from '@/models/INotification';\nimport focusInput from '@/helpers/focusInput';\nimport userService from '@/services/user.service';\nimport categoryService from '@/services/category.service';\nimport registerService from '@/services/register.service';\nimport environment from \"@/environments/environment\";\n\nimport Compressor from 'compressorjs';\n\nimport LogoModal from '@/components/logo-modal/logo-modal.vue'\n\ndeclare var google: any;\n\n@Component({\n  components: {\n    VueSlider,\n    LogoModal\n  },\n})\n\nexport class editarMeuNegocio extends Vue {\n\n  private userService = new userService();\n  private categoryService = new categoryService();\n  private registerService = new registerService();\n\n  public showAddressChecked: boolean = true;\n  public showAddress: boolean = true;\n  public showCropper2: boolean = false;\n  public validSubCategory: boolean = false;\n  public categorySubcategory: any[] = [];\n  public catSubcat: string = '';\n  public autoCompleteSubCategoryOpen: boolean = false;\n  public subcategory: string = '';\n  public subcategories: any[] = [];\n  public subcategoriesData: any[] = [];\n  public comboCategories: any[] = [];\n  public usersname: Array<{\n    name: string,\n    value: string,\n    img: string,\n    selected: boolean,\n  }> = [];\n  public instaImg: string = '';\n  public userI: string = '';\n  public userName: any;\n  public validInsta: boolean = false;\n  public autoCompleteInstaOpen: boolean = false;\n  public user: any = '';\n  public users: any[] = [];\n  public face: any;\n  public instg: any;\n  public teste: any;\n  public teste2: boolean = false;\n  public facebookUser: boolean | string = false;\n  public instagramUser: boolean | string = false;\n  public finalImage: string = '';\n  public showCropper: boolean = false;\n  public destination: string = '';\n  public logoInput: string = '';\n  public publishAvailable: boolean = false;\n  public publishAvailableText: string = '';\n  public publishAvailableColor: string = '';\n  public image: HTMLImageElement = new Image();\n  public cropper: any;\n  public imageToCrop: any;\n  public map: any;\n  public circles: any[] = [];\n  public lat: any;\n  public lng: any;\n  public processStyle = {\n    color: '#00b0d0',\n    height: 7,\n  };\n  public rangeValue: number = 1;\n  public voltar: boolean = true;\n  public content: any | undefined = '';\n  public locationSelected;\n  public contentPayments: any = '';\n  public payments: any[] = [];\n  public moneys?: any[];\n  public paymentsChecked: string = '';\n  public facebook: string = '';\n  public instagram: string = '';\n  public website: string = '';\n  public selectedlang: string = '';\n  public googleApiReturn: any;\n  public name: string = '';\n  public email: string = '';\n  public celular: string = '';\n  public category: string = '';\n  public about: string = '';\n  public address: string = '';\n  public complemento: string = '';\n  public descricao: string = '';\n  public numero: string = '';\n  public cep: string = '';\n  public logradouro: string = '';\n  public bairro: string = '';\n  public cidade: string = '';\n  public documentCpf: string = '';\n  public region: string = '';\n  public size: string = '';\n  public sellerName: string = '';\n\n  public regions?: any[] = [];\n  public deliveryRegions: any[] = [];\n  public socialMedia: any[] = [];\n  public profileUrl: any[] = [];\n  public location: any;\n  public categoryId: any;\n  public errorMsg: boolean = false;\n  public autoCompleteAddress: any;\n  public autoCompleteRegion: any;\n  public markers: [] = [];\n  public places: [] = [];\n  public currentPlace: string = '';\n  public formModel: any = {};\n  public checkedNames: object[] = [];\n\n  @Prop() isActive: any = false;\n  @Prop({ default: undefined }) inputList!: object[];\n  @Prop({ default: '' }) form!: string;\n  @Prop({ default: '<strong>Loja online</strong>' }) titulo!: string;\n  @Prop({ default: 'Aqui você pode confirmar seus dados e editar as informações sobre o seu negócio' }) description!: string;\n\n  @Prop({ default: '' }) propActiveAccordion!: string;\n  @Prop({ default: true }) propHeader!: boolean;\n\n  @Prop({ default: undefined }) notify?: INotification | string = ``;\n  @Watch('notify') onPropertyChanged(value: string, oldValue: string) {\n    // console.log(value, oldValue);\n  }\n\n  public activeAccordion = this.propActiveAccordion;\n  public hasHeader = this.propHeader;\n\n  public checked: boolean = false;\n  public items: any[] = [];\n  public focused = new focusInput();\n  public reg: RegExp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/;\n  public valid: boolean = false;\n  public validAddress: boolean = false;\n  public validComplemento: boolean = false;\n  public validDescricao: boolean = false;\n  public validCategory: boolean = false;\n  public validNumero: boolean = false;\n  public validAbout: boolean = false;\n  public validRegion: boolean = false;\n  public validLogradouro: boolean = false;\n  public validCidade: boolean = false;\n  public validBairro: boolean = false;\n  public validCep: boolean = false;\n\n  public categories: Array<{\n    id: string,\n    value: string,\n    selected: boolean,\n    name: string,\n    subcategories: any[]\n  }> = [];\n  public autoCompleteCategoryOpen: boolean = false;\n  public loggedUser: any;\n  public hideAddress: boolean = false;\n  public sizes: Array<{\n    id: string,\n    value: string,\n    sigla: string,\n    selected: boolean,\n  }> = [];\n  public showLogoModal = false;\n\n  public genericChatbot: string = 'minhaloja_0';\n  public chatbotId: string = this.genericChatbot;\n\n  public setChatbotId(chatbotId, isActive) {\n    this.chatbotId = isActive ? `minhaloja_${chatbotId}` : this.genericChatbot;\n  }\n\n  public selectAllPayments: boolean = false;\n  @Watch('payments', { deep: true })\n  onPaymentsChanged(val: boolean) {\n    this.selectAllPayments = this.payments.map(payment => {\n      return payment.methods.map(method => method.active);\n    }).flat().filter(value => !value).length === 0;\n  }\n\n  async created() {\n    this.showCropper2 = false;\n    this.destination = '';\n    this.showCropper = false;\n    this.imageToCrop = '';\n    this.usersname = this.getAllUsers();\n    this.sizes = [];\n    this.processChoicesSellerSize();\n\n    const categoriesResponse = await this.registerService.getListCategories();\n    const categoriesData = await categoriesResponse.json();\n\n    this.categories = categoriesData || [];\n\n    this.userService.listProdcutsAll().then(data => {\n      data.delivery.forEach(region => this.setRegions(region));\n\n      if (!data.document) {\n        this.infoAlertNoDocument();\n        document.getElementById('document')?.removeAttribute('disabled');\n      } else if (!data.category) {\n        this.infoAlertNoCategory();\n      } else if (!data.address) {\n        this.infoAlertNoAdress();\n      }\n      this.setField(data);\n      this.celularValidate();\n      this.cpfValidate();\n    });\n    // tslint:disable-next-line:no-unused-expression\n    this.printValues;\n\n    this.userService.listPagamentos()\n      .then(async (data) => {\n        const formatedPayments = [];\n        // tslint:disable-next-line:forin\n        for (const key in data) {\n          await data[key].forEach(method => {\n            method.active = this.checked;\n          });\n          this.payments.push({ title: key, methods: data[key] });\n        }\n\n        /**\n         * Service listObterPagamentos\n         * @param listObterPagamentos\n         * servico que lista os meios de pagamentos alterados\n         * na funcao alterarPayments, trazendo selecionados\n         */\n        this.userService.listObterPagamentos()\n          // tslint:disable-next-line:no-shadowed-variable\n          .then(data => {\n            data.forEach(choice => {\n              this.payments.forEach(paymentCategory => {\n                paymentCategory.methods.map(x => x.active = x.name === choice.name ? true : x.active);\n              });\n            });\n          });\n      });\n    this.userService.getSocialMedia()\n      .then(data => {\n        data.forEach(social => {\n          this.setSocialMedia(social);\n        });\n      });\n  }\n\n  onAccordionToggle() {\n\n  }\n\n  /**\n   * Function verify event checkbox\n   * @param printValues\n   * @param name\n   * @param status\n   */\n  printValues(name, status) {\n    if (status) {\n      this.checkedNames.push(name);\n    } else {\n      this.checkedNames = this.checkedNames.filter((item) => item !== name);\n    }\n  }\n\n  setSocialMedia(media) {\n    if (media.type === 'Facebook') {\n      this.facebook = Array.from(new Set(media.profileUrl.split('https://www.facebook.com/'))).toString();\n      this.facebook = this.facebook.replace(/,/g, '');\n    }\n    if (media.type === 'Instagram') {\n      this.instagram = Array.from(new Set(media.profileUrl.split('https://www.instagram.com/'))).toString();\n      this.instagram = this.instagram.replace(/,/g, '');\n    }\n    if (media.type === 'Personal Website') {\n      this.website = media.profileUrl.split('https://')[1];\n    }\n    this.face = this.facebook;\n    this.instg = this.instagram;\n  }\n\n\n  setField(texts: any) {\n    this.finalImage = texts.store_logo_url;\n\n    if (texts.address) {\n      this.rangeValue = texts.address.distance;\n      this.address = texts.address.street + ', ' + texts.address.neighborhood + ', ' + texts.address.city + ', ' + texts.address.state;\n      this.geocodeAddress(texts.address.street + ', ' + texts.address.number + ', ' + texts.address.neighborhood + ', ' + texts.address.city + ', ' + texts.address.state);\n      this.complemento = texts.address.complement;\n      this.about = texts.about;\n      this.region = '';\n      this.numero = texts.address.number;\n\n      this.cidade = texts.address.city;\n      this.bairro = texts.address.neighborhood;\n      this.logradouro = texts.address.street;\n      this.cep = texts.address.zipcode;\n    }\n    this.size = texts.size;\n    this.sellerName = texts.seller_name\n    this.documentCpf = texts.document;\n    this.content = texts;\n    this.name = texts.name;\n    this.celular = texts.mobile;\n    this.email = texts.email;\n    this.publishAvailable = texts.seller_disable;\n    this.publishAvailableText = this.publishAvailable ? 'Reativar conta' : 'Desativar conta';\n    this.publishAvailableColor = this.publishAvailable ? 'editBox__formData__dataBtn--button__active' : 'editBox__formData__dataBtn--button__disable';\n    this.catSubcat = texts.third_level;\n    if (texts.sub_category) {\n      // this.categorySubcategory = this.catSubcat.split(' - ');\n      this.category = texts.category;\n      this.subcategory = texts.sub_category;\n      this.validSubCategory = this.subcategory ? true : false;\n    }\n    this.hideAddress = (texts.hide_address === true) ? texts.hide_address : false;\n\n    this.valid = false;\n    this.validAddress = this.address ? true : false;\n    this.validCategory = this.category ? true : false;\n    this.validComplemento = this.complemento ? true : false;\n    this.validDescricao = this.descricao ? true : false;\n    this.validNumero = this.numero ? true : false;\n    this.validAbout = this.about ? true : false;\n    this.validRegion = false;\n    this.validLogradouro = false;\n    this.validCidade = false;\n    this.validBairro = false;\n    this.validCep = false;\n\n    this.focused.editCategory = this.category ? true : false;\n    this.focused.editSize = this.size ? true : false;\n    this.focused.editSellerName = this.sellerName ? true : false;\n    this.focused.editAddress = this.address ? true : false;\n    this.focused.editRegion = true;\n    this.focused.editAbout = this.about ? true : false;\n    this.focused.editComplemento = this.complemento ? true : false;\n    this.focused.editDescricao = this.descricao ? true : false;\n    this.focused.editNumero = this.numero ? true : false;\n    this.focused.editCep = this.cep ? true : false;\n    this.focused.editLogradouro = this.logradouro ? true : false;\n    this.focused.editCidade = this.cidade ? true : false;\n    this.focused.editBairro = this.bairro ? true : false;\n    this.subcategoriesData = this.subcategories;\n    this.clearSubcategory();\n  }\n\n  alterarAddress() {\n    this.$emit('loading', true);\n\n    const location = {\n      distance: this.rangeValue ? this.rangeValue : null,\n      number: this.numero,\n      complement: this.complemento,\n      neighborhood: this.bairro,\n      lat: this.lat,\n      lng: this.lng,\n      city: this.cidade,\n      street: this.logradouro,\n      zipcode: this.cep,\n      show_address: this.showAddress,\n    };\n\n\n    if (\n      !location.number ||\n      !location.zipcode ||\n      !location.neighborhood ||\n      !location.city ||\n      !location.street\n    ) {\n      let emptyFields = \"\";\n\n      if (!location.zipcode) { emptyFields += '\\n Cep' }\n      if (!location.street) { emptyFields += '\\n Logradouro' }\n      if (!location.number) { emptyFields += '\\n Número' }\n      if (!location.neighborhood) { emptyFields += '\\n Bairro' }\n      if (!location.city) { emptyFields += '\\n Cidade' }\n\n      this.toastMessage('error', \"Os campos abaixo são obrigatórios:\\n\" + emptyFields);\n\n      this.$emit('loading', false);\n\n      return;\n    }\n\n    if (location) {\n      this.userService.updateShowAddress(location)\n      this.userService.updateSellerAddress(location)\n        .then(data => {\n          if (!data.ok) {\n            this.showErrorNotification();\n            this.$emit('loading', false);\n          } else {\n            this.userService.updateSeller({ hide_address: this.hideAddress })\n              .then(userData => {\n                if (!userData.ok) {\n                  this.showErrorNotification();\n                  this.$emit('loading', false);\n                } else {\n                  this.showSuccessfullNotification();\n                  this.$emit('loading', false);\n                  window.location.reload();\n                }\n              });\n          }\n        });\n\n    }\n\n    this.focused.editNumero = this.numero ? true : false;\n\n    this.$emit('loading', false);\n  }\n\n  getSigla() {\n    const obj = this.sizes.find((item) => item.value === this.size)\n    return (obj !== undefined) ? obj.sigla : \"\";\n  }\n\n  saveData() {\n    this.$emit('loading', true);\n    if (!this.size || !this.sellerName) {\n      alert(\"Deve preencher os dados em branco, por favor preencha e tente novamente\");\n      this.showErrorNotification();\n      this.$emit('loading', false);\n    } else {\n      this.userService.updateSize(this.getSigla(), this.sellerName, this.name, this.email, this.documentCpf).then(data => {\n        if (!data.ok) {\n          data.json().then(obj => {\n            if (obj.email) {\n              this.showErrorNotification(obj.email[0]);\n            } else {\n              this.showErrorNotification();\n            }\n          })\n        } else {\n          this.showSuccessfullNotification();\n          data.json().then(obj => {\n            localStorage.setItem('loggedUser', JSON.stringify(obj));\n            this.loggedUser = obj;\n            window.location.reload();\n          });\n        }\n      })\n        .catch((error) => {\n          console.log(error)\n        })\n        .finally(() => this.$emit('loading', false));\n    }\n  }\n\n  alterSellerStatus() {\n    if (this.publishAvailable) {\n      this.userService.habilitaVendedor().then(value => {\n        if (value.status !== 202) {\n          this.showErrorNotification();\n        } else {\n          this.showSuccessfullNotification();\n          this.publishAvailable = false;\n          this.publishAvailableText = 'Desativar conta';\n        }\n      });\n    } else {\n      this.userService.desabilitaVendedor().then(value => {\n        if (value.status !== 202) {\n          this.showErrorNotification();\n        } else {\n          this.showSuccessfullNotification();\n          this.publishAvailable = true;\n          this.publishAvailableText = 'Reativar conta';\n        }\n      });\n    }\n    this.publishAvailableColor = this.publishAvailable ? 'editBox__formData__dataBtn--button__disable' : 'editBox__formData__dataBtn--button__active';\n  }\n\n  saveCategory() {\n    this.$emit('loading', true);\n    if (this.subcategory === '' && this.category !== '') {\n      this.showErrorNotification();\n      this.$emit('loading', false);\n    } else {\n      // const value = this.category + ' - ' + this.subcategory;\n      // this.categoryId = this.categories.filter(c => c.value === value)[0].id;\n      const subcategory = this.subcategories.find(subcategory => subcategory.name === this.subcategory);\n      if (subcategory) {\n        this.userService.updateCategory({ cnae: subcategory.cnae })\n          .then(data => {\n            if (!data.ok) {\n              this.showErrorNotification();\n              this.$emit('loading', false);\n            } else {\n              this.userService.updateSeller({ about: this.about })\n                .then(userData => {\n                  if (!userData.ok) {\n                    this.showErrorNotification();\n                  } else {\n                    this.showSuccessfullNotification();\n                    const logged: any = JSON.parse(localStorage.getItem('loggedUser') || '');\n                    logged.category = this.category;\n                    logged.subscribe = this.subcategory;\n                    logged.about = this.about;\n                    localStorage.setItem('loggedUser', JSON.stringify(logged));\n                  }\n                  this.$emit('loading', false);\n                  window.location.reload();\n                });\n            }\n          });\n      } else {\n        this.userService.updateSeller({ about: this.about })\n          .then(data => {\n            if (!data.ok) {\n              this.showErrorNotification();\n              this.$emit('loading', false);\n            } else {\n              this.showSuccessfullNotification();\n              this.$emit('loading', false);\n            }\n          });\n      }\n    }\n  }\n\n  alterarSocialMedia() {\n    window.event?.preventDefault();\n    this.socialMedia = [];\n    this.$emit('loading', true);\n    this.instagramUser = false;\n    this.facebookUser = false;\n    localStorage.setItem('facebook', 'true');\n    localStorage.setItem('instagram', 'true');\n    if (!this.face) {\n      this.face = '';\n    }\n    if (!this.instg) {\n      this.instg = '';\n    }\n\n    if (this.facebook.length > 0) {\n      this.verificar('facebook');\n      setTimeout(() => {\n        if (localStorage.getItem('facebook') === 'true') {\n          this.socialMedia.push({\n            status: this.facebook ? true : false,\n            profileUrl: 'https://www.facebook.com/' + this.facebook,\n            type: 'Facebook',\n          });\n        } else {\n          this.socialMedia.push({\n            status: this.face ? true : false,\n            profileUrl: 'https://www.facebook.com/' + this.face,\n            type: 'Facebook',\n          });\n        }\n      }, 510);\n    }\n    if (this.instagram.length > 0) {\n      setTimeout(() => {\n        if (localStorage.getItem('instagram') === 'true') {\n          this.socialMedia.push({\n            status: this.instagram ? true : false,\n            profileUrl: 'https://www.instagram.com/' + this.instagram,\n            type: 'Instagram',\n          });\n        } else {\n          this.socialMedia.push({\n            status: this.instg ? true : false,\n            profileUrl: 'https://www.instagram.com/' + this.instg,\n            type: 'Instagram',\n          });\n        }\n      }, 510);\n      this.verificar('instagram');\n    }\n    if (this.website.length > 0) {\n      this.socialMedia.push({\n        status: this.website ? true : false,\n        profileUrl: 'https://' + this.website,\n        type: 'Personal Website',\n      });\n    }\n    setTimeout(() => {\n      this.userService.postSocialMedia(this.socialMedia)\n        .then(data => {\n          if (!data.ok || this.instagramUser !== false || this.facebookUser !== false) {\n            this.showErrorNotification();\n            this.$emit('loading', false);\n            if (this.instagramUser === false) {\n              this.instg = this.instagram;\n            }\n            if (this.facebookUser === false) {\n              this.face = this.facebook;\n            }\n          } else {\n            this.showSuccessfullNotification();\n            this.$emit('loading', false);\n            this.socialMedia = [];\n            this.face = this.facebook;\n            this.instg = this.instagram;\n          }\n        })\n        .catch(err => console.log(err));\n      localStorage.removeItem('instagram');\n      localStorage.removeItem('facebook');\n    }, 600);\n  }\n\n\n  // updatePostSocial() {\n  //   this.$emit('loading', false);\n  //   this.service.getSocialMedia()\n  //   .then(data => data.json())\n  //   .then(data => {\n  //     if (!data.ok) {\n  //       this.showErrorNotification();\n  //       this.$emit('loading', false);\n  //     } else {\n  //       this.$emit('loading', false);\n  //       this.socialMedia.push(data);\n  //     }\n  //   })\n  //   .catch(err => {\n  //     console.log(err);\n  //   })\n  // }\n\n  /**\n   * Param alterarPayments\n   * @param  alterarPayments\n   * funcao que seleciona o meio de pagamento,\n   * altera o meio de pagamento\n   * e envia o meio de pagamento\n   */\n  async alterarPayments() {\n    window.event?.preventDefault();\n    this.$emit('loading', true);\n    await this.payments.forEach(paymentCategory => {\n      paymentCategory.methods.forEach(method => {\n        if (method.active) {\n          this.checkedNames.push(method.name);\n        }\n      });\n    });\n    this.userService.listUpdatePagamentos(this.checkedNames)\n      .then(paymentsChecked => {\n        if (!paymentsChecked.ok) {\n          this.showErrorNotification();\n          this.$emit('loading', false);\n        } else {\n          this.$emit('loading', false);\n          this.checked = true;\n          this.checkedNames = [];\n          this.showSuccessfullNotification();\n        }\n      });\n  }\n\n  cpfValidate() {\n    if (this.documentCpf && this.documentCpf !== null && this.documentCpf.length > 0 && this.documentCpf.length <= 11) {\n      this.documentCpf = this.documentCpf.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{2})/, (regex, arg1, arg2, arg3, arg4) => `${arg1}.${arg2}.${arg3}-${arg4}`);\n    } else if (this.documentCpf !== null) {\n      this.documentCpf = this.documentCpf.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/, (regex, arg1, arg2, arg3, arg4, arg5) => `${arg1}.${arg2}.${arg3}/${arg4}-${arg5}`);\n    }\n  }\n\n  celularValidate() {\n    this.celular = this.celular.replace(/(\\d{2})(\\d{5})(\\d{4})/, (regex, arg1, arg2, arg3) => `(${arg1}) ${arg2} - ${arg3}`);\n  }\n\n  public isCategoryValid() {\n    this.validCategory = (this.category) ? (this.reg.test(this.category)) ? true : false : false;\n  }\n\n  public isAddressValid() {\n    this.validAddress = (this.address === '')\n      ? (this.reg.test(this.address))\n        ? true\n        : false\n      : false;\n  }\n\n  public isRegionValid() {\n    this.validRegion = (this.region === '') ? (this.reg.test(this.region)) ? true : false : false;\n  }\n\n  public isCepValid() {\n    this.validCep = (this.cep === '') ? (this.reg.test(this.cep)) ? true : false : false;\n  }\n\n  public isBairroValid() {\n    this.validBairro = (this.bairro === '') ? (this.reg.test(this.bairro)) ? true : false : false;\n  }\n\n  public isCidadeValid() {\n    this.validCidade = (this.cidade === '') ? (this.reg.test(this.cidade)) ? true : false : false;\n  }\n\n  public isLogradouroValid() {\n    this.validLogradouro = (this.logradouro === '') ? (this.reg.test(this.logradouro)) ? true : false : false;\n  }\n\n  async mounted() {\n    this.autocompleteInit();\n    this.initMap();\n    // this.combo();\n    this.getInstagramCode();\n    const sellerObject = await this.userService.getSellerShowAddress()\n    this.showAddressChecked = sellerObject.show_address;\n    this.showAddress = sellerObject.show_address;\n  }\n\n\n  async infoAlertNoDocument() {\n    this.notify = {\n      icon: require('./../../../assets/images/icon_error.png'),\n      text: `\n          <strong>ATENÇÃO: Sua loja não está sendo exibida!</strong><br />Para você ficar visível aos seus clientes, é necessário que preencha um número de documento válido do seu negócio ou do responsável legal.\n        `,\n      color: '#ffd1c4',\n      active: true,\n      type: 'error',\n      text_align_left: true,\n    };\n    const response = await this.registerService.validateTokenSeller();\n    if (!response.ok) {\n      localStorage.removeItem('pertinho');\n      localStorage.removeItem('loggedUser');\n      this.$router.push('login');\n    }\n  }\n\n  async infoAlertNoCategory() {\n    this.notify = {\n      icon: require('./../../../assets/images/icon_error.png'),\n      text: `\n          <strong>ATENÇÃO: Sua loja não está sendo exibida!</strong><br />Para você ficar visível aos seus clientes, é necessário que preencha uma categoria, uma subcategoria e uma descrição para o seu negócio.\n        `,\n      color: '#ffd1c4',\n      active: true,\n      type: 'error',\n      text_align_left: true,\n    };\n    const response = await this.registerService.validateTokenSeller();\n    if (!response.ok) {\n      localStorage.removeItem('pertinho');\n      localStorage.removeItem('loggedUser');\n      this.$router.push('login');\n    }\n  }\n\n  async infoAlertNoAdress() {\n    this.notify = {\n      icon: require('./../../../assets/images/icon_error.png'),\n      text: `\n          <strong>ATENÇÃO: Sua loja não está sendo exibida!</strong><br/>Para você ficar visível aos seus clientes, é necessário que preencha o endereço do seu negócio e o raio de atendimento.\n        `,\n      color: '#ffd1c4',\n      active: true,\n      type: 'error',\n      text_align_left: true,\n    };\n    const response = await this.registerService.validateTokenSeller();\n    if (!response.ok) {\n      localStorage.removeItem('pertinho');\n      localStorage.removeItem('loggedUser');\n      this.$router.push('login');\n    }\n  }\n\n  initMap() {\n    const logged: any = localStorage.getItem('loggedUser');\n    this.loggedUser = JSON.parse(logged);\n    if (this.loggedUser.address) {\n      this.map = new google.maps.Map(document.getElementById('map'), {\n        zoom: 13,\n        center: {\n          lat: parseFloat(this.loggedUser.address.lat),\n          lng: parseFloat(this.loggedUser.address.lng),\n        },\n        panControl: true,\n        zoomControl: true,\n        mapTypeControl: true,\n      });\n    }\n  }\n\n  autocompleteInit() {\n    const $ctrl = this;\n\n    const options = {\n      componentRestrictions: { country: \"br\" },\n      language: [\"pt-BR\"],\n      fields: [\"address_components\", \"geometry\", \"formatted_address\"],\n    };\n\n    /**\n     * input auto complete address\n     */\n\n    this.autoCompleteAddress = new google.maps.places.Autocomplete(this.$refs.autoCompleteAddress as HTMLElement, options);\n    google.maps.event.addListener(this.autoCompleteAddress, `place_changed`, () => {\n      $ctrl.googleApiReturn = $ctrl.autoCompleteAddress.getPlace();\n\n      $ctrl.numero = $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'street_number').length > 0\n        ? $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'street_number')[0].long_name\n        : '';\n\n      $ctrl.cep = $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'postal_code').length > 0\n        ? $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'postal_code')[0].long_name\n        : '';\n\n      $ctrl.focused.editCep = true;\n\n      $ctrl.logradouro = $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'route').length > 0\n        ? $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'route')[0].long_name\n        : '';\n\n      $ctrl.cidade = $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'administrative_area_level_2').length > 0\n        ? $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'administrative_area_level_2')[0].long_name\n        : '';\n\n      $ctrl.bairro = $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'sublocality_level_1').length > 0\n        ? $ctrl.googleApiReturn.address_components.filter(x => x.types[0] === 'sublocality_level_1')[0].long_name\n        : '';\n\n      $ctrl.address = $ctrl.googleApiReturn.formatted_address\n\n      const location = {\n        lat: $ctrl.googleApiReturn.geometry.location.lat(),\n        lng: $ctrl.googleApiReturn.geometry.location.lng(),\n      };\n\n      $ctrl.map = new google.maps.Map(document.getElementById('map'), {\n        zoom: 13,\n        center: location,\n        panControl: true,\n        zoomControl: true,\n        mapTypeControl: true,\n        scaleControl: false,\n        streetViewControl: false,\n        overviewMapControl: true,\n        rotateControl: false,\n      });\n\n      new google.maps.Marker({\n        position: location,\n        center: location,\n        map: $ctrl.map,\n        draggable: false,\n        icon: {\n          url: require('../../../assets/images/icon-place.png'),\n          size: new google.maps.Size(28, 40),\n          origin: new google.maps.Point(0, 0),\n          anchor: new google.maps.Point(18, 18),\n          scaledSize: new google.maps.Size(28, 40),\n        },\n      });\n      $ctrl.lat = location.lat;\n      $ctrl.lng = location.lng;\n      $ctrl.plotCircle(location.lat, location.lng);\n    });\n  }\n\n  plotCircle(lat, lng) {\n    this.removeAllcircles();\n    const circulo = new google.maps.Circle({\n      map: this.map,\n      center: new google.maps.LatLng(lat, lng),\n      radius: this.rangeValue * 1000,\n      strokeColor: '#00b0d0',\n      strokeOpacity: 0.8,\n      strokeWeight: 1,\n      fillColor: '#00b0d0',\n      fillOpacity: 0.35,\n    });\n    this.circles.push(circulo);\n    const bounds = new google.maps.LatLngBounds();\n    bounds.union(circulo.getBounds());\n    this.map.fitBounds(bounds, 1);\n    this.map.setCenter({ lat, lng });\n  }\n\n  geocodeAddress(address) {\n    const $ctrl = this;\n\n    const geocoder = new google.maps.Geocoder();\n    geocoder.geocode(\n      { address },\n      (results, status) => {\n        if (status === 'OK') {\n          const location = {\n            lat: results[0].geometry.location.lat(),\n            lng: results[0].geometry.location.lng(),\n          };\n          $ctrl.lat = results[0].geometry.location.lat();\n          $ctrl.lng = results[0].geometry.location.lng();\n          $ctrl.map = new google.maps.Map(document.getElementById('map'), {\n            zoom: 13,\n            center: location,\n            panControl: false,\n            zoomControl: false,\n            mapTypeControl: true,\n            scaleControl: false,\n            streetViewControl: false,\n            overviewMapControl: false,\n            rotateControl: false,\n          });\n\n          const marker = new google.maps.Marker({\n            position: location,\n            center: location,\n            map: $ctrl.map,\n            draggable: false,\n            icon: {\n              url: require('../../../assets/images/icon-place.png'),\n              size: new google.maps.Size(28, 40),\n              origin: new google.maps.Point(0, 0),\n              anchor: new google.maps.Point(18, 18),\n              scaledSize: new google.maps.Size(28, 40),\n            },\n          });\n          $ctrl.plotCircle(results[0].geometry.location.lat(), results[0].geometry.location.lng());\n        }\n      },\n    );\n  }\n\n  removeAllcircles() {\n    // tslint:disable-next-line:forin\n    for (const i in this.circles) {\n      this.circles[i].setMap(null);\n    }\n    this.circles = [];\n  }\n\n  setRegions(data) {\n    this.regions?.push(data);\n    this.region = '';\n  }\n\n  formCancel() {\n    window.event?.preventDefault();\n  }\n\n  filterCategories() {\n    const re = new RegExp(this.category, 'gi');\n    return this.comboCategories.filter(c => c.toString().toLowerCase().search(re) > -1);\n  }\n\n  clearSelectedCategory() {\n    this.filterCategories().map((data) => {\n      data = '';\n    });\n  }\n\n  setCategory(category: any) {\n    this.clearSelectedCategory();\n\n    this.autoCompleteCategoryOpen = false;\n    this.focused.editCategory = true;\n    if (this.category) {\n      this.subcategory = '';\n      this.validCategory = true;\n      this.clearSubcategory();\n    }\n  }\n\n  setSize(selected: any) {\n    const selected_seller = selected.target;\n    this.size = selected_seller.value;\n  }\n\n  public getChoicesSellerSize() {\n    const headers = {\n      'Authorization': environment.setAuthorizationToken(),\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Headers': 'Content-Type',\n    };\n    const requestOptions = { headers: headers };\n    // console.log(\"fetchhhhh retorno\", fetch(`${environment.setAPI()}/choices/sellersize/`, requestOptions))\n    return fetch(`${environment.setAPI()}/choices/sellersize/`, requestOptions);\n  }\n\n  private async processChoicesSellerSize() {\n    const response = await this.getChoicesSellerSize();\n    switch (response.status) {\n      case 200:\n      case 201:\n      case 202:\n        const data = await response.json();\n        data.map((seller: any[]) => {\n          if (this.sizes) {\n            this.sizes.push({ id: seller[0], value: `${seller[1]}`, sigla: `${seller[0]}`, selected: false });\n          }\n        });\n        break;\n    }\n  }\n\n  deleteRegion(data) {\n    this.regions = data;\n  }\n\n  public isComplementoValid() {\n    this.validComplemento = this.complemento === '' ? false : true;\n  }\n\n  public isDescricaoValid() {\n    this.validDescricao = this.descricao === '' ? false : true;\n  }\n\n  public isNumeroValid() {\n    this.validNumero = this.numero === '' ? false : true;\n  }\n\n  public isAboutValid() {\n    this.validAbout = this.about === '' ? false : true;\n  }\n\n  showSuccessfullNotification() {\n    this.$fire({\n      type: 'success',\n      title: 'Alterações salvas com sucesso',\n      toast: true,\n      position: 'top',\n      showCloseButton: true,\n      showConfirmButton: false,\n      timer: 3000,\n    })\n  }\n\n  async showErrorNotification(text?: string) {\n    this.$fire({\n      type: 'error',\n      title: text || 'Erro ao efetuar alteração!',\n      showCloseButton: true,\n      showConfirmButton: false,\n      timer: 4000,\n      toast: true,\n      position: 'top',\n    });\n    const response = await this.registerService.validateTokenSeller();\n    if (!response.ok) {\n      localStorage.removeItem('pertinho');\n      localStorage.removeItem('loggedUser');\n      this.$router.push('login');\n    }\n  }\n\n  showNotification(data) {\n    this.notify = data;\n  }\n\n  getRangeValue() {\n    const range: any = this.$refs.slider;\n    this.plotCircle(this.lat, this.lng);\n  }\n\n  async infoAlertVendedor() {\n    this.notify = {\n      icon: require('./../../../assets/images/icon_error.png'),\n      text: `\n          <strong>Atenção!</strong><br />Os campos \"Nome\", \"E-mail\", \"Telefone\" e \"Documento\" não são editáveis. Caso seja necessária alteração, por gentileza enviar e-mail para <a style=\"color: black; text-decoration:underline;\" href=\"mailto:contato@pertinhodecasa.com.br\" target=\"_blank\">contato@pertinhodecasa.com.br.</a>\n        `,\n      color: '#c3e4e7',\n      active: true,\n      type: 'error',\n    };\n    const response = await this.registerService.validateTokenSeller();\n    if (!response.ok) {\n      localStorage.removeItem('pertinho');\n      localStorage.removeItem('loggedUser');\n      this.$router.push('login');\n    }\n  }\n\n  uploadLogo() {\n    this.$emit('loading', true);\n    this.userService.uploadlogo(this.loggedUser.slug, this.destination)\n      .then(data => {\n        if (!data.ok) {\n          this.showErrorNotification();\n          this.$emit('loading', false);\n        } else {\n          this.showSuccessfullNotification();\n          this.$emit('loading', false);\n        }\n      });\n  }\n\n  getImageToCrop(event) {\n    if (event.target.files.length && event.target.files[0].size / 1000000 < 10) {\n      const imageFile = event.target.files[0];\n      // const reader = new FileReader();\n      // reader.readAsDataURL(imageFile);\n      // reader.onload = (e: any) => {\n      //     this.imageToCrop = e.target.result;\n      //     this.updateLogo();\n      // };\n      this.imageToCrop = imageFile;\n      this.updateLogo();\n    } else {\n      this.showErrorNotification();\n    }\n  }\n\n  destroyCropper() {\n    this.cropper.destroy();\n    this.showCropper = false;\n  }\n\n  saveCroppedImage() {\n    this.destroyCropper();\n    this.uploadLogo();\n    this.showCropper = false;\n  }\n\n  async updateLogo() {\n    this.$emit('loading', true);\n    const compressor = new Compressor(this.imageToCrop, {\n      quality: 0.5,\n      width: 1250,\n      height: 1250,\n      convertSize: 0,\n      success: (imageCompressed) => {\n        const reader = new FileReader();\n        if (imageCompressed.size / 1000000 < 6) {\n          this.imageToCrop = imageCompressed;\n          reader.readAsDataURL(imageCompressed);\n          reader.onload = (e: any) => {\n            this.imageToCrop = e.target.result;\n            this.$emit('loading', false);\n            this.destination = e.target.result;\n            this.cropInit();\n          };\n        } else {\n          alert(\"Reduza o tamanho de imagem e tente novamente.\");\n          this.$emit('loading', false);\n        }\n      },\n      error: (err) => {\n        console.log(\"error comprimindo imagem\", err.message);\n        this.$emit('loading', false);\n      },\n    });\n  }\n\n  cropInit() {\n    this.image = this.$refs.image as HTMLImageElement;\n    try {\n      this.showCropper = true;\n      this.cropper = new Cropper(this.image, {\n        guides: true,\n        zoomable: true,\n        dragMode: 'move',\n        scalable: true,\n        center: true,\n        autoCropArea: 0.65,\n        responsive: true,\n        restore: false,\n        cropBoxMovable: false,\n        cropBoxResizable: false,\n        wheelZoomRatio: 0.1,\n        aspectRatio: 1 / 1,\n        initialAspectRatio: 1 / 1,\n        modal: true,\n        zoomOnWheel: false,\n        ready: (ready) => {\n          const canvas = this.cropper.getCroppedCanvas({\n            imageSmoothingQuality: 'high',\n            maxWidth: 400,\n            maxHeight: 400,\n          });\n          this.destination = canvas.toDataURL('image/png');\n          this.logoInput = this.destination;\n        },\n        crop: () => {\n          const canvas = this.cropper.getCroppedCanvas({\n            imageSmoothingQuality: 'high',\n            maxWidth: 400,\n            maxHeight: 400,\n          });\n          this.destination = canvas.toDataURL('image/png');\n          this.logoInput = this.destination;\n        },\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  cropperZoom(value: number) {\n    this.cropper.zoom(value);\n  }\n\n  cropperRotate(value: number) {\n    this.cropper.rotate(value);\n  }\n  verificar(type) {\n    if (type === 'facebook') {\n      const request = require('request');\n      request.get({\n        encoding: 'utf-8',\n        method: 'GET',\n        uri: `http://graph.facebook.com/${this.facebook}`,\n        followRedirect: false,\n      }, (err, res, body) => localStorage.setItem('body', body));\n      setTimeout(() => {\n        const body: any = localStorage.getItem('body');\n        this.teste = JSON.parse(body);\n        if (this.teste.error.message.includes('requested do not exist')) {\n          this.facebookUser = 'Verifique seu usuário do Facebook';\n          localStorage.setItem('facebook', 'false');\n        } else {\n          this.facebookUser = false;\n        }\n      }, 500);\n      setTimeout(() => {\n        localStorage.removeItem('body');\n      }, 600);\n    }\n    if (type === 'instagram') {\n      fetch(`https://www.instagram.com/${this.instagram}/?__a=1`)\n        .then(response => {\n          if (response.status === 200) {\n            this.instagramUser = false;\n          } else {\n            this.instagramUser = 'Verifique seu usuário do Instagram';\n            localStorage.setItem('instagram', 'false');\n          }\n        });\n    }\n  }\n\n  filterInsta() {\n    this.usersname = [];\n    const requestOptions = {\n      method: 'GET',\n    };\n    return fetch(`https://www.instagram.com/web/search/topsearch/?query=${this.instagram}`, requestOptions).then(response =>\n      response.text().then((text: any) => {\n        const data = text && JSON.parse(text);\n        data.users.forEach(users => {\n          this.setUser(users);\n        });\n        return data;\n      }));\n  }\n\n  setUser(data) {\n    this.users?.push(data.user);\n    this.user = '';\n    const i = {\n      name: data.user.username,\n      value: data.user.full_name,\n      img: data.user.profile_pic_url,\n      selected: false,\n    };\n    this.usersname.push(i);\n    this.usersname.filter((elem, index, self) => index === self.indexOf(elem));\n  }\n\n  getAllUsers() {\n    const un: any = [{ name: ' ', value: ' ', img: '' }];\n    return un;\n  }\n\n  setInsta(instagram: any) {\n    this.clearSelectedInsta();\n    instagram.selected = true;\n    this.instaImg = instagram.img;\n    this.userI = instagram.value;\n    this.userName = instagram.name;\n    this.autoCompleteInstaOpen = false;\n    this.validInsta = true;\n    this.instagram = instagram.name;\n  }\n  public isInstaValid() {\n    this.validInsta = (this.instagram) ? (this.reg.test(this.instagram)) ? true : false : false;\n  }\n\n  clearSelectedInsta() {\n    this.filterInstagram().map((data) => {\n      data.selected = false;\n      this.userI = '';\n    });\n  }\n\n  filterInstagram() {\n    let c: any[] = [];\n    // tslint:disable-next-line:no-shadowed-variable\n    c = this.usersname.filter(c => c.name.substring(0, this.instagram.length) === this.instagram.substring(0, this.instagram.length));\n    if (c.length > 1) {\n      c.reverse();\n      c.filter((elem, index, self) => index === self.indexOf(elem));\n      while (c[0].name === c[c.length - 1].name && c.length > 1) {\n        c.pop();\n      }\n    }\n    // tslint:disable-next-line:no-shadowed-variable\n    return c.filter(c => c.name.substring(0, this.instagram.length) === this.instagram.substring(0, this.instagram.length));\n  }\n\n  combo() {\n    const teste = (this.categories.length) - 1;\n    let i = 0;\n    const cat: any[] = [];\n    const testecat: any[] = [];\n    let c;\n    let scat: any[] = [];\n    for (c = 0; c <= teste; c++) {\n      cat[c] = this.categories[c].value.split(' - ');\n    }\n    for (c = 0; c < teste; c++) {\n      testecat[c] = cat[c][0];\n    }\n    this.comboCategories[i] = testecat[0];\n    for (c = 0; c <= teste; c++) {\n      if (this.comboCategories[i] !== testecat[c]) {\n        this.comboCategories.push(testecat[c]);\n        i = i + 1;\n      }\n    }\n    this.comboCategories.pop();\n    const teste2 = this.comboCategories.length - 1;\n\n    for (i = 0; i <= teste2; i++) {\n      scat = [];\n      let j = 0;\n      for (c = 0; c <= teste; c++) {\n        if (cat[c][0] === this.comboCategories[i]) {\n          scat[j] = cat[c][1];\n          j++;\n        }\n        this.subcategories[i] = scat;\n        this.subcategoriesData[i] = scat;\n      }\n    }\n    this.filterCategory();\n    this.filterSubCategory();\n  }\n\n  filterSubCategories() {\n    const re = new RegExp(this.subcategory, 'gi');\n    let j = 0;\n    let subcat: any[] = [];\n\n    if (this.category !== null) {\n      for (j; j < this.comboCategories.length; j++) {\n        if (this.category === this.comboCategories[j]) {\n          subcat = [];\n          subcat = this.subcategories[j];\n        }\n      }\n    }\n    return subcat.filter(c => c.toString().toLowerCase().search(re) > -1);\n  }\n\n  setSubCategory(subcategory: any) {\n    const box: HTMLSelectElement = document.getElementById('subcategory') as HTMLSelectElement;\n    this.subcategory = box.options[box.selectedIndex].text;\n    this.autoCompleteSubCategoryOpen = false;\n    this.validSubCategory = true;\n  }\n\n  filterCategory() {\n    const select: HTMLSelectElement = document.getElementById('category') as HTMLSelectElement;\n    if (this.comboCategories && this.comboCategories.length) {\n      this.comboCategories.map(value => {\n        select.options[select.options.length] = new Option(value.toString());\n      });\n    }\n  }\n\n  filterSubCategory() {\n    const select: HTMLSelectElement = document.getElementById('subcategory') as HTMLSelectElement;\n    const index = this.comboCategories.indexOf(this.category, 0);\n    if (this.subcategoriesData[index]) {\n      this.subcategoriesData[index].map(value => {\n        select.options[select.options.length] = new Option(value.toString());\n      });\n    }\n  }\n  handleSuccessCloseModal() {\n    this.showLogoModal = false\n    this.toastMessage('success', 'Logo atualizada com sucesso')\n    window.location.reload();\n  }\n  clearSubcategory() {\n    this.subcategories = [];\n    const category = this.categories.find(category => category.name === this.category);\n\n    if (category) {\n      this.subcategories = category.subcategories;\n    }\n    // const select: HTMLSelectElement = document.getElementById('subcategory') as HTMLSelectElement;\n    // for (let i = select.options.length; i !== 0; i--) {\n    //   select.options.remove(i);\n    // }\n    // this.filterSubCategory();\n  }\n\n  public onSelectAllPaymentsChange(event) {\n    this.payments.forEach((payment) => {\n      payment.methods.forEach(method => method.active = event.target.checked);\n    });\n  }\n\n  public openInstagramAuth() {\n    window.open(environment.getInstagramAuthUrl(), '_self');\n  }\n\n  public async optOutInstagram() {\n    await this.userService.optOutInstagram();\n    this.userService.getSocialMedia()\n      .then(data => {\n        data.forEach(social => {\n          this.setSocialMedia(social);\n        });\n      });\n  }\n\n  async getInstagramCode() {\n    const code = this.$route.query.code;\n    if (code) {\n      await this.userService.authorizeInstagram(code);\n      this.userService.getSocialMedia()\n        .then(data => {\n          data.forEach(social => {\n            this.setSocialMedia(social);\n          });\n        });\n    }\n  }\n\n  private toastMessage(type: SweetAlertType, title: string) {\n    VueSimpleAlert.fire({\n      type,\n      title,\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 3000,\n      onOpen: (toast) => {\n        toast.addEventListener('mouseenter', Swal.stopTimer),\n          toast.addEventListener('mouseleave', Swal.resumeTimer);\n      },\n    });\n  }\n}\n"],"sourceRoot":""}]}