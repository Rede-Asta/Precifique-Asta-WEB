{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js!/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js??ref--13-2!/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/views/Cupon/CuponCreateView.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/views/Cupon/CuponCreateView.vue","mtime":1696439584697},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxpbmUvR2l0SHViL2FkbWluLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgQ3Vwb25DcmVhdGVPckVkaXRJbmZvIGZyb20gIkAvdmlld3MvQ3Vwb24vQ3Vwb25DcmVhdGVPckVkaXRJbmZvLnZ1ZSI7IC8vIGltcG9ydCBQcm9kdWN0Q3JlYXRlT3JFZGl0SW1hZ2VzIGZyb20gIkAvdmlld3MvUHJvZHVjdC9Qcm9kdWN0Q3JlYXRlT3JFZGl0SW1hZ2VzLnZ1ZSI7CgppbXBvcnQgcHJvZHVjdHNTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvcHJvZHVjdHMuc2VydmljZSI7CmltcG9ydCBjdXBvblNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9jdXBvbi5zZXJ2aWNlJzsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgVnVlU2ltcGxlQWxlcnQgZnJvbSAidnVlLXNpbXBsZS1hbGVydCI7CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICJDdXBvbkNyZWF0ZVZpZXciLAogIGNvbXBvbmVudHM6IHsKICAgIC8vIEN1cG9uQ3JlYXRlT3JFZGl0SW1hZ2VzLAogICAgQ3Vwb25DcmVhdGVPckVkaXRJbmZvOiBDdXBvbkNyZWF0ZU9yRWRpdEluZm8KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0c1NlcnZpY2U6IG5ldyBwcm9kdWN0c1NlcnZpY2UoKSwKICAgICAgY3Vwb25TZXJ2aWNlOiBuZXcgY3Vwb25TZXJ2aWNlKCksCiAgICAgIG9wZW5TdGVwVHdvOiBmYWxzZSwKICAgICAgaGFzQ3JlYXRlZFByb2R1Y3Q6IGZhbHNlLAogICAgICBkaXNhYmxlQ3JlYXRlT3JFZGl0SW5mbzogZmFsc2UsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGlzTG9hZGluZ0ltYWdlczogZmFsc2UsCiAgICAgIGNyZWF0ZWRQcm9kdWN0R3VpZDogJycsCiAgICAgIGNyZWF0ZWRQcm9kdWN0OiB1bmRlZmluZWQKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNTZXJ2aWNlOiBmdW5jdGlvbiBpc1NlcnZpY2UoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMudHlwZSA9PT0gJ3NlcnZpY28nOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYmFja1RvSW5mbzogZnVuY3Rpb24gYmFja1RvSW5mbygpIHsKICAgICAgdGhpcy5kaXNhYmxlQ3JlYXRlT3JFZGl0SW5mbyA9IGZhbHNlOwogICAgICB0aGlzLnNjcm9sbFRvU3RlcCgxKTsKICAgIH0sCiAgICBjcmVhdGVPclVwZGF0ZUN1cG9uOiBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUN1cG9uKGluZm8pIHsKICAgICAgdGhpcy5jcmVhdGVDdXBvbihpbmZvKTsKICAgIH0sCiAgICBjcmVhdGVDdXBvbjogZnVuY3Rpb24gY3JlYXRlQ3Vwb24oY3Vwb24pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJjcmVhdGluZyBjdXBvbiIsIGN1cG9uKTsKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmN1cG9uU2VydmljZS5hZGRDdXBvbihjdXBvbik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXNwb25zZSBjcmVhdGUgY3Vwb24iLCByZXNwb25zZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSBfY29udGV4dC50MCA9PT0gMjAwID8gMTAgOiBfY29udGV4dC50MCA9PT0gMjAxID8gMTMgOiBfY29udGV4dC50MCA9PT0gNTAwID8gMTYgOiAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX3RoaXMudG9hc3RNZXNzYWdlKCJzdWNjZXNzIiwgIkNyaWFkbyBjb20gc3VjZXNzbyEiKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLmJhY2soKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDE4KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF90aGlzLnRvYXN0TWVzc2FnZSgic3VjY2VzcyIsICJDcmlhZG8gY29tIHN1Y2Vzc28hIik7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5iYWNrKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgiYnJlYWsiLCAxOCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfdGhpcy50b2FzdE1lc3NhZ2UoImVycm9yIiwgIkFjb250ZWNldSB1bSBlcnJvLCB0ZW50ZSBub3ZhbWVudGUiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDE4KTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIwOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBjcmVhdGUgY3Vwb24iLCBfY29udGV4dC50MSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgMjBdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHRvYXN0TWVzc2FnZTogZnVuY3Rpb24gdG9hc3RNZXNzYWdlKHR5cGUsIHRpdGxlKSB7CiAgICAgIFZ1ZVNpbXBsZUFsZXJ0LmZpcmUoewogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgIG9uT3BlbjogZnVuY3Rpb24gb25PcGVuKHRvYXN0KSB7CiAgICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgU3dhbC5zdG9wVGltZXIpLCB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgU3dhbC5yZXN1bWVUaW1lcik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzY3JvbGxUb1N0ZXA6IGZ1bmN0aW9uIHNjcm9sbFRvU3RlcChzdGVwKSB7CiAgICAgIHN3aXRjaCAoc3RlcCkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIHZhciBpbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZS1vci1lZGl0LWluZm8nKTsKICAgICAgICAgIGlmICghaW5mbykgYnJlYWs7CiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgICAgICBiZWhhdmlvcjogInNtb290aCIsCiAgICAgICAgICAgIHRvcDogaW5mby5vZmZzZXRUb3AKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHZhciBpbWFnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlLW9yLWVkaXQtaW1hZ2VzJyk7CiAgICAgICAgICBpZiAoIWltYWdlcykgYnJlYWs7CiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgICAgICBiZWhhdmlvcjogInNtb290aCIsCiAgICAgICAgICAgIHRvcDogaW1hZ2VzLm9mZnNldFRvcAogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/views/Cupon/CuponCreateView.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport CuponCreateOrEditInfo from \"@/views/Cupon/CuponCreateOrEditInfo.vue\";\n// import ProductCreateOrEditImages from \"@/views/Product/ProductCreateOrEditImages.vue\";\n\nimport productsService from \"@/services/products.service\";\nimport cuponService from '@/services/cupon.service';\n\nimport Swal, { SweetAlertType } from \"sweetalert2\";\nimport VueSimpleAlert from \"vue-simple-alert\";\n\nexport default Vue.extend({\n  name: \"CuponCreateView\",\n  components: {\n    // CuponCreateOrEditImages,\n    CuponCreateOrEditInfo,\n  },\n\n  data() {\n    return {\n      productsService: new productsService(),\n      cuponService: new cuponService(),\n\n      openStepTwo: false,\n\n      hasCreatedProduct: false,\n      disableCreateOrEditInfo: false,\n\n      isLoading: false,\n      isLoadingImages: false,\n\n      createdProductGuid: '',\n      createdProduct: undefined,\n    }\n  },\n\n  computed: {\n    isService(): boolean {\n      return this.$route.params.type === 'servico';\n    }\n  },\n\n  methods: {\n    backToInfo() {\n      this.disableCreateOrEditInfo = false;\n      this.scrollToStep(1);\n    },\n\n    createOrUpdateCupon(info) {\n      this.createCupon(info);\n    },\n\n    async createCupon(cupon){\n      console.log(\"creating cupon\", cupon)\n      this.isLoading = true;\n      try {\n        const response = await this.cuponService.addCupon(cupon);\n        console.log(\"response create cupon\", response)\n        switch (response.status) {\n          case 200:\n            this.toastMessage(\"success\", \"Criado com sucesso!\");\n            this.$router.back();\n            break;\n          case 201:\n            this.toastMessage(\"success\", \"Criado com sucesso!\");\n            this.$router.back();\n            break;  \n          case 500:\n            this.toastMessage(\"error\", \"Aconteceu um erro, tente novamente\");\n            break;    \n        }\n      }catch(e){\n        console.log(\"error create cupon\", e)\n      }\n      this.isLoading = false;\n    },\n\n    toastMessage(type: SweetAlertType, title: string) {\n      VueSimpleAlert.fire({\n        type,\n        title,\n        toast: true,\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 3000,\n        onOpen: (toast) => {\n          toast.addEventListener(\"mouseenter\", Swal.stopTimer),\n            toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n        },\n      });\n    },\n\n    scrollToStep(step) {\n      switch (step) {\n        case 1:\n          const info = document.getElementById('create-or-edit-info');\n          if (!info) break;\n          window.scrollTo({\n            behavior: \"smooth\",\n            top: info.offsetTop,\n          });\n          break;\n        case 2:\n          const images = document.getElementById('create-or-edit-images');\n          if (!images) break;\n          window.scrollTo({\n            behavior: \"smooth\",\n            top: images.offsetTop,\n          });\n          break;\n        default:\n          break;\n      }\n    }\n  }\n});\n"],"sourceRoot":""}]}