{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/thread-loader/dist/cjs.js!/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js!/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js??ref--13-3!/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/views/Product/ProductEditView.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/views/Product/ProductEditView.vue","mtime":1673321154842},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1673370377290},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxpbmUvR2l0SHViL2FkbWluLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgUHJvZHVjdENyZWF0ZU9yRWRpdEluZm8gZnJvbSAiQC92aWV3cy9Qcm9kdWN0L1Byb2R1Y3RDcmVhdGVPckVkaXRJbmZvLnZ1ZSI7CmltcG9ydCBQcm9kdWN0Q3JlYXRlT3JFZGl0SW1hZ2VzIGZyb20gIkAvdmlld3MvUHJvZHVjdC9Qcm9kdWN0Q3JlYXRlT3JFZGl0SW1hZ2VzLnZ1ZSI7CmltcG9ydCBwcm9kdWN0c1NlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9wcm9kdWN0cy5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogIlByb2R1Y3RFZGl0VmlldyIsCiAgY29tcG9uZW50czogewogICAgUHJvZHVjdENyZWF0ZU9yRWRpdEltYWdlczogUHJvZHVjdENyZWF0ZU9yRWRpdEltYWdlcywKICAgIFByb2R1Y3RDcmVhdGVPckVkaXRJbmZvOiBQcm9kdWN0Q3JlYXRlT3JFZGl0SW5mbwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3Q6IG51bGwsCiAgICAgIHByb2R1Y3RzU2VydmljZTogbmV3IHByb2R1Y3RzU2VydmljZSgpLAogICAgICBpc0xvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzU2VydmljZTogZnVuY3Rpb24gaXNTZXJ2aWNlKCkgewogICAgICBpZiAoIXRoaXMucHJvZHVjdCkgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gdGhpcy5wcm9kdWN0LnJlZ2lzdGVyX3R5cGUgPT09ICdTZXJ2aWNlJzsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0UHJvZHVjdCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvZHVjdDogZnVuY3Rpb24gZ2V0UHJvZHVjdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMiRwcm9kdWN0LCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5wcm9kdWN0c1NlcnZpY2UuZ2V0UHJvZHVjdERldGFpbChfdGhpczIuJHJvdXRlLnBhcmFtcy5wcm9kdWN0R3VpZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczIkcHJvZHVjdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfdGhpczIkcHJvZHVjdC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyLnByb2R1Y3QgPSBkYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlUHJvZHVjdDogZnVuY3Rpb24gdXBkYXRlUHJvZHVjdChkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF90aGlzMyRwcm9kdWN0LCBlcnJvck1lc3NhZ2U7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMucHJvZHVjdHNTZXJ2aWNlLmVkaXRQcm9kdWN0TmV3KGRhdGEsIChfdGhpczMkcHJvZHVjdCA9IF90aGlzMy5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfdGhpczMkcHJvZHVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMzJHByb2R1Y3QuZ3VpZCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ0Vycm8gYW8gYXR1YWxpemFyIHByb2R1dG8nOwoKICAgICAgICAgICAgICAgIGlmIChfY29udGV4dDMudDAucmVzcG9uc2UgJiYgX2NvbnRleHQzLnQwLnJlc3BvbnNlLnN0YXR1cyA9PT0gMzA0KSB7CiAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdKw6EgZXhpc3RlIHVtIHByb2R1dG8gY29tIGVzc2Ugbm9tZSEnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRhbGVydChlcnJvck1lc3NhZ2UsICcnLCAnZXJyb3InLCB7CiAgICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQzLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF90aGlzMy5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/views/Product/ProductEditView.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;AA2CA,OAAO,GAAP,MAAgB,KAAhB;AAEA,OAAO,uBAAP,MAAoC,6CAApC;AACA,OAAO,yBAAP,MAAsC,+CAAtC;AAEA,OAAO,eAAP,MAA4B,6BAA5B;AAQA,eAAe,GAAG,CAAC,MAAJ,CAAW;AACxB,EAAA,IAAI,EAAE,iBADkB;AAGxB,EAAA,UAAU,EAAE;AACV,IAAA,yBAAyB,EAAzB,yBADU;AAEV,IAAA,uBAAuB,EAAvB;AAFU,GAHY;AAQxB,EAAA,IARwB,kBAQpB;AACF,WAAO;AACL,MAAA,OAAO,EAAE,IADJ;AAEL,MAAA,eAAe,EAAE,IAAI,eAAJ,EAFZ;AAGL,MAAA,SAAS,EAAE;AAHN,KAAP;AAKD,GAduB;AAgBxB,EAAA,QAAQ,EAAE;AACR,IAAA,SADQ,uBACC;AACP,UAAI,CAAC,KAAK,OAAV,EAAmB,OAAO,KAAP;AACnB,aAAO,KAAK,OAAL,CAAa,aAAb,KAA+B,SAAtC;AACD;AAJO,GAhBc;AAuBlB,EAAA,OAvBkB,qBAuBX;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACL,KAAI,CAAC,UAAL,EADK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZ,GAzBuB;AA2BxB,EAAA,OAAO,EAAE;AACD,IAAA,UADC,wBACS;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAES,MAAI,CAAC,eAAL,CAAqB,gBAArB,CAAsC,MAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,WAAzD,CAFT;;AAAA;AAAA;AAEL,gBAAA,IAFK,yBAEL,IAFK;AAGZ,gBAAA,MAAI,CAAC,OAAL,GAAe,IAAf;AAHY;AAAA;;AAAA;AAAA;AAAA;AAKZ,gBAAA,OAAO,CAAC,KAAR;;AALY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOf,KARM;AAUD,IAAA,aAVC,yBAUa,IAVb,EAUiB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtB,gBAAA,MAAI,CAAC,SAAL,GAAiB,IAAjB;AADsB;AAAA;AAAA,uBAGd,MAAI,CAAC,eAAL,CAAqB,cAArB,CAAoC,IAApC,oBAA0C,MAAI,CAAC,OAA/C,mDAA0C,eAAc,IAAxD,CAHc;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKhB,gBAAA,YALgB,GAKD,2BALC;;AAOpB,oBAAI,aAAE,QAAF,IAAc,aAAE,QAAF,CAAW,MAAX,KAAsB,GAAxC,EAA6C;AAC3C,kBAAA,YAAY,GAAG,qCAAf;AACD;;AATmB;AAAA,uBAWd,MAAI,CAAC,MAAL,CAAY,YAAZ,EAA0B,EAA1B,EAA8B,OAA9B,EAAuC;AAC3C,kBAAA,KAAK,EAAE,IADoC;AAE3C,kBAAA,QAAQ,EAAE,SAFiC;AAG3C,kBAAA,iBAAiB,EAAE,KAHwB;AAI3C,kBAAA,KAAK,EAAE;AAJoC,iBAAvC,CAXc;;AAAA;AAkBpB,gBAAA,OAAO,CAAC,KAAR;;AAlBoB;AAoBtB,gBAAA,MAAI,CAAC,SAAL,GAAiB,KAAjB;;AApBsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBvB;AA/BM;AA3Be,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport ProductCreateOrEditInfo from \"@/views/Product/ProductCreateOrEditInfo.vue\";\nimport ProductCreateOrEditImages from \"@/views/Product/ProductCreateOrEditImages.vue\";\n\nimport productsService from \"@/services/products.service\";\n\ninterface IData {\n  product: any;\n  productsService: productsService;\n  isLoading: boolean;\n}\n\nexport default Vue.extend({\n  name: \"ProductEditView\",\n\n  components: {\n    ProductCreateOrEditImages,\n    ProductCreateOrEditInfo,\n  },\n\n  data(): IData {\n    return {\n      product: null,\n      productsService: new productsService(),\n      isLoading: false,\n    }\n  },\n\n  computed: {\n    isService(): boolean {\n      if (!this.product) return false;\n      return this.product.register_type === 'Service';\n    }\n  },\n\n  async created() {\n    await this.getProduct();\n  },\n\n  methods: {\n    async getProduct() {\n      try {\n        const {data} = await this.productsService.getProductDetail(this.$route.params.productGuid);\n        this.product = data;\n      } catch (e) {\n        console.error(e);\n      }\n    },\n\n    async updateProduct(data) {\n      this.isLoading = true;\n      try {\n        await this.productsService.editProductNew(data, this.product?.guid);\n      } catch (e) {\n        let errorMessage = 'Erro ao atualizar produto';\n\n        if (e.response && e.response.status === 304) {\n          errorMessage = 'Já existe um produto com esse nome!';\n        }\n\n        await this.$alert(errorMessage, '', 'error', {\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n        });\n\n        console.error(e);\n      }\n      this.isLoading = false;\n    },\n  }\n});\n"],"sourceRoot":""}]}