{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js!/home/aline/AstaPrecifique/node_modules/ts-loader/index.js??ref--13-2!/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/components/product-modal/product-image-edit/ProductImageEdit.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/AstaPrecifique/src/components/product-modal/product-image-edit/ProductImageEdit.vue","mtime":1696439584633},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2FsaW5lL0FzdGFQcmVjaWZpcXVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9ob21lL2FsaW5lL0FzdGFQcmVjaWZpcXVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBkcmFnZ2FibGUgZnJvbSAidnVlZHJhZ2dhYmxlIjsKaW1wb3J0IHByb2R1Y3RzU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL3Byb2R1Y3RzLnNlcnZpY2UiOwoKdmFyIFByb2R1Y3RJbWFnZUVkaXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoUHJvZHVjdEltYWdlRWRpdCwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUHJvZHVjdEltYWdlRWRpdCk7CgogIGZ1bmN0aW9uIFByb2R1Y3RJbWFnZUVkaXQoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb2R1Y3RJbWFnZUVkaXQpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5pbWFnZXNMaXN0ID0gX3RoaXMucHJvcEltYWdlc0xpc3Q7CiAgICBfdGhpcy5zaG93RWRpdEltYWdlID0gX3RoaXMucHJvcFNob3dFZGl0SW1hZ2U7CiAgICBfdGhpcy5zaG93RWRpdFByb2R1Y3QgPSBfdGhpcy5wcm9wU2hvd0VkaXRQcm9kdWN0OwogICAgX3RoaXMucHJvZHVjdEd1aWQgPSBfdGhpcy5wcm9wUHJvZHVjdEd1aWQ7CiAgICBfdGhpcy5pbmRleEltYWdlcyA9IF90aGlzLnByb3BJbmRleEltYWdlczsKICAgIF90aGlzLnJlZ2lzdGVyVHlwZSA9IF90aGlzLnByb3BSZWdpc3RlclR5cGU7CiAgICBfdGhpcy5wcmV2aW91c0ltYWdlcyA9IFtdOwogICAgX3RoaXMuY3VycmVudEltYWdlcyA9IFtdOwogICAgX3RoaXMucmVvcmRlckltYWdlID0gW107CiAgICBfdGhpcy5kcmFnID0gZmFsc2U7CiAgICBfdGhpcy5kZWxldGVJbWFnZSA9IHt9OwogICAgX3RoaXMuY2FyZFdpZHRoID0gIjAiOwogICAgX3RoaXMuY2FyZEhlaWdodCA9ICI4OHB4IjsKICAgIF90aGlzLmFycmF5TGlzdCA9IFtdOwogICAgX3RoaXMuaGFzTW92ZSA9IGZhbHNlOwogICAgX3RoaXMuaGFzRGVsZXRlID0gZmFsc2U7CiAgICBfdGhpcy50ZXh0QnRuTW92ZSA9ICJjYW5jZWxhciI7CiAgICBfdGhpcy50ZXh0QnRuUmVtb3ZlID0gImNhbmNlbGFyIjsKICAgIF90aGlzLnByb2R1Y3RTZXJ2aWNlID0gbmV3IHByb2R1Y3RzU2VydmljZSgpOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFByb2R1Y3RJbWFnZUVkaXQsIFt7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAvLyB0aGlzLmNhcmRIZWlnaHQgPSBgJHt0aGlzLiRyZWZzLmNhcmRCb2R5WzBdLmNsaWVudEhlaWdodH1weGA7CiAgICAgIGlmICh0aGlzLiRyZWZzLmNhcmRCb2R5ICYmIHRoaXMuJHJlZnMuY2FyZEltZykgewogICAgICAgIHRoaXMuY2FyZFdpZHRoID0gIiIuY29uY2F0KHRoaXMuJHJlZnMuY2FyZEJvZHlbMF0uY2xpZW50V2lkdGggLSB0aGlzLiRyZWZzLmNhcmRJbWdbMF0uY2xpZW50V2lkdGgsICJweCIpOwogICAgICB9CgogICAgICB0aGlzLnNldEFycmF5KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0QXJyYXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFycmF5KCkgewogICAgICB0aGlzLmFycmF5TGlzdCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0IC0gdGhpcy5pbWFnZXNMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5hcnJheUxpc3QucHVzaCgiIik7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9zZUVkaXRJbWFnZU1vZGFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZUVkaXRJbWFnZU1vZGFsKCkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZUVkaXRJbWFnZU1vZGFsIiwgdHJ1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJldmlvdXNSZW9yZGVySW1hZ2VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwcmV2aW91c1Jlb3JkZXJJbWFnZXMoaW1hZ2VzTGlzdCkgewogICAgICB0aGlzLnNldE1zZ01vdmUoIm9yZGVuYWRvIik7CiAgICAgIHRoaXMucHJldmlvdXNJbWFnZXMgPSBpbWFnZXNMaXN0OwogICAgfQogIH0sIHsKICAgIGtleTogImN1cnJlbnRSZW9yZGVySW1hZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGN1cnJlbnRSZW9yZGVySW1hZ2UoaW1hZ2VzTGlzdCkgewogICAgICB0aGlzLnNldE1zZ01vdmUoIm9yZGVuYWRvIik7CiAgICAgIGltYWdlc0xpc3QubWFwKGZ1bmN0aW9uIChpbWFnZSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gaW1hZ2UucG9zaXRpb24gPSBpbmRleCArIDE7CiAgICAgIH0pOwogICAgICB0aGlzLmN1cnJlbnRJbWFnZXMgPSBpbWFnZXNMaXN0OwogICAgICB0aGlzLiRlbWl0KCJjdXJyZW50UmVvcmRlckltYWdlIiwgdGhpcy5jdXJyZW50SW1hZ2VzKTsKICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbkltYWdlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlSW1hZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZW1vdmVJbWFnZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwb3NpdGlvbikgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuc2V0TXNnUmVtb3ZlKCJyZW1vdmlkbyIpOwogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgicmVtb3ZlSW1hZ2UiLCBwb3NpdGlvbik7CiAgICAgICAgICAgICAgICB0aGlzLnNldEFycmF5KCk7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTGlzdC5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zZXRSZW1vdmVJbWFnZSgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcmVtb3ZlSW1hZ2UoX3gpIHsKICAgICAgICByZXR1cm4gX3JlbW92ZUltYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZW1vdmVJbWFnZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInVwZGF0ZVBvc2l0aW9uSW1hZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGRhdGVQb3NpdGlvbkltYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEltYWdlcy5mb3JFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoaW1hZ2UsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZS5wb3NpdGlvbiAhPT0gX3RoaXMyLnByZXZpb3VzSW1hZ2VzW2luZGV4XS5wb3NpdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVvcmRlckltYWdlLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGltYWdlLnBvc2l0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzOiBfdGhpczIucHJldmlvdXNJbWFnZXNbaW5kZXhdLnBvc2l0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MiwgX3gzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy5yZW9yZGVySW1hZ2UubGVuZ3RoICYmIHRoaXMuc2hvd0VkaXRQcm9kdWN0KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RTZXJ2aWNlLnVwZGF0ZVBvc2l0aW9uSW1hZ2UoewogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5yZW9yZGVySW1hZ2VbMF0uY3VycmVudAogICAgICAgICAgICAgICAgfSwgdGhpcy5wcm9kdWN0R3VpZCwgdGhpcy5yZW9yZGVySW1hZ2VbMF0ucHJldmlvdXMpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbkltYWdlKCkgewogICAgICAgIHJldHVybiBfdXBkYXRlUG9zaXRpb25JbWFnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXBkYXRlUG9zaXRpb25JbWFnZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogIm9wZW5JbnB1dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbklucHV0KHBvc2l0aW9uKSB7CiAgICAgIGlmICghdGhpcy5oYXNNb3ZlICYmICF0aGlzLmhhc0RlbGV0ZSkgewogICAgICAgIHRoaXMuJGVtaXQoIm9wZW5JbnB1dCIsIHBvc2l0aW9uLCBmYWxzZSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb3ZlU3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVTdGFydCgpIHsKICAgICAgdGhpcy5kcmFnID0gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJlZGl0SW1hZ2VNb2RhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZWRpdEltYWdlTW9kYWwocG9zaXRpb24sIGVkaXQpIHsKICAgICAgdGhpcy4kZW1pdCgib3BlbklucHV0IiwgcG9zaXRpb24sIGVkaXQpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFJlbW92ZUltYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRSZW1vdmVJbWFnZSgpIHsKICAgICAgdGhpcy5zZXRNc2dSZW1vdmUoImNhbmNlbGFyIik7CiAgICAgIHRoaXMuaGFzRGVsZXRlID0gIXRoaXMuaGFzRGVsZXRlOwogICAgICB0aGlzLmhhc01vdmUgPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRNb3ZlSW1hZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1vdmVJbWFnZSgpIHsKICAgICAgdGhpcy5zZXRNc2dNb3ZlKCJjYW5jZWxhciIpOwogICAgICB0aGlzLmhhc01vdmUgPSAhdGhpcy5oYXNNb3ZlOwogICAgICB0aGlzLmhhc0RlbGV0ZSA9IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogInNldE1zZ01vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1zZ01vdmUobXNnKSB7CiAgICAgIHRoaXMudGV4dEJ0bk1vdmUgPSBtc2c7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0TXNnUmVtb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRNc2dSZW1vdmUobXNnKSB7CiAgICAgIHRoaXMudGV4dEJ0blJlbW92ZSA9IG1zZzsKICAgIH0KICB9XSk7CgogIHJldHVybiBQcm9kdWN0SW1hZ2VFZGl0Owp9KFZ1ZSk7CgpfX2RlY29yYXRlKFtQcm9wKCldLCBQcm9kdWN0SW1hZ2VFZGl0LnByb3RvdHlwZSwgInByb3BJbWFnZXNMaXN0Iiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIFByb2R1Y3RJbWFnZUVkaXQucHJvdG90eXBlLCAicHJvcFNob3dFZGl0SW1hZ2UiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgUHJvZHVjdEltYWdlRWRpdC5wcm90b3R5cGUsICJwcm9wUHJvZHVjdEd1aWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgUHJvZHVjdEltYWdlRWRpdC5wcm90b3R5cGUsICJwcm9wU2hvd0VkaXRQcm9kdWN0Iiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIFByb2R1Y3RJbWFnZUVkaXQucHJvdG90eXBlLCAicHJvcENhblJlb3JkZXJJbWFnZXMiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgUHJvZHVjdEltYWdlRWRpdC5wcm90b3R5cGUsICJwcm9wSW5kZXhJbWFnZXMiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgUHJvZHVjdEltYWdlRWRpdC5wcm90b3R5cGUsICJwcm9wUmVnaXN0ZXJUeXBlIiwgdm9pZCAwKTsKClByb2R1Y3RJbWFnZUVkaXQgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlCiAgfSwKICBjb21wdXRlZDogewogICAgZHJhZ09wdGlvbnM6IGZ1bmN0aW9uIGRyYWdPcHRpb25zKCkgewogICAgICByZXR1cm4gewogICAgICAgIGFuaW1hdGlvbjogMjAwLAogICAgICAgIGdyb3VwOiAiZGVzY3JpcHRpb24iLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBnaG9zdENsYXNzOiAiZ2hvc3QiCiAgICAgIH07CiAgICB9CiAgfQp9KV0sIFByb2R1Y3RJbWFnZUVkaXQpOwpleHBvcnQgeyBQcm9kdWN0SW1hZ2VFZGl0IH07CmV4cG9ydCB7IFByb2R1Y3RJbWFnZUVkaXQgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/components/product-modal/product-image-edit/ProductImageEdit.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ImageURl } from \"@/models/product\";\nimport productsService from \"@/services/products.service\";\n\n@Component({\n  components: {\n    draggable,\n  },\n  computed: {\n    dragOptions() {\n      return {\n        animation: 200,\n        group: \"description\",\n        disabled: false,\n        ghostClass: \"ghost\",\n      };\n    },\n  },\n})\nexport class ProductImageEdit extends Vue {\n  @Prop() propImagesList!: ImageURl[];\n  @Prop() propShowEditImage!: boolean;\n  @Prop() propProductGuid!: string;\n  @Prop() propShowEditProduct!: boolean;\n  @Prop() propCanReorderImages!: boolean;\n  @Prop() propIndexImages!: number[];\n  @Prop() propRegisterType!: string;\n\n  public imagesList = this.propImagesList;\n  public showEditImage = this.propShowEditImage;\n  public showEditProduct = this.propShowEditProduct;\n  public productGuid = this.propProductGuid;\n  public indexImages = this.propIndexImages;\n  public registerType = this.propRegisterType;\n\n  public previousImages: ImageURl[] = [];\n  public currentImages: ImageURl[] = [];\n  public reorderImage: Array<{\n    current: number | undefined;\n    previous: number | undefined;\n  }> = [];\n\n  public drag: boolean = false;\n  public deleteImage: ImageURl = {};\n  public cardWidth: string = \"0\";\n  public cardHeight: string = \"88px\";\n  public arrayList: string[] = [];\n  public hasMove: boolean = false;\n  public hasDelete: boolean = false;\n  public textBtnMove: string = \"cancelar\";\n  public textBtnRemove: string = \"cancelar\";\n\n  private productService = new productsService();\n\n  mounted() {\n    // this.cardHeight = `${this.$refs.cardBody[0].clientHeight}px`;\n    if (this.$refs.cardBody && this.$refs.cardImg) {\n      this.cardWidth = `${\n        this.$refs.cardBody[0].clientWidth - this.$refs.cardImg[0].clientWidth\n      }px`;\n    }\n    this.setArray();\n  }\n\n  public setArray() {\n    this.arrayList = [];\n    for (let i = 0; i < 4 - this.imagesList.length; i++) {\n      this.arrayList.push(\"\");\n    }\n  }\n\n  public closeEditImageModal() {\n    this.$emit(\"closeEditImageModal\", true);\n  }\n\n  public previousReorderImages(imagesList: ImageURl[]) {\n    this.setMsgMove(\"ordenado\");\n    this.previousImages = imagesList;\n  }\n\n  public currentReorderImage(imagesList: ImageURl[]) {\n    this.setMsgMove(\"ordenado\");\n    imagesList.map((image, index) => (image.position = index + 1));\n    this.currentImages = imagesList;\n    this.$emit(\"currentReorderImage\", this.currentImages);\n    this.updatePositionImage();\n  }\n\n  public async removeImage(position: number) {\n    this.setMsgRemove(\"removido\");\n    this.$emit(\"removeImage\", position);\n    this.setArray();\n\n    if (this.imagesList.length === 1) {\n      this.setRemoveImage();\n    }\n  }\n\n  public async updatePositionImage() {\n    this.currentImages.forEach(async (image, index) => {\n      if (image.position !== this.previousImages[index].position) {\n        this.reorderImage.push({\n          current: image.position,\n          previous: this.previousImages[index].position,\n        });\n      }\n    });\n    if (this.reorderImage.length && this.showEditProduct) {\n      await this.productService.updatePositionImage(\n        { position: this.reorderImage[0].current },\n        this.productGuid,\n        this.reorderImage[0].previous\n      );\n    }\n  }\n\n  public openInput(position: number) {\n    if (!this.hasMove && !this.hasDelete) {\n      this.$emit(\"openInput\", position, false);\n    }\n  }\n\n  public moveStart() {\n    this.drag = true;\n  }\n\n  public editImageModal(position: number, edit: boolean) {\n    this.$emit(\"openInput\", position, edit);\n  }\n\n  public setRemoveImage() {\n    this.setMsgRemove(\"cancelar\");\n    this.hasDelete = !this.hasDelete;\n    this.hasMove = false;\n  }\n\n  public setMoveImage() {\n    this.setMsgMove(\"cancelar\");\n    this.hasMove = !this.hasMove;\n    this.hasDelete = false;\n  }\n\n  public setMsgMove(msg: string) {\n    this.textBtnMove = msg;\n  }\n\n  public setMsgRemove(msg: string) {\n    this.textBtnRemove = msg;\n  }\n}\n\nexport { ProductImageEdit as default };\n"],"sourceRoot":""}]}