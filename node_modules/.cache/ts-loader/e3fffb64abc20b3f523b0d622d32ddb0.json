{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js!/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js??ref--13-2!/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/vitrine-modal/vitrine-modal.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/vitrine-modal/vitrine-modal.vue","mtime":1696439584693},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHZpdHJpbmVJbWFnZUltcG9ydCBmcm9tICcuL3ZpdHJpbmUtaW1hZ2UtaW1wb3J0LnZ1ZSc7CmltcG9ydCBWaXRyaW5lSW1hZ2VDcm9wcGVyIGZyb20gJy4vdml0cmluZS1pbWFnZS1jcm9wcGVyLnZ1ZSc7CmltcG9ydCBWaXRyaW5lSW1hZ2VMb2FkaW5nU2NyZWVuIGZyb20gJy4vdml0cmluZS1pbWFnZS1sb2FkaW5nLXNjcmVlbi52dWUnOwppbXBvcnQgdXNlclNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy91c2VyLnNlcnZpY2UnOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBjb21wb25lbnRzOiB7CiAgICB2aXRyaW5lSW1hZ2VJbXBvcnQ6IHZpdHJpbmVJbWFnZUltcG9ydCwKICAgIFZpdHJpbmVJbWFnZUNyb3BwZXI6IFZpdHJpbmVJbWFnZUNyb3BwZXIsCiAgICBWaXRyaW5lSW1hZ2VMb2FkaW5nU2NyZWVuOiBWaXRyaW5lSW1hZ2VMb2FkaW5nU2NyZWVuCiAgfSwKICBuYW1lOiAnVml0cmluZU1vZGFsJywKICBwcm9wczogewogICAgc2hvd1ZpdHJpbmVNb2RhbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlVG9Dcm9wOiAnJywKICAgICAgc2hvd0ltYWdlQ3JvcHBlcjogZmFsc2UsCiAgICAgIHNob3dMb2FkaW5nU2NyZWVuOiBmYWxzZSwKICAgICAgaW1hZ2U6IHt9LAogICAgICB1c2VyU2VydmljZTogbmV3IHVzZXJTZXJ2aWNlKCkKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTaG93SW1hZ2VDcm9wcGVyOiBmdW5jdGlvbiBoYW5kbGVTaG93SW1hZ2VDcm9wcGVyKCkgewogICAgICBpZiAoIXRoaXMuaW1hZ2VUb0Nyb3ApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuc2hvd0ltYWdlQ3JvcHBlciA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlU2V0SW1hZ2VUb0Nyb3A6IGZ1bmN0aW9uIGhhbmRsZVNldEltYWdlVG9Dcm9wKGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coewogICAgICAgIGRhdGE6IGRhdGEKICAgICAgfSk7CiAgICAgIHRoaXMuaW1hZ2VUb0Nyb3AgPSBkYXRhOwogICAgfSwKICAgIGhhbmRsZUltYWdlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVJbWFnZVVwbG9hZChfcmVmKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfcmVmMiwgbWVzc2FnZSwgaW1hZ2VEYXRhLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksIG1lc3NhZ2UgPSBfcmVmMlswXSwgaW1hZ2VEYXRhID0gX3JlZjJbMV07CgogICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZSAhPT0gJ3N1Y2Nlc3MnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwogICAgICAgICAgICAgICAgX3RoaXMuaW1hZ2UgPSBpbWFnZURhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZ1NjcmVlbiA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy51c2VyU2VydmljZS51cGxvYWRWaXRyaW5lKF90aGlzLmltYWdlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gTWF0aC5yb3VuZChldmVudC5sb2FkZWQgKiAxMDAgLyBldmVudC50b3RhbCk7CiAgICAgICAgICAgICAgICAgIF90aGlzLmltYWdlLnVwbG9hZFByb2dyZXNzID0gcHJvZ3Jlc3M7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLnNob3dJbWFnZUNyb3BwZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzLnNob3dMb2FkaW5nU2NyZWVuID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ3N1Y2Nlc3NDbG9zZU1vZGFsJyk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dC50MAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzMsIDE0XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/vitrine-modal/vitrine-modal.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;AAuBA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,kBAAP,MAA+B,4BAA/B;AACA,OAAO,mBAAP,MAAgC,6BAAhC;AACA,OAAO,yBAAP,MAAsC,oCAAtC;AACA,OAAO,WAAP,MAAwB,yBAAxB;AACA,eAAe,GAAG,CAAC,MAAJ,CAAW;AAC1B,EAAA,UAAU,EAAE;AAAE,IAAA,kBAAkB,EAAlB,kBAAF;AAAsB,IAAA,mBAAmB,EAAnB,mBAAtB;AAA2C,IAAA,yBAAyB,EAAzB;AAA3C,GADc;AAExB,EAAA,IAAI,EAAE,cAFkB;AAGxB,EAAA,KAAK,EAAE;AACL,IAAA,gBAAgB,EAAE;AAChB,MAAA,IAAI,EAAE,OADU;AAEhB,MAAA,QAAQ,EAAE;AAFM;AADb,GAHiB;AASxB,EAAA,IAAI,EAAE;AAAA,WAAO;AACX,MAAA,WAAW,EAAE,EADF;AAEX,MAAA,gBAAgB,EAAE,KAFP;AAGX,MAAA,iBAAiB,EAAE,KAHR;AAIX,MAAA,KAAK,EAAE,EAJI;AAKX,MAAA,WAAW,EAAE,IAAI,WAAJ;AALF,KAAP;AAAA,GATkB;AAgBxB,EAAA,OAAO,EAAE;AACP,IAAA,sBADO,oCACe;AACpB,UAAI,CAAC,KAAK,WAAV,EAAuB;AACrB;AACD;;AACD,WAAK,gBAAL,GAAwB,IAAxB;AACD,KANM;AAOP,IAAA,oBAPO,gCAOc,IAPd,EAOkB;AACvB,MAAA,OAAO,CAAC,GAAR,CAAY;AAAC,QAAA,IAAI,EAAJ;AAAD,OAAZ;AACA,WAAK,WAAL,GAAmB,IAAnB;AACD,KAVM;AAWD,IAAA,iBAXC,mCAWqC;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,iDAAnB,OAAmB,aAAV,SAAU;;AAAA,sBACtC,OAAO,KAAK,SAD0B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAKxC,gBAAA,KAAI,CAAC,KAAL,GAAa,SAAb;AAEA,gBAAA,KAAI,CAAC,iBAAL,GAAyB,IAAzB;AAPwC;AAAA,uBAQtB,KAAI,CAAC,WAAL,CAAiB,aAAjB,CAA+B,KAAI,CAAC,KAApC,EAA2C,UAAC,KAAD,EAAU;AACrE,sBAAI,QAAQ,GAAW,IAAI,CAAC,KAAL,CACpB,KAAK,CAAC,MAAN,GAAe,GAAhB,GAAuB,KAAK,CAAC,KADR,CAAvB;AAGA,kBAAA,KAAI,CAAC,KAAL,CAAW,cAAX,GAA4B,QAA5B;AACD,iBALiB,CARsB;;AAAA;AAQlC,gBAAA,GARkC;AAcxC,gBAAA,KAAI,CAAC,gBAAL,GAAwB,KAAxB;AACA,gBAAA,KAAI,CAAC,iBAAL,GAAyB,KAAzB;;AACA,gBAAA,KAAI,CAAC,KAAL,CAAW,mBAAX;;AAhBwC;AAAA;;AAAA;AAAA;AAAA;AAkBxC,gBAAA,OAAO,CAAC,KAAR,CAAc;AAAE,kBAAA,KAAK;AAAP,iBAAd;;AAlBwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoB3C;AA/BM;AAhBe,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport vitrineImageImport from './vitrine-image-import.vue' \nimport VitrineImageCropper from './vitrine-image-cropper.vue'\nimport VitrineImageLoadingScreen from './vitrine-image-loading-screen.vue'\nimport userService from '@/services/user.service'\nexport default Vue.extend({\ncomponents: { vitrineImageImport, VitrineImageCropper, VitrineImageLoadingScreen },\n  name: 'VitrineModal',\n  props: {\n    showVitrineModal: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data: () => ({\n    imageToCrop: '',\n    showImageCropper: false,\n    showLoadingScreen: false,\n    image: {} as any,\n    userService: new userService()\n  }),\n  methods: {\n    handleShowImageCropper() {\n      if (!this.imageToCrop) {\n        return\n      }\n      this.showImageCropper = true\n    },\n    handleSetImageToCrop(data) {\n      console.log({data})\n      this.imageToCrop = data\n    },\n    async handleImageUpload([message, imageData]) {\n      if (message !== 'success') {\n        return\n      }\n      try {\n        this.image = imageData\n\n        this.showLoadingScreen = true\n        const res = await this.userService.uploadVitrine(this.image, (event) => {\n          let progress: number = Math.round(\n            (event.loaded * 100) / event.total\n          );\n          this.image.uploadProgress = progress;\n        })\n        this.showImageCropper = false\n        this.showLoadingScreen = false\n        this.$emit('successCloseModal')\n      } catch (error) {\n        console.error({ error })\n      }\n    }\n  }\n})\n\n"],"sourceRoot":""}]}