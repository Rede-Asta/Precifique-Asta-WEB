{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js!/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js??ref--13-2!/home/aline/GitHub/admin-frontend/src/components/help-button/help-button.component.ts","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/help-button/help-button.component.ts","mtime":1690565326269},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9hbGluZS9HaXRIdWIvYWRtaW4tZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9ob21lL2FsaW5lL0dpdEh1Yi9hZG1pbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgSGVscFNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9oZWxwLnNlcnZpY2UiOwoKdmFyIEhlbHBCdXR0b24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoSGVscEJ1dHRvbiwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSGVscEJ1dHRvbik7CgogIGZ1bmN0aW9uIEhlbHBCdXR0b24oKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlbHBCdXR0b24pOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5vcGVuUG9wdXAgPSBmYWxzZTsKICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhIZWxwQnV0dG9uLCBbewogICAga2V5OiAib3BlbkhlbHAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5IZWxwKCkgewogICAgICBpZiAodGhpcy5jdXJyZW50Q2hhdGJvdCkgewogICAgICAgIHRoaXMub3BlblBvcHVwID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm9wZW5GcmVzaHdvcmtzV2lkZ2V0KCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcGVuRnJlc2h3b3Jrc1dpZGdldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkZyZXNod29ya3NXaWRnZXQoKSB7CiAgICAgIHdpbmRvdy5GcmVzaHdvcmtzV2lkZ2V0KCdvcGVuJyk7CiAgICAgIHRoaXMub3BlblBvcHVwID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAib3BlblplbmRlc2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5aZW5kZXNrKCkgewogICAgICB0aGlzLiR6ZW5kZXNrLmxvYWQoIjE0ZTZjMDFlLWFlMmMtNGUyYy04Yzc2LWQ0NjFjMDE0NzljOCIpOwogICAgICB0aGlzLiR6ZW5kZXNrLnpFKCdtZXNzZW5nZXInLCAnb3BlbicpOwogICAgfQogIH0sIHsKICAgIGtleTogInNlbmRDaGF0Ym90RGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NlbmRDaGF0Ym90RGF0YSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX0pTT04kcGFyc2UsIG1vYmlsZSwgaGVscFNlcnZpY2U7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9KU09OJHBhcnNlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9nZ2VkVXNlcicpIHx8ICd7fScpLCBtb2JpbGUgPSBfSlNPTiRwYXJzZS5tb2JpbGU7CiAgICAgICAgICAgICAgICBoZWxwU2VydmljZSA9IG5ldyBIZWxwU2VydmljZSgpOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaGVscFNlcnZpY2Uuc2VuZENoYXRib3REYXRhKHsKICAgICAgICAgICAgICAgICAgbW9iaWxlOiBtb2JpbGUsCiAgICAgICAgICAgICAgICAgIGNoYXRib3Q6IHRoaXMuY3VycmVudENoYXRib3QuaWRfYm90CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgdGhpcy4kYWxlcnQoJ01lbnNhZ2VtIGVudmlhZGEgcG9yIFdoYXRzQXBwJywgJycsICdzdWNjZXNzJywgewogICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgICB0aGlzLiRhbGVydCgnRXJybyBhbyBlbnZpYXIgbWVuc2FnZW0gcG9yIFdoYXRzQXBwJywgJycsICdlcnJvcicsIHsKICAgICAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdGltZXI6IDMwMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLm9wZW5Qb3B1cCA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1szLCA5XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzZW5kQ2hhdGJvdERhdGEoKSB7CiAgICAgICAgcmV0dXJuIF9zZW5kQ2hhdGJvdERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNlbmRDaGF0Ym90RGF0YTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNoYXRib3RzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY2hhdGJvdHM7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3VycmVudENoYXRib3QiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmNoYXRib3RJZCB8fCAhdGhpcy5jaGF0Ym90cyB8fCAhdGhpcy5jaGF0Ym90cy5saXN0KSByZXR1cm4gbnVsbDsKICAgICAgcmV0dXJuIHRoaXMuY2hhdGJvdHMubGlzdC5maW5kKGZ1bmN0aW9uIChjaGF0Ym90KSB7CiAgICAgICAgcmV0dXJuIGNoYXRib3QuaWQgPT09IF90aGlzMi5jaGF0Ym90SWQ7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNoYXRib3RUZXh0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICBpZiAoIXRoaXMuY2hhdGJvdElkIHx8ICF0aGlzLmNoYXRib3RzIHx8ICF0aGlzLmNoYXRib3RzLmxpc3QpIHJldHVybiBudWxsOwogICAgICByZXR1cm4gdGhpcy5jaGF0Ym90cy50ZXh0cy5kZWZhdWx0X2NoYXRib3RfdGV4dC5yZXBsYWNlKCckdGV4dCQnLCB0aGlzLmN1cnJlbnRDaGF0Ym90LnRleHQpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEhlbHBCdXR0b247Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIEhlbHBCdXR0b24ucHJvdG90eXBlLCAicG9zaXRpb24iLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgSGVscEJ1dHRvbi5wcm90b3R5cGUsICJzcGFjaW5nQm90dG9tIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIEhlbHBCdXR0b24ucHJvdG90eXBlLCAiY2hhdGJvdElkIiwgdm9pZCAwKTsKCkhlbHBCdXR0b24gPSBfX2RlY29yYXRlKFtDb21wb25lbnQoe30pXSwgSGVscEJ1dHRvbik7CmV4cG9ydCB7IEhlbHBCdXR0b24gfTs="},{"version":3,"sources":["/home/aline/GitHub/admin-frontend/src/components/help-button/help-button.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, Prop, Vue} from 'vue-property-decorator';\n\nimport HelpService from \"@/services/help.service\";\nimport VueSimpleAlert from \"vue-simple-alert\";\n\n// import zE from '@dansmaculotte/vue-zendesk';\n\n\ndeclare global {\n    interface Window {\n        FreshworksWidget(action: string);\n    }\n}\n\n@Component({})\nexport class HelpButton extends Vue {\n    @Prop() position!: string;\n    @Prop() spacingBottom!: boolean;\n    @Prop() chatbotId!: string;\n\n    public openPopup: boolean = false;\n    public loading: boolean = false;\n\n    public $zendesk: any;\n    public zE: any;\n\n\n    get chatbots() {\n        return this.$store.state.chatbots;\n    }\n\n    get currentChatbot(): any {\n        if (!this.chatbotId || !this.chatbots || !this.chatbots.list) return null;\n        return this.chatbots.list.find(chatbot => chatbot.id === this.chatbotId);\n    }\n\n    get chatbotText(): string | null {\n        if (!this.chatbotId || !this.chatbots || !this.chatbots.list) return null;\n        return this.chatbots.texts.default_chatbot_text.replace(\n            '$text$',\n            this.currentChatbot.text,\n        );\n    }\n\n    public openHelp() {\n        if (this.currentChatbot) {\n            this.openPopup = true;\n        } else {\n            this.openFreshworksWidget();\n        }\n    }\n\n    public openFreshworksWidget() {\n        window.FreshworksWidget('open');\n        this.openPopup = false;\n    }\n\n    public openZendesk() {\n        this.$zendesk.load(\"14e6c01e-ae2c-4e2c-8c76-d461c01479c8\")\n        this.$zendesk.zE('messenger', 'open')\n    }\n\n    public async sendChatbotData() {\n        const {mobile} = JSON.parse(localStorage.getItem('loggedUser') || '{}');\n\n        const helpService = new HelpService();\n\n        this.loading = true;\n\n        try {\n            await helpService.sendChatbotData({\n                mobile,\n                chatbot: this.currentChatbot.id_bot,\n            });\n\n            this.$alert('Mensagem enviada por WhatsApp', '', 'success', {\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 3000,\n            });\n        } catch (e) {\n            console.error(e);\n            this.$alert('Erro ao enviar mensagem por WhatsApp', '', 'error', {\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 3000,\n            });\n        }\n\n        this.loading = false;\n        this.openPopup = false;\n    }\n}\n"],"sourceRoot":""}]}