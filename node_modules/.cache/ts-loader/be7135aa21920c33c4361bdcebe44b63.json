{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js!/home/aline/AstaPrecifique/node_modules/ts-loader/index.js??ref--13-2!/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/components/vitrine-modal/vitrine-image-import.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/AstaPrecifique/src/components/vitrine-modal/vitrine-image-import.vue","mtime":1696439584665},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL2FsaW5lL0FzdGFQcmVjaWZpcXVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IENvbXByZXNzb3IgZnJvbSAnY29tcHJlc3NvcmpzJzsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ3ZpdHJpbmVJbWFnZUltcG9ydCcsCiAgcHJvcHM6IHsKICAgIHNob3dJbXBvcnRJbWFnZU1vZGFsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsZWxpc3Q6IFtdLAogICAgICBpbWFnZVRvQ3JvcDogJycsCiAgICAgIGZpbGU6IHt9LAogICAgICBpbWFnZUZpbGU6IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25DaGFuZ2VWaXRyaW5lOiBmdW5jdGlvbiBvbkNoYW5nZVZpdHJpbmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygiY3JvcCB2aXRyaW5lIC0gdXBsb2FkIik7CiAgICAgIHRoaXMuZmlsZSA9IHRoaXMuJHJlZnMuZmlsZXZpdHJpbmU7CiAgICAgIHRoaXMuZmlsZWxpc3QgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5maWxlLmZpbGVzKTsKCiAgICAgIGlmICh0aGlzLmZpbGUuZmlsZXMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGltYWdlRmlsZSA9IHRoaXMuZmlsZS5maWxlc1swXTsKCiAgICAgICAgaWYgKGltYWdlRmlsZS5zaXplIC8gMTAwMDAwMCA8IDE1KSB7CiAgICAgICAgICB2YXIgY29tcHJlc3NvciA9IG5ldyBDb21wcmVzc29yKGltYWdlRmlsZSwgewogICAgICAgICAgICBxdWFsaXR5OiAwLjUsCiAgICAgICAgICAgIHdpZHRoOiAxMjUwLAogICAgICAgICAgICBoZWlnaHQ6IDEyNTAsCiAgICAgICAgICAgIGNvbnZlcnRTaXplOiAwLAogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGltYWdlQ29tcHJlc3NlZCkgewogICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgICAgICBpZiAoaW1hZ2VDb21wcmVzc2VkLnNpemUgLyAxMDAwMDAwIDwgNikgewogICAgICAgICAgICAgICAgX3RoaXMuaW1hZ2VGaWxlID0gaW1hZ2VDb21wcmVzc2VkOwogICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW1hZ2VDb21wcmVzc2VkKTsKCiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuaW1hZ2VUb0Nyb3AgPSBlLnRhcmdldC5yZXN1bHQ7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnc2V0SW1hZ2VUb0Nyb3AnLCBlLnRhcmdldC5yZXN1bHQpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoIlJlZHV6YSBvIHRhbWFuaG8gZGUgaW1hZ2VtIGUgdGVudGUgbm92YW1lbnRlLiIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGVycikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBjb21wcmltaW5kbyBpbWFnZW0iLCBlcnIubWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgiUmVkdXphIG8gdGFtYW5obyBkZSBpbWFnZW0gZSB0ZW50ZSBub3ZhbWVudGUuIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZHJhZ292ZXI6IGZ1bmN0aW9uIGRyYWdvdmVyKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAoIWV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdiZy1ncmVlbi0zMDAnKSkgewogICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmctZ3JheS0xMDAnKTsKICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JnLWdyZWVuLTMwMCcpOwogICAgICB9CiAgICB9LAogICAgZHJhZ2xlYXZlOiBmdW5jdGlvbiBkcmFnbGVhdmUoZXZlbnQpIHsKICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdiZy1ncmF5LTEwMCcpOwogICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLWdyZWVuLTMwMCcpOwogICAgfSwKICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5maWxlID0gdGhpcy4kcmVmcy5maWxldml0cmluZTsKICAgICAgdGhpcy5maWxlLmZpbGVzID0gZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgICB0aGlzLm9uQ2hhbmdlVml0cmluZSgpOwogICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JnLWdyYXktMTAwJyk7CiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmctZ3JlZW4tMzAwJyk7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoZmlsZU5hbWUpIHsKICAgICAgdGhpcy5yZW1vdmVCeU5hbWUodGhpcy5maWxlbGlzdCwgZmlsZU5hbWUpOwogICAgfSwKICAgIHJlbW92ZUJ5TmFtZTogZnVuY3Rpb24gcmVtb3ZlQnlOYW1lKGFyciwgbmFtZSkgewogICAgICB2YXIgcmVxdWlyZWRJbmRleCA9IGFyci5maW5kSW5kZXgoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLm5hbWUgPT09IFN0cmluZyhuYW1lKTsKICAgICAgfSk7CgogICAgICBpZiAocmVxdWlyZWRJbmRleCA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIDsKICAgICAgcmV0dXJuICEhYXJyLnNwbGljZShyZXF1aXJlZEluZGV4LCAxKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/components/vitrine-modal/vitrine-image-import.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport Compressor from 'compressorjs'\nexport default Vue.extend({\n  name: 'vitrineImageImport',\n  props: {\n    showImportImageModal: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data: () => ({\n    filelist: [] as File[],\n    imageToCrop: '',\n    file: {} as any,\n    imageFile: {} as any,\n  }),\n  methods: {\n    onChangeVitrine() {\n      console.log(\"crop vitrine - upload\")\n      this.file = this.$refs.filevitrine;\n      this.filelist = [...this.file.files];\n      if (this.file.files.length) {            \n        const imageFile = this.file.files[0];\n        if (imageFile.size / 1000000 < 15) {\n          const compressor = new Compressor(imageFile, {\n            quality: 0.5,\n            width: 1250,\n            height: 1250,\n            convertSize: 0,\n            success: (imageCompressed) => {\n              const reader = new FileReader();\n              if (imageCompressed.size / 1000000 < 6) {\n                this.imageFile = imageCompressed;\n                reader.readAsDataURL(imageCompressed);\n                reader.onload = (e: any) => {\n                  this.imageToCrop = e.target.result;\n                  this.$emit('setImageToCrop', e.target.result)\n                };\n              }else{\n                alert(\"Reduza o tamanho de imagem e tente novamente.\");\n              }                       \n            },\n            error(err) {\n              console.log(\"error comprimindo imagem\", err.message);\n            },\n          });\n        }else{\n          alert(\"Reduza o tamanho de imagem e tente novamente.\");\n        } \n      }\n    },\n    dragover(event) {\n      event.preventDefault();\n      if (!event.currentTarget.classList.contains('bg-green-300')) {\n        event.currentTarget.classList.remove('bg-gray-100');\n        event.currentTarget.classList.add('bg-green-300');\n      }\n    },\n    dragleave(event) {\n      event.currentTarget.classList.add('bg-gray-100');\n      event.currentTarget.classList.remove('bg-green-300');\n    },\n    drop(event) {\n      event.preventDefault();\n      this.file = this.$refs.filevitrine;\n      this.file.files = event.dataTransfer.files;\n      this.onChangeVitrine();\n      event.currentTarget.classList.add('bg-gray-100');\n      event.currentTarget.classList.remove('bg-green-300');\n    },\n    remove(fileName){\n      this.removeByName(this.filelist, fileName);\n    },\n    removeByName(arr, name){\n      const requiredIndex = arr.findIndex(el => {\n          return el.name === String(name);\n      });\n      if(requiredIndex === -1){\n          return false;\n      };\n      return !!arr.splice(requiredIndex, 1);\n    }\n\n  }\n})\n"],"sourceRoot":""}]}