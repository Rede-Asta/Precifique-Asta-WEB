{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js!/home/aline/AstaPrecifique/node_modules/ts-loader/index.js??ref--13-2!/home/aline/AstaPrecifique/src/components/import-products/import-products-modal.ts","dependencies":[{"path":"/home/aline/AstaPrecifique/src/components/import-products/import-products-modal.ts","mtime":1673321154834},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9hbGluZS9Bc3RhUHJlY2lmaXF1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9ob21lL2FsaW5lL0FzdGFQcmVjaWZpcXVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvYWxpbmUvQXN0YVByZWNpZmlxdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHByb2R1Y3RzU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL3Byb2R1Y3RzLnNlcnZpY2UnOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAndnVlLW11bHRpc2VsZWN0JzsKaW1wb3J0IFZ1ZVNpbXBsZUFsZXJ0IGZyb20gJ3Z1ZS1zaW1wbGUtYWxlcnQnOwppbXBvcnQgU3dhbCBmcm9tICdzd2VldGFsZXJ0Mic7CmltcG9ydCBJbXBvcnRSZXN1bHRzTW9kYWwgZnJvbSAnLi9pbXBvcnQtcmVzdWx0cy1tb2RhbC9pbXBvcnQtcmVzdWx0cy1tb2RhbC52dWUnOwoKdmFyIEltcG9ydFByb2R1Y3RzTW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoSW1wb3J0UHJvZHVjdHNNb2RhbCwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSW1wb3J0UHJvZHVjdHNNb2RhbCk7CgogIGZ1bmN0aW9uIEltcG9ydFByb2R1Y3RzTW9kYWwoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEltcG9ydFByb2R1Y3RzTW9kYWwpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5zaG93SW1wb3J0UHJvZHVjdHMgPSBfdGhpcy5wcm9wU2hvd0ltcG9ydFByb2R1Y3RzOwogICAgX3RoaXMuc2hvd1Jlc3VsdHNQcm9kdWN0cyA9IGZhbHNlOwogICAgX3RoaXMuaW1wb3J0UHJvZHVjdHNSZXN1bHQgPSB7fTsKICAgIF90aGlzLmNhdGVnb3JpZXMgPSBfdGhpcy5wcm9wQ2F0ZWdvcmllczsKICAgIF90aGlzLm9wdGlvbnMgPSBbXTsKICAgIF90aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSBbXTsKICAgIF90aGlzLnVybERvd25sb2FkRmlsZSA9ICcnOwogICAgX3RoaXMuZmlsZWxpc3QgPSBbXTsKICAgIF90aGlzLmZpbGVDb21wbGV0ZWQgPSAnJzsKICAgIF90aGlzLmltYWdlRXJyb3IgPSBmYWxzZTsKICAgIF90aGlzLmluZm9TdGVwMSA9IGZhbHNlOwogICAgX3RoaXMuaW5mb1N0ZXAyID0gZmFsc2U7CiAgICBfdGhpcy5wcm9kdWN0U2VydmljZSA9IG5ldyBwcm9kdWN0c1NlcnZpY2UoKTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhJbXBvcnRQcm9kdWN0c01vZGFsLCBbewogICAga2V5OiAiY2xvc2VJbXBvcnRQcm9kdWN0c01vZGFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZUltcG9ydFByb2R1Y3RzTW9kYWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlSW1wb3J0UHJvZHVjdHNNb2RhbCcsIHRydWUpOwogICAgfQogIH0sIHsKICAgIGtleTogIm1vdW50ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHRoaXMuc2hvd0NhdGVnb3JpZXMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbmZvU3RlcDFDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluZm9TdGVwMUNoYW5nZSgpIHsKICAgICAgdGhpcy5pbmZvU3RlcDEgPSAhdGhpcy5pbmZvU3RlcDE7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5mb1N0ZXAyQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbmZvU3RlcDJDaGFuZ2UoKSB7CiAgICAgIHRoaXMuaW5mb1N0ZXAyID0gIXRoaXMuaW5mb1N0ZXAyOwogICAgfQogIH0sIHsKICAgIGtleTogImRlc2FiaWxpdGF0ZUluZm9zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZXNhYmlsaXRhdGVJbmZvcygpIHsKICAgICAgaWYgKHRoaXMuaW5mb1N0ZXAxKSB7CiAgICAgICAgdGhpcy5pbmZvU3RlcDEgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW5mb1N0ZXAyKSB7CiAgICAgICAgdGhpcy5pbmZvU3RlcDIgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNob3dDYXRlZ29yaWVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93Q2F0ZWdvcmllcygpIHsKICAgICAgdmFyIGNhdGVnb3JpZXMgPSB0aGlzLmNhdGVnb3JpZXMuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZS5yZWdpc3Rlcl90eXBlID09PSAnUHJvZHVjdCc7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUubmFtZTsKICAgICAgfSk7CiAgICAgIHRoaXMub3B0aW9ucyA9IGNhdGVnb3JpZXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZG93bmxvYWRGaWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZG93bmxvYWRGaWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICB2YXIgY2F0ZWdvcmllcywgY2F0ZWdvcnlTZWxlY3RlZCwgY2F0ZWdvcmllc1RvRG93bmxvYWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNhdGVnb3J5U2VsZWN0ZWQubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzID0gdGhpcy5jYXRlZ29yaWVzLmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnJlZ2lzdGVyX3R5cGUgPT09ICdQcm9kdWN0JzsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY2F0ZWdvcnlTZWxlY3RlZCA9IHRoaXMuY2F0ZWdvcnlTZWxlY3RlZDsKICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNUb0Rvd25sb2FkID0gY2F0ZWdvcmllcy5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVNlbGVjdGVkLmluY2x1ZGVzKHZhbHVlLm5hbWUpOwogICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuZ3VpZDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9kdWN0U2VydmljZS5pbXBvcnRQcm9kdWN0c0Rvbndsb2FkRmlsZShjYXRlZ29yaWVzVG9Eb3dubG9hZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5ocmVmID0gZGF0YS5maWxlOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZG93bmxvYWRGaWxlKCkgewogICAgICAgIHJldHVybiBfZG93bmxvYWRGaWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkb3dubG9hZEZpbGU7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJkb3dubG9hZEZpbGVDbGljayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRGaWxlQ2xpY2soKSB7CiAgICAgIGlmICh0aGlzLmhyZWYubGVuZ3RoKSB7CiAgICAgICAgdmFyIGRvd25sb2FkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVEb3dubG9hZCcpOwogICAgICAgIGRvd25sb2FkLmhyZWYgPSB0aGlzLmhyZWY7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZW5kRmlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NlbmRGaWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RTZXJ2aWNlLmltcG9ydFByb2R1Y3RzU2VuZEZpbGUodGhpcy5maWxlQ29tcGxldGVkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0UHJvZHVjdHNSZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgdGhpcy5pbXBvcnRQcm9kdWN0c1Jlc3VsdCA9IF9jb250ZXh0Mi50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dSZXN1bHRzUHJvZHVjdHMgPSB0cnVlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMTIpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzLCBbWzAsIDksIDEyLCAxNV1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2VuZEZpbGUoKSB7CiAgICAgICAgcmV0dXJuIF9zZW5kRmlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2VuZEZpbGU7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJkcmFnb3ZlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhZ292ZXIoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmICghZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2JnLWdyZWVuLTMwMCcpKSB7CiAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1ncmF5LTEwMCcpOwogICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgnYmctZ3JlZW4tMzAwJyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJkcmFnbGVhdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRyYWdsZWF2ZShldmVudCkgewogICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JnLWdyYXktMTAwJyk7CiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmctZ3JlZW4tMzAwJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZHJvcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZHJvcChldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLmZpbGUgPSB0aGlzLiRyZWZzLmZpbGU7CiAgICAgIHRoaXMuZmlsZS5maWxlcyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlczsKICAgICAgdGhpcy5vbkNoYW5nZSgpOwogICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JnLWdyYXktMTAwJyk7CiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmctZ3JlZW4tMzAwJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAib25DaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuaW1hZ2VFcnJvciA9IGZhbHNlOwogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgdGhpcy5maWxlID0gdGhpcy4kcmVmcy5maWxlOwogICAgICB0aGlzLmZpbGVsaXN0ID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZmlsZS5maWxlcyk7CgogICAgICBpZiAodGhpcy5maWxlLmZpbGVzLmxlbmd0aCkgewogICAgICAgIHZhciBmaWxlRG9jID0gdGhpcy5maWxlLmZpbGVzWzBdOwogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGVEb2MpOwoKICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMy5maWxlQ29tcGxldGVkID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgIH07CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZShpbmRleCkgewogICAgICB0aGlzLmZpbGVsaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9hc3RNZXNzYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b2FzdE1lc3NhZ2UodHlwZSwgdGl0bGUpIHsKICAgICAgVnVlU2ltcGxlQWxlcnQuZmlyZSh7CiAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgb25PcGVuOiBmdW5jdGlvbiBvbk9wZW4odG9hc3QpIHsKICAgICAgICAgIHRvYXN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBTd2FsLnN0b3BUaW1lciksIHRvYXN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBTd2FsLnJlc3VtZVRpbWVyKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEltcG9ydFByb2R1Y3RzTW9kYWw7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIEltcG9ydFByb2R1Y3RzTW9kYWwucHJvdG90eXBlLCAicHJvcFNob3dJbXBvcnRQcm9kdWN0cyIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKCldLCBJbXBvcnRQcm9kdWN0c01vZGFsLnByb3RvdHlwZSwgInByb3BDYXRlZ29yaWVzIiwgdm9pZCAwKTsKCkltcG9ydFByb2R1Y3RzTW9kYWwgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0OiBNdWx0aXNlbGVjdCwKICAgIEltcG9ydFJlc3VsdHNNb2RhbDogSW1wb3J0UmVzdWx0c01vZGFsCiAgfQp9KV0sIEltcG9ydFByb2R1Y3RzTW9kYWwpOwpleHBvcnQgeyBJbXBvcnRQcm9kdWN0c01vZGFsIH07"},{"version":3,"sources":["/home/aline/AstaPrecifique/src/components/import-products/import-products-modal.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, Vue }       from 'vue-property-decorator';\nimport productsService                from '@/services/products.service';\nimport Multiselect from 'vue-multiselect';\nimport VueSimpleAlert               from 'vue-simple-alert';\nimport Swal, { SweetAlertType }     from 'sweetalert2';\nimport ImportResultsModal from './import-results-modal/import-results-modal.vue';\n\n@Component({\n    components: {\n        Multiselect,\n        ImportResultsModal,\n    },\n  })\n\nexport class ImportProductsModal extends Vue {\n\n    @Prop() propShowImportProducts!: boolean;\n    @Prop() propCategories!: any[];\n\n    public showImportProducts: boolean = this.propShowImportProducts;\n\n    public showResultsProducts: boolean = false;\n    public importProductsResult: any = {};\n\n    public categories: any[] = this.propCategories;\n    public options: any[] = [];\n    public categorySelected: any[] = [];\n    public urlDownloadFile: string = '';\n    public file: any;\n    public filelist: any[] = [];\n    public fileCompleted: string = '';\n    public imageError: boolean = false;\n    public href: any;\n\n\n    public infoStep1: boolean = false;\n    public infoStep2: boolean = false;\n\n\n    private productService = new productsService();\n\n\n    public closeImportProductsModal() {\n        this.$emit('closeImportProductsModal', true);\n    }\n\n    mounted() {\n        this.showCategories();\n    }\n\n    public infoStep1Change() {\n        this.infoStep1 = !this.infoStep1;\n    }\n\n    public infoStep2Change() {\n        this.infoStep2 = !this.infoStep2;\n    }\n\n    public desabilitateInfos() {\n        if (this.infoStep1) {\n            this.infoStep1 = false;\n        }\n        if (this.infoStep2) {\n            this.infoStep2 = false;\n        }\n    }\n\n    public showCategories() {\n        const categories = this.categories.filter(value => value.register_type === 'Product').map(value => value.name);\n        this.options = categories;\n    }\n\n    public async downloadFile() {\n        if (this.categorySelected.length) {\n            const categories = this.categories.filter(value => value.register_type === 'Product');\n            const categorySelected = this.categorySelected;\n\n            const categoriesToDownload = categories.filter(value => categorySelected.includes(value.name)).map(value => value.guid);\n\n            await (this.productService.importProductsDonwloadFile(categoriesToDownload))\n            .then(data =>\n                data.json().then(data => {\n                    this.href = data.file;\n                }));\n        }\n    }\n\n    public downloadFileClick() {\n        if (this.href.length) {\n            const download: any = document.getElementById('fileDownload');\n            download.href = this.href;\n        }\n    }\n\n    public async sendFile() {\n        try {\n            const response = await this.productService.importProductsSendFile(this.fileCompleted);\n            this.importProductsResult = await response.json();\n        } catch (error) {\n            this.importProductsResult = error;\n        } finally {\n            this.showResultsProducts = true;\n        }\n    }\n\n    public dragover(event) {\n        event.preventDefault();\n        if (!event.currentTarget.classList.contains('bg-green-300')) {\n            event.currentTarget.classList.remove('bg-gray-100');\n            event.currentTarget.classList.add('bg-green-300');\n        }\n    }\n\n    public dragleave(event) {\n        event.currentTarget.classList.add('bg-gray-100');\n        event.currentTarget.classList.remove('bg-green-300');\n    }\n\n    public drop(event) {\n        event.preventDefault();\n        this.file = this.$refs.file;\n        this.file.files = event.dataTransfer.files;\n        this.onChange();\n        event.currentTarget.classList.add('bg-gray-100');\n        event.currentTarget.classList.remove('bg-green-300');\n    }\n\n    public onChange() {\n        this.imageError = false;\n        const reader = new FileReader();\n        this.file = this.$refs.file;\n        this.filelist = [...this.file.files];\n\n        if (this.file.files.length) {\n            const fileDoc = this.file.files[0];\n\n            reader.readAsDataURL(fileDoc);\n            reader.onload = (e: any) => {\n                this.fileCompleted = e.target.result;\n            };\n        }\n\n    }\n\n    public remove(index: number) {\n        this.filelist.splice(index, 1);\n    }\n\n    private toastMessage(type: SweetAlertType , title: string) {\n        VueSimpleAlert.fire({\n            type,\n            title,\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000,\n            onOpen: (toast) => {\n                toast.addEventListener('mouseenter', Swal.stopTimer),\n                toast.addEventListener('mouseleave', Swal.resumeTimer);\n            },\n        });\n    }\n\n}\n"],"sourceRoot":""}]}