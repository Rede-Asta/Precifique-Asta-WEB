{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/register-seller/password-precifique-form/PasswordPrecifiqueForm.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/register-seller/password-precifique-form/PasswordPrecifiqueForm.vue","mtime":1699548904558},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgUHJlY2lmaXF1ZVNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9wcmVjaWZpcXVlU2VydmljZSI7CgpAQ29tcG9uZW50KHt9KQpleHBvcnQgY2xhc3MgUGFzc3dvcmRQcmVjaWZpcXVlRm9ybSBleHRlbmRzIFZ1ZSB7CgoKICBwdWJsaWMgZW1haWxCdXR0b246IGJvb2xlYW4gPSBmYWxzZTsKICBwdWJsaWMgZW1haWw6IHN0cmluZyB8IG51bGwgPSAnJzsKICBwdWJsaWMgcGFzc3dvcmQ6IHN0cmluZyA9ICcnOwogIHB1YmxpYyBwYXNzd29yZENvbmZpcm06IHN0cmluZyA9ICcnOwogIHB1YmxpYyBpc1ZhbGlkUGFzc3dvcmQ6IGJvb2xlYW4gPSB0cnVlOwogIHB1YmxpYyBpc1ZhbGlkQ29uZmlybVBhc3N3b3JkOiBib29sZWFuID0gdHJ1ZTsKICBwdWJsaWMgYnV0dG9uRW50ZXI6IGJvb2xlYW4gPSBmYWxzZTsKICBwdWJsaWMga2V5OiBzdHJpbmcgfCBudWxsPSAnJzsKICBwdWJsaWMgbmV4dFBhZ2U6IGJvb2xlYW4gPSBmYWxzZTsKCgogCgoKICB2YWxpZGF0ZVBhc3N3b3JkKCkgewoKICAgIGlmICghdGhpcy5pc1ZhbGlkUGFzc3dvcmQpIHsKICAgIHRoaXMuaXNWYWxpZFBhc3N3b3JkID0gdHJ1ZQogIH0KICAgIGNvbnN0IFBhc3N3b3JkUmVnZXggPSAvXi57Nix9JC87CiAgICB0aGlzLmlzVmFsaWRQYXNzd29yZCA9IFBhc3N3b3JkUmVnZXgudGVzdCh0aGlzLnBhc3N3b3JkKTsKICAgIGlmICh0aGlzLmlzVmFsaWRQYXNzd29yZCkgewogICAgICB0aGlzLmJ1dHRvbkVudGVyID0gZmFsc2U7CiAgICB9CiAgICBlbHNlIHsKICAgICAgdGhpcy5idXR0b25FbnRlciA9IGZhbHNlOwogICAgfQogICAgCiAgfQoKICB2YWxpZGF0ZVBhc3N3b3JkQ29uZmlybSgpIHsKCiAgICAKICAgIGlmICggdGhpcy5wYXNzd29yZENvbmZpcm0gPT0gdGhpcy5wYXNzd29yZCl7CiAgICAgIHRoaXMuaXNWYWxpZENvbmZpcm1QYXNzd29yZCA9IHRydWU7CiAgICAgIHRoaXMuYnV0dG9uRW50ZXIgPSB0cnVlOwogICAgfQogICAgZWxzZSB7CiAgICAgIHRoaXMuaXNWYWxpZENvbmZpcm1QYXNzd29yZCA9IGZhbHNlOwogICAgICB0aGlzLmJ1dHRvbkVudGVyID0gZmFsc2U7CiAgICB9CiAgICAKICB9CgoKCiAgcHVibGljIGFzeW5jIHN1Ym1pdEZvcm0oKSB7CiAgICBpZiAodGhpcy5pc1ZhbGlkUGFzc3dvcmQpIHsKICAgICAgICAgCiAgICB0aGlzLmVtYWlsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyk7CiAgICB0aGlzLmtleSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdrZXknKTsKCiAgICAgIGNvbnN0IHByZWNpZmlxdWVTZXJ2aWNlID0gbmV3IFByZWNpZmlxdWVTZXJ2aWNlKCk7CiAgICAgIHRoaXMuYnV0dG9uRW50ZXIgPSBmYWxzZTsKICAgICAgCiAgICAgICB0cnkgewogICAgICAgICBhd2FpdCBwcmVjaWZpcXVlU2VydmljZS5zZW5kUGFzc3dvcmQodGhpcy5rZXksewogICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgIH0pOwoKICAgICAgICB0aGlzLmJ1dHRvbkVudGVyID0gZmFsc2U7CiAgICAgICAgdGhpcy4kZW1pdCgidG9TdGVwIiwgIjQiKQoKICAgICAgICAKICAgICAgICB0aGlzLiRhbGVydCgnU2VuaGEgYWx0ZXJhZGEgY29tIHN1Y2Vzc28nLCAnJywgJ3N1Y2Nlc3MnLAogICAgICAgICAgewogICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLm5leHRQYWdlID0gdHJ1ZTsKICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICAgdGhpcy4kYWxlcnQoJ0Vycm8gYW8gYWx0ZXJhciBzZW5oYScsICcnLCAnZXJyb3InLCB7CiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICB9KTsKICAgICAgICAKICAgICAgfQogICAgfQogICAgdGhpcy5idXR0b25FbnRlciA9IHRydWU7CiAgfQp9CgoKZXhwb3J0IHsgUGFzc3dvcmRQcmVjaWZpcXVlRm9ybSBhcyBkZWZhdWx0IH07CgoK"},{"version":3,"sources":["PasswordPrecifiqueForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA","file":"PasswordPrecifiqueForm.vue","sourceRoot":"src/components/register-seller/password-precifique-form","sourcesContent":["<template>\n   <section id=\"Password-precifique-form\">\n    <section class=\"col-12 col-xl-10 mx-auto my-4\">\n\n<form @submit.prevent=\"submitForm\">\n  <div>\n    <label class=\"label-precifique\">Nova senha</label>\n    <input class=\"form-precifique\" maxlength=\"30\"  v-bind:class=\"{\n  'form-precifique-error': !isValidPassword,\n  'form-precifique-success': isValidPassword && buttonEnter\n}\"\n type=\"text\" id=\"password\" v-model=\"password\" @input=\"validatePassword\">\n    <span v-show=\"!isValidPassword\" class=\"error\">A senha deve ter no mínimo 6 caracteres</span>\n  </div>\n\n\n  <div>\n    <label class=\"label-precifique\">Confirme a nova senha</label>\n    <input class=\"form-precifique\" maxlength=\"30\"  v-bind:class=\"{\n  'form-precifique-error': !isValidConfirmPassword,\n  'form-precifique-success': isValidConfirmPassword && buttonEnter\n}\"\n type=\"text\" id=\"passwordConfirm\" v-model=\"passwordConfirm\" @input=\"validatePasswordConfirm\">\n    <span v-show=\"!isValidConfirmPassword\"  class=\"error\">As senhas não são correspondentes.</span>\n  </div>\n</form>\n\n<div class=\"d-flex align-items-center justify-content-center\">\n  <button :disabled=\"!buttonEnter\" class=\"button-enter-code-precifique col-11 col-xl-5\" @click=\"submitForm()\">Redefinir senha</button>\n</div>\n\n\n</section>\n<login-precifique-return v-if=\"nextPage\"/>\n</section>\n\n\n</template>\n\n<script lang=\"ts\">\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport PrecifiqueService from \"@/services/precifiqueService\";\n\n@Component({})\nexport class PasswordPrecifiqueForm extends Vue {\n\n\n  public emailButton: boolean = false;\n  public email: string | null = '';\n  public password: string = '';\n  public passwordConfirm: string = '';\n  public isValidPassword: boolean = true;\n  public isValidConfirmPassword: boolean = true;\n  public buttonEnter: boolean = false;\n  public key: string | null= '';\n  public nextPage: boolean = false;\n\n\n \n\n\n  validatePassword() {\n\n    if (!this.isValidPassword) {\n    this.isValidPassword = true\n  }\n    const PasswordRegex = /^.{6,}$/;\n    this.isValidPassword = PasswordRegex.test(this.password);\n    if (this.isValidPassword) {\n      this.buttonEnter = false;\n    }\n    else {\n      this.buttonEnter = false;\n    }\n    \n  }\n\n  validatePasswordConfirm() {\n\n    \n    if ( this.passwordConfirm == this.password){\n      this.isValidConfirmPassword = true;\n      this.buttonEnter = true;\n    }\n    else {\n      this.isValidConfirmPassword = false;\n      this.buttonEnter = false;\n    }\n    \n  }\n\n\n\n  public async submitForm() {\n    if (this.isValidPassword) {\n         \n    this.email = localStorage.getItem('email');\n    this.key = localStorage.getItem('key');\n\n      const precifiqueService = new PrecifiqueService();\n      this.buttonEnter = false;\n      \n       try {\n         await precifiqueService.sendPassword(this.key,{\n          email: this.email,\n          password: this.password\n        });\n\n        this.buttonEnter = false;\n        this.$emit(\"toStep\", \"4\")\n\n        \n        this.$alert('Senha alterada com sucesso', '', 'success',\n          {\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000,\n          })\n          this.nextPage = true;\n       } catch (e) {\n         console.error(e);\n         this.$alert('Erro ao alterar senha', '', 'error', {\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n         timer: 3000,\n         });\n        \n      }\n    }\n    this.buttonEnter = true;\n  }\n}\n\n\nexport { PasswordPrecifiqueForm as default };\n\n\n</script>\n<style lang=\"scss\">\n\n.form-precifique {\n    display: block;\n    width: 100%;\n    height: calc(1.5em + 0.75rem + 2px);\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #495057;\n    background-color: #fff;\n    background-clip: padding-box;\n    border: 1px solid #ced4da;\n    border-radius: 0.25rem;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s;\n    \n  }\n\n  .form-precifique-error {\n    display: block;\n    width: 100%;\n    height: calc(1.5em + 0.75rem + 2px);\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #495057;\n    background-color: #fff;\n    background-clip: padding-box;\n    border-color: $error !important;\n    border-radius: 0.25rem;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s;\n\n\n\n    \n  }\n\n\n  .form-precifique-success {\n    display: block;\n    width: 100%;\n    height: calc(1.5em + 0.75rem + 2px);\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #495057;\n    background-color: #fff;\n    background-clip: padding-box;\n    border-color: $success !important;\n    border-radius: 0.25rem;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s;\n\n\n\n    \n  }\n\n\n  .label-precifique{\n    font-size: 14px;\n    margin-top: 3%;\n  }\n  \n  .error {\n    color: $error;\n    font-size: 12px;\n  }\n  \n  input:focus {\n    border-color: $primary;\n    outline: none;\n   \n  }\n</style>"]}]}