{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/logo-modal/vitrine-modal.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/logo-modal/vitrine-modal.vue","mtime":1687213814984},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgVnVlIGZyb20gJ3Z1ZScKaW1wb3J0IGxvZ29JbWFnZUltcG9ydCBmcm9tICcuL2xvZ28taW1hZ2UtaW1wb3J0LnZ1ZScgCmltcG9ydCBMb2dvSW1hZ2VDcm9wcGVyIGZyb20gJy4vbG9nby1pbWFnZS1jcm9wcGVyLnZ1ZScKaW1wb3J0IExvZ29JbWFnZUxvYWRpbmdTY3JlZW4gZnJvbSAnLi9sb2dvLWltYWdlLWxvYWRpbmctc2NyZWVuLnZ1ZScKaW1wb3J0IHVzZXJTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvdXNlci5zZXJ2aWNlJwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKY29tcG9uZW50czogeyBsb2dvSW1hZ2VJbXBvcnQsIExvZ29JbWFnZUNyb3BwZXIsIExvZ29JbWFnZUxvYWRpbmdTY3JlZW4gfSwKICBuYW1lOiAnVml0cmluZU1vZGFsJywKICBwcm9wczogewogICAgc2hvd1ZpdHJpbmVNb2RhbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGltYWdlVG9Dcm9wOiAnJywKICAgIHNob3dJbWFnZUNyb3BwZXI6IGZhbHNlLAogICAgc2hvd0xvYWRpbmdTY3JlZW46IGZhbHNlLAogICAgaW1hZ2U6IHt9IGFzIGFueSwKICAgIHVzZXJTZXJ2aWNlOiBuZXcgdXNlclNlcnZpY2UoKQogIH0pLAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVNob3dJbWFnZUNyb3BwZXIoKSB7CiAgICAgIGlmICghdGhpcy5pbWFnZVRvQ3JvcCkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHRoaXMuc2hvd0ltYWdlQ3JvcHBlciA9IHRydWUKICAgIH0sCiAgICBoYW5kbGVTZXRJbWFnZVRvQ3JvcChkYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKHtkYXRhfSkKICAgICAgdGhpcy5pbWFnZVRvQ3JvcCA9IGRhdGEKICAgIH0sCiAgICBhc3luYyBoYW5kbGVJbWFnZVVwbG9hZChbbWVzc2FnZSwgaW1hZ2VEYXRhXSkgewogICAgICBpZiAobWVzc2FnZSAhPT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2VEYXRhCgogICAgICAgIHRoaXMuc2hvd0xvYWRpbmdTY3JlZW4gPSB0cnVlCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy51c2VyU2VydmljZS51cGxvYWRMb2dvVjIodGhpcy5pbWFnZSwgKGV2ZW50KSA9PiB7CiAgICAgICAgICBsZXQgcHJvZ3Jlc3M6IG51bWJlciA9IE1hdGgucm91bmQoCiAgICAgICAgICAgIChldmVudC5sb2FkZWQgKiAxMDApIC8gZXZlbnQudG90YWwKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLmltYWdlLnVwbG9hZFByb2dyZXNzID0gcHJvZ3Jlc3M7CiAgICAgICAgfSkKICAgICAgICB0aGlzLnNob3dJbWFnZUNyb3BwZXIgPSBmYWxzZQogICAgICAgIHRoaXMuc2hvd0xvYWRpbmdTY3JlZW4gPSBmYWxzZQogICAgICAgIHRoaXMuJGVtaXQoJ3N1Y2Nlc3NDbG9zZU1vZGFsJykKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKHsgZXJyb3IgfSkKICAgICAgfQogICAgfQogIH0KfSkKCg=="},{"version":3,"sources":["vitrine-modal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"vitrine-modal.vue","sourceRoot":"src/components/logo-modal","sourcesContent":["<template>\n  <modal :active=\"showVitrineModal\">\n    <div class=\"wrapper\">\n      <logo-image-import\n        :showImportImageModal=\"true\"\n        @showImageCropper=\"handleShowImageCropper\"\n        @closeImageModal=\"$emit('closeVitrineModal')\"\n        @setImageToCrop=\"handleSetImageToCrop\"\n      />\n      <logo-image-cropper\n        :showImageCropper=\"showImageCropper\"\n        :imageToCrop=\"imageToCrop\"\n        @closeImageCropper=\"showImageCropper = false\"\n        @uploadImage=\"handleImageUpload\"\n      />\n      <logo-image-loading-screen\n        :showLoadingScreen=\"showLoadingScreen\"\n        :image=\"image\"\n      />\n    </div>\n  </modal>\n</template>\n<script lang=\"ts\">\n  import Vue from 'vue'\n  import logoImageImport from './logo-image-import.vue' \n  import LogoImageCropper from './logo-image-cropper.vue'\n  import LogoImageLoadingScreen from './logo-image-loading-screen.vue'\n  import userService from '@/services/user.service'\n  export default Vue.extend({\n  components: { logoImageImport, LogoImageCropper, LogoImageLoadingScreen },\n    name: 'VitrineModal',\n    props: {\n      showVitrineModal: {\n        type: Boolean,\n        required: true\n      }\n    },\n    data: () => ({\n      imageToCrop: '',\n      showImageCropper: false,\n      showLoadingScreen: false,\n      image: {} as any,\n      userService: new userService()\n    }),\n    methods: {\n      handleShowImageCropper() {\n        if (!this.imageToCrop) {\n          return\n        }\n        this.showImageCropper = true\n      },\n      handleSetImageToCrop(data) {\n        console.log({data})\n        this.imageToCrop = data\n      },\n      async handleImageUpload([message, imageData]) {\n        if (message !== 'success') {\n          return\n        }\n        try {\n          this.image = imageData\n  \n          this.showLoadingScreen = true\n          const res = await this.userService.uploadLogoV2(this.image, (event) => {\n            let progress: number = Math.round(\n              (event.loaded * 100) / event.total\n            );\n            this.image.uploadProgress = progress;\n          })\n          this.showImageCropper = false\n          this.showLoadingScreen = false\n          this.$emit('successCloseModal')\n        } catch (error) {\n          console.error({ error })\n        }\n      }\n    }\n  })\n\n</script>\n<style lang=\"scss\" scoped>\n  .wrapper {\n    background-color: #f4f5f9;\n    border-radius: 6px;\n  }\n</style>"]}]}