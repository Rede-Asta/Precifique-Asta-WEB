{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/register-seller/steps-form/step-three/StepThree.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/register-seller/steps-form/step-three/StepThree.vue","mtime":1673321154838},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSwgV2F0Y2ggfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IHsgY25waiBhcyBDTlBKIH0gZnJvbSAiY3BmLWNucGotdmFsaWRhdG9yIjsKCmltcG9ydCB7IElucHV0Rm9ybXMsIFR5cGVIZWxwIH0gZnJvbSAiQC9tb2RlbHMvaW5wdXRGb3JtcyI7CgpAQ29tcG9uZW50KHt9KQpleHBvcnQgY2xhc3MgU3RlcFRocmVlIGV4dGVuZHMgVnVlIHsKICBAUHJvcCgpIHByb3BBcnJheUlucHV0cyE6IElucHV0Rm9ybXNbXTsKICBAUHJvcCgpIHByb3BTdWJDYXRlZ29yaWVzITogW107CgogIHB1YmxpYyBhcnJheUlucHV0czogSW5wdXRGb3Jtc1tdID0gdGhpcy5wcm9wQXJyYXlJbnB1dHM7CiAgcHVibGljIHN1YkNhdGVnb3JpZXMgPSB0aGlzLnByb3BTdWJDYXRlZ29yaWVzOwogIHB1YmxpYyBzdGVwID0gInN0ZXBUaHJlZSI7CiAgcHVibGljIGNhdGVnb3J5ID0gdGhpcy5hcnJheUlucHV0c1swXS5tb2RlbDsKCiAgQFdhdGNoKCJwcm9wU3ViQ2F0ZWdvcmllcyIpCiAgb25Qcm9wU3ViY2F0ZWdvcmllc0NoYW5nZShuZXdWYWwpIHsKICAgIHRoaXMuc3ViQ2F0ZWdvcmllcyA9IG5ld1ZhbDsKICAgIHRoaXMuZmlsdGVyU3ViQ2F0ZWdvcmllcygKICAgICAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic3RlcFRocmVlIikgfHwgIiIpWzBdCiAgICApOwogIH0KCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuc2V0TmV4dERpc2FibGVkKCk7CiAgICB0aGlzLmdldExpc3RDYXRlZ29yaWVzKCk7CgogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzdGVwVGhyZWUiKSkgewogICAgICB0aGlzLmZpbHRlclN1YkNhdGVnb3JpZXMoCiAgICAgICAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic3RlcFRocmVlIikgfHwgIiIpWzBdCiAgICAgICk7CiAgICB9CiAgfQoKICBwcml2YXRlIGdldExpc3RDYXRlZ29yaWVzKCkgewogICAgdGhpcy4kZW1pdCgiZ2V0TGlzdENhdGVnb3JpZXMiLCB0cnVlKTsKICB9CgogIHB1YmxpYyB2YWxpZGF0ZUlucHV0cyhpbnB1dHM6IElucHV0Rm9ybXNbXSkgewogICAgY29uc3Qgc3RlcE1vZGVsOiBBcnJheTx7fT4gPSBbXTsKCiAgICB0aGlzLnNldE5leHREaXNhYmxlZCgpOwoKICAgIGlmIChpbnB1dHNbNF0ubW9kZWwpIHsKICAgICAgaWYgKHRoaXMudmFsaWRhdGVDTlBKKGlucHV0c1s0XS5tb2RlbCkpIHsKICAgICAgICB0aGlzLnNldEhlbHAoaW5wdXRzLCA0LCAiRXN0ZSBDTlBKIMOpIHZhbGlkbyIsICJ2YWxpZCIpOwogICAgICAgIGlucHV0c1s0XS5tb2RlbCA9IHRoaXMuZm9ybWF0Q05QSihpbnB1dHNbNF0ubW9kZWwpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2V0SGVscChpbnB1dHMsIDQsICJFc3RlIENOUEogw6kgaW52YWxpZG8iLCAiaW52YWxpZCIpOwogICAgICAgIHRoaXMuJGVtaXQoInNldE5leHREaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgfQogICAgfQoKICAgIGlmIChpbnB1dHNbMF0ubW9kZWwpIHsKICAgICAgdGhpcy5maWx0ZXJTdWJDYXRlZ29yaWVzKGlucHV0c1swXS5tb2RlbCk7CiAgICB9CgogICAgaWYgKHRoaXMuY2F0ZWdvcnkgIT09IGlucHV0c1swXS5tb2RlbCkgewogICAgICB0aGlzLmFycmF5SW5wdXRzWzFdLm1vZGVsID0gIiI7CiAgICAgIHRoaXMuY2F0ZWdvcnkgPSBpbnB1dHNbMF0ubW9kZWw7CiAgICB9CgogICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7CiAgICAgIHN0ZXBNb2RlbC5wdXNoKGlucHV0Lm1vZGVsKTsKICAgICAgdGhpcy5zdG9yYWdlSW5wdXRzU3RlcChzdGVwTW9kZWwpOwogICAgfSk7CiAgfQoKICBwcml2YXRlIGZpbHRlclN1YkNhdGVnb3JpZXMoaW5wdXQpIHsKICAgIGlmICghKHRoaXMuc3ViQ2F0ZWdvcmllcyAmJiB0aGlzLnN1YkNhdGVnb3JpZXMubGVuZ3RoKSkgcmV0dXJuOwogICAgY29uc3QgeyBzdWJjYXRlZ29yaWVzIH06IGFueSA9IHRoaXMuc3ViQ2F0ZWdvcmllcy5maWx0ZXIoCiAgICAgIChjYXRlZ29yeTogYW55KSA9PiB7CiAgICAgICAgcmV0dXJuIGNhdGVnb3J5Lm5hbWUgPT09IGlucHV0LmxhYmVsOwogICAgICB9CiAgICApWzBdOwogICAgdGhpcy5hcnJheUlucHV0c1sxXS5vcHRpb25zID0gc3ViY2F0ZWdvcmllcy5tYXAoKHN1YmNhdGVnb3J5OiBhbnkpID0+IHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogc3ViY2F0ZWdvcnkubmFtZSwKICAgICAgICBsYWJlbDogc3ViY2F0ZWdvcnkubmFtZSwKICAgICAgICBjbmFlOiBzdWJjYXRlZ29yeS5jbmFlLAogICAgICB9OwogICAgfSk7CiAgfQoKICBwcml2YXRlIHNldE5leHREaXNhYmxlZCgpIHsKICAgIHRoaXMuYXJyYXlJbnB1dHNbMF0ubW9kZWwgJiYKICAgIHRoaXMuYXJyYXlJbnB1dHNbMV0ubW9kZWwgJiYKICAgIHRoaXMuYXJyYXlJbnB1dHNbMl0ubW9kZWwgJiYKICAgIHRoaXMuYXJyYXlJbnB1dHNbM10ubW9kZWwKICAgICAgPyB0aGlzLiRlbWl0KCJzZXROZXh0RGlzYWJsZWQiLCB0cnVlKQogICAgICA6IHRoaXMuJGVtaXQoInNldE5leHREaXNhYmxlZCIsIGZhbHNlKTsKICB9CgogIHByaXZhdGUgc2V0SGVscCgKICAgIGlucHV0czogSW5wdXRGb3Jtc1tdLAogICAgaW5kZXg6IG51bWJlciwKICAgIGhlbHBNc2c6IHN0cmluZywKICAgIHR5cGU6IFR5cGVIZWxwCiAgKSB7CiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgY2FzZSAidmFsaWQiOgogICAgICAgIHRoaXMuc2V0Q2xhc3NBbmRIZWxwKGlucHV0cywgaW5kZXgsICJoZWxwIiwgaGVscE1zZyk7CiAgICAgICAgdGhpcy5zZXRDbGFzc0FuZEhlbHAoCiAgICAgICAgICBpbnB1dHMsCiAgICAgICAgICBpbmRleCwKICAgICAgICAgICJjbGFzc0hlbHAiLAogICAgICAgICAgImZvcm0tdGV4dCB2YWxpZC1mZWVkYmFjayIKICAgICAgICApOwogICAgICAgIHRoaXMuc2V0Q2xhc3NBbmRIZWxwKAogICAgICAgICAgaW5wdXRzLAogICAgICAgICAgaW5kZXgsCiAgICAgICAgICAiY2xhc3NJbnB1dCIsCiAgICAgICAgICAiZm9ybS1jb250cm9sIGlzLXZhbGlkIgogICAgICAgICk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgImludmFsaWQiOgogICAgICAgIHRoaXMuc2V0Q2xhc3NBbmRIZWxwKGlucHV0cywgaW5kZXgsICJoZWxwIiwgaGVscE1zZyk7CiAgICAgICAgdGhpcy5zZXRDbGFzc0FuZEhlbHAoCiAgICAgICAgICBpbnB1dHMsCiAgICAgICAgICBpbmRleCwKICAgICAgICAgICJjbGFzc0hlbHAiLAogICAgICAgICAgImZvcm0tdGV4dCBpbnZhbGlkLWZlZWRiYWNrIgogICAgICAgICk7CiAgICAgICAgdGhpcy5zZXRDbGFzc0FuZEhlbHAoCiAgICAgICAgICBpbnB1dHMsCiAgICAgICAgICBpbmRleCwKICAgICAgICAgICJjbGFzc0lucHV0IiwKICAgICAgICAgICJmb3JtLWNvbnRyb2wgaXMtaW52YWxpZCIKICAgICAgICApOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICJub3JtYWwiOgogICAgICAgIHRoaXMuc2V0Q2xhc3NBbmRIZWxwKGlucHV0cywgaW5kZXgsICJoZWxwIiwgaGVscE1zZyk7CiAgICAgICAgdGhpcy5zZXRDbGFzc0FuZEhlbHAoCiAgICAgICAgICBpbnB1dHMsCiAgICAgICAgICBpbmRleCwKICAgICAgICAgICJjbGFzc0hlbHAiLAogICAgICAgICAgImZvcm0tdGV4dCB0ZXh0LW11dGVkIgogICAgICAgICk7CiAgICAgICAgdGhpcy5zZXRDbGFzc0FuZEhlbHAoaW5wdXRzLCBpbmRleCwgImNsYXNzSW5wdXQiLCAiZm9ybS1jb250cm9sIik7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICBwcml2YXRlIHNldENsYXNzQW5kSGVscCgKICAgIGlucHV0czogSW5wdXRGb3Jtc1tdLAogICAgaW5kZXg6IG51bWJlciwKICAgIG5hbWU6IHN0cmluZywKICAgIHZhbHVlOiBzdHJpbmcKICApIHsKICAgIGlucHV0c1tpbmRleF1bbmFtZV0gPSB2YWx1ZTsKICB9CgogIHByaXZhdGUgdmFsaWRhdGVDTlBKKGNucGo6IHN0cmluZyk6IGJvb2xlYW4gewogICAgcmV0dXJuIENOUEouaXNWYWxpZChjbnBqKTsKICB9CgogIHByaXZhdGUgZm9ybWF0Q05QSihjbnBqOiBzdHJpbmcpOiBzdHJpbmcgewogICAgcmV0dXJuIENOUEouZm9ybWF0KGNucGopOwogIH0KCiAgcHJpdmF0ZSBzdG9yYWdlSW5wdXRzU3RlcChpbnB1dHNNb2RlbDogQXJyYXk8e30+KSB7CiAgICB0aGlzLiRlbWl0KCJzdG9yYWdlSW5wdXRzU3RlcCIsIHRoaXMuc3RlcCwgaW5wdXRzTW9kZWwpOwogIH0KfQoKZXhwb3J0IHsgU3RlcFRocmVlIGFzIGRlZmF1bHQgfTsK"},{"version":3,"sources":["StepThree.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"StepThree.vue","sourceRoot":"src/components/register-seller/steps-form/step-three","sourcesContent":["<template>\n  <section id=\"step-three\">\n    <input-form\n      v-if=\"arrayInputs\"\n      :propArrayInputs=\"arrayInputs\"\n      v-on:validateInputs=\"validateInputs\"\n    />\n  </section>\n</template>\n\n<script lang=\"ts\">\n  import { Component, Prop, Vue, Watch } from \"vue-property-decorator\";\n  import { cnpj as CNPJ } from \"cpf-cnpj-validator\";\n\n  import { InputForms, TypeHelp } from \"@/models/inputForms\";\n\n  @Component({})\n  export class StepThree extends Vue {\n    @Prop() propArrayInputs!: InputForms[];\n    @Prop() propSubCategories!: [];\n\n    public arrayInputs: InputForms[] = this.propArrayInputs;\n    public subCategories = this.propSubCategories;\n    public step = \"stepThree\";\n    public category = this.arrayInputs[0].model;\n\n    @Watch(\"propSubCategories\")\n    onPropSubcategoriesChange(newVal) {\n      this.subCategories = newVal;\n      this.filterSubCategories(\n        JSON.parse(localStorage.getItem(\"stepThree\") || \"\")[0]\n      );\n    }\n\n    mounted() {\n      this.setNextDisabled();\n      this.getListCategories();\n\n      if (localStorage.getItem(\"stepThree\")) {\n        this.filterSubCategories(\n          JSON.parse(localStorage.getItem(\"stepThree\") || \"\")[0]\n        );\n      }\n    }\n\n    private getListCategories() {\n      this.$emit(\"getListCategories\", true);\n    }\n\n    public validateInputs(inputs: InputForms[]) {\n      const stepModel: Array<{}> = [];\n\n      this.setNextDisabled();\n\n      if (inputs[4].model) {\n        if (this.validateCNPJ(inputs[4].model)) {\n          this.setHelp(inputs, 4, \"Este CNPJ é valido\", \"valid\");\n          inputs[4].model = this.formatCNPJ(inputs[4].model);\n        } else {\n          this.setHelp(inputs, 4, \"Este CNPJ é invalido\", \"invalid\");\n          this.$emit(\"setNextDisabled\", false);\n        }\n      }\n\n      if (inputs[0].model) {\n        this.filterSubCategories(inputs[0].model);\n      }\n\n      if (this.category !== inputs[0].model) {\n        this.arrayInputs[1].model = \"\";\n        this.category = inputs[0].model;\n      }\n\n      inputs.forEach((input) => {\n        stepModel.push(input.model);\n        this.storageInputsStep(stepModel);\n      });\n    }\n\n    private filterSubCategories(input) {\n      if (!(this.subCategories && this.subCategories.length)) return;\n      const { subcategories }: any = this.subCategories.filter(\n        (category: any) => {\n          return category.name === input.label;\n        }\n      )[0];\n      this.arrayInputs[1].options = subcategories.map((subcategory: any) => {\n        return {\n          id: subcategory.name,\n          label: subcategory.name,\n          cnae: subcategory.cnae,\n        };\n      });\n    }\n\n    private setNextDisabled() {\n      this.arrayInputs[0].model &&\n      this.arrayInputs[1].model &&\n      this.arrayInputs[2].model &&\n      this.arrayInputs[3].model\n        ? this.$emit(\"setNextDisabled\", true)\n        : this.$emit(\"setNextDisabled\", false);\n    }\n\n    private setHelp(\n      inputs: InputForms[],\n      index: number,\n      helpMsg: string,\n      type: TypeHelp\n    ) {\n      switch (type) {\n        case \"valid\":\n          this.setClassAndHelp(inputs, index, \"help\", helpMsg);\n          this.setClassAndHelp(\n            inputs,\n            index,\n            \"classHelp\",\n            \"form-text valid-feedback\"\n          );\n          this.setClassAndHelp(\n            inputs,\n            index,\n            \"classInput\",\n            \"form-control is-valid\"\n          );\n          break;\n        case \"invalid\":\n          this.setClassAndHelp(inputs, index, \"help\", helpMsg);\n          this.setClassAndHelp(\n            inputs,\n            index,\n            \"classHelp\",\n            \"form-text invalid-feedback\"\n          );\n          this.setClassAndHelp(\n            inputs,\n            index,\n            \"classInput\",\n            \"form-control is-invalid\"\n          );\n          break;\n        case \"normal\":\n          this.setClassAndHelp(inputs, index, \"help\", helpMsg);\n          this.setClassAndHelp(\n            inputs,\n            index,\n            \"classHelp\",\n            \"form-text text-muted\"\n          );\n          this.setClassAndHelp(inputs, index, \"classInput\", \"form-control\");\n          break;\n      }\n    }\n\n    private setClassAndHelp(\n      inputs: InputForms[],\n      index: number,\n      name: string,\n      value: string\n    ) {\n      inputs[index][name] = value;\n    }\n\n    private validateCNPJ(cnpj: string): boolean {\n      return CNPJ.isValid(cnpj);\n    }\n\n    private formatCNPJ(cnpj: string): string {\n      return CNPJ.format(cnpj);\n    }\n\n    private storageInputsStep(inputsModel: Array<{}>) {\n      this.$emit(\"storageInputsStep\", this.step, inputsModel);\n    }\n  }\n\n  export { StepThree as default };\n</script>\n\n<style lang=\"scss\" scoped></style>"]}]}