{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/views/Cupon/CuponEditView.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/views/Cupon/CuponEditView.vue","mtime":1691603490958},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwoKLy8gaW1wb3J0IFByb2R1Y3RDcmVhdGVPckVkaXRJbmZvIGZyb20gIkAvdmlld3MvUHJvZHVjdC9Qcm9kdWN0Q3JlYXRlT3JFZGl0SW5mby52dWUiOwppbXBvcnQgQ3Vwb25DcmVhdGVPckVkaXRJbmZvIGZyb20gIkAvdmlld3MvQ3Vwb24vQ3Vwb25DcmVhdGVPckVkaXRJbmZvLnZ1ZSI7Ci8vIGltcG9ydCBQcm9kdWN0Q3JlYXRlT3JFZGl0SW1hZ2VzIGZyb20gIkAvdmlld3MvUHJvZHVjdC9Qcm9kdWN0Q3JlYXRlT3JFZGl0SW1hZ2VzLnZ1ZSI7Ci8vIGltcG9ydCBQcm9kdWN0Q3JlYXRlT3JFZGl0SW1hZ2VzIGZyb20gIkAvdmlld3MvQ3Vwb24vIjsKCmltcG9ydCBjdXBvblNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9jdXBvbi5zZXJ2aWNlIjsKaW1wb3J0IFN3YWwsIHsgU3dlZXRBbGVydFR5cGUgfSBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBWdWVTaW1wbGVBbGVydCBmcm9tICJ2dWUtc2ltcGxlLWFsZXJ0IjsKCi8vIGludGVyZmFjZSBJRGF0YSB7Ci8vICAgY3Vwb246IGFueTsKLy8gICAvLyBjdXBvblNlcnZpY2U6IGN1cG9uU2VydmljZTsKLy8gICBpc0xvYWRpbmc6IGJvb2xlYW47Ci8vIH0KCmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICJDdXBvbkVkaXRWaWV3IiwKCiAgY29tcG9uZW50czogewogICAgQ3Vwb25DcmVhdGVPckVkaXRJbmZvLAogIH0sCgogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIGN1cG9uOiBudWxsLAogICAgICBjdXBvblNlcnZpY2U6IG5ldyBjdXBvblNlcnZpY2UoKSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgLy8gaXNTZXJ2aWNlKCk6IGJvb2xlYW4gewogICAgLy8gICBpZiAoIXRoaXMucHJvZHVjdCkgcmV0dXJuIGZhbHNlOwogICAgLy8gICByZXR1cm4gdGhpcy5wcm9kdWN0LnJlZ2lzdGVyX3R5cGUgPT09ICdTZXJ2aWNlJzsKICAgIC8vIH0KICB9LAoKICBhc3luYyBjcmVhdGVkKCkgewogICAgLy8gYXdhaXQgdGhpcy5nZXRQcm9kdWN0KCk7CiAgfSwKCiAgbWV0aG9kczogeyAKICAgIGFzeW5jIHVwZGF0ZUN1cG9uKGRhdGEsIGNvdXBvbkd1aWQpewogICAgICBjb25zb2xlLmxvZygiZGF0YWFhZWZldCIsIGRhdGEpCiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jdXBvblNlcnZpY2UudXBkYXRlQ3Vwb24oZGF0YSwgY291cG9uR3VpZCkKICAgICAgY29uc29sZS5sb2coInJyZXJlcmVzcG9uc2UiLCByZXNwb25zZS5kYXRhKQogICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykgewogICAgICAgIGNhc2UgMjAwOgogICAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UoInN1Y2Nlc3MiLCAiQXR1YWxpemFkbyBjb20gc3VjZXNzbyEiKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDUwMDoKICAgICAgICAgIHRoaXMudG9hc3RNZXNzYWdlKCJlcnJvciIsICJFcnJvLCB0ZW50ZSBub3ZhbWVudGUiKTsKICAgICAgICAgIGJyZWFrOyAgIAogICAgICB9CiAgICB9LAoKICAgIHRvYXN0TWVzc2FnZSh0eXBlOiBTd2VldEFsZXJ0VHlwZSwgdGl0bGU6IHN0cmluZykgewogICAgICBWdWVTaW1wbGVBbGVydC5maXJlKHsKICAgICAgICB0eXBlLAogICAgICAgIHRpdGxlLAogICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgIG9uT3BlbjogKHRvYXN0KSA9PiB7CiAgICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgU3dhbC5zdG9wVGltZXIpLAogICAgICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgU3dhbC5yZXN1bWVUaW1lcik7CiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIGFzeW5jIGdldFByb2R1Y3QoKSB7CiAgICAvLyAgIHRyeSB7CiAgICAvLyAgICAgY29uc3Qge2RhdGF9ID0gYXdhaXQgdGhpcy5wcm9kdWN0c1NlcnZpY2UuZ2V0UHJvZHVjdERldGFpbCh0aGlzLiRyb3V0ZS5wYXJhbXMucHJvZHVjdEd1aWQpOwogICAgLy8gICAgIHRoaXMucHJvZHVjdCA9IGRhdGE7CiAgICAvLyAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgLy8gICB9CiAgICAvLyB9LAoKICAgIC8vIGFzeW5jIHVwZGF0ZVByb2R1Y3QoZGF0YSkgewogICAgLy8gICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAvLyAgIHRyeSB7CiAgICAvLyAgICAgYXdhaXQgdGhpcy5wcm9kdWN0c1NlcnZpY2UuZWRpdFByb2R1Y3ROZXcoZGF0YSwgdGhpcy5wcm9kdWN0Py5ndWlkKTsKICAgIC8vICAgfSBjYXRjaCAoZSkgewogICAgLy8gICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnRXJybyBhbyBhdHVhbGl6YXIgcHJvZHV0byc7CgogICAgLy8gICAgIGlmIChlLnJlc3BvbnNlICYmIGUucmVzcG9uc2Uuc3RhdHVzID09PSAzMDQpIHsKICAgIC8vICAgICAgIGVycm9yTWVzc2FnZSA9ICdKw6EgZXhpc3RlIHVtIHByb2R1dG8gY29tIGVzc2Ugbm9tZSEnOwogICAgLy8gICAgIH0KCiAgICAvLyAgICAgYXdhaXQgdGhpcy4kYWxlcnQoZXJyb3JNZXNzYWdlLCAnJywgJ2Vycm9yJywgewogICAgLy8gICAgICAgdG9hc3Q6IHRydWUsCiAgICAvLyAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgLy8gICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgdGltZXI6IDMwMDAsCiAgICAvLyAgICAgfSk7CgogICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAvLyAgIH0KICAgIC8vICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIC8vIH0sCiAgfQp9KTsK"},{"version":3,"sources":["CuponEditView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"CuponEditView.vue","sourceRoot":"src/views/Cupon","sourcesContent":["<template>\n  <section>\n    <Header/>\n\n    <main class=\"product-edit-wrapper container mb-5\">\n      <div class=\"product-edit-wrapper__breadcrumbs d-flex align-items-center mb-4\">\n        <router-link to=\"/cupons\" class=\"mr-1\">\n          <span class=\"material-icons\">arrow_back</span>\n          Cupons\n        </router-link>\n        / Editar \n      </div>\n\n      <cupon-create-or-edit-info\n        id=\"create-or-edit-info\"\n        class=\"mb-3\"\n        :open=\"true\"\n        :is-parent-loading=\"isLoading\"\n        :has-created-product=\"true\"\n        :is-service=\"isService\"\n        :is-update-page=\"true\"\n        @submit-valid=\"updateCupon\"\n      />\n    </main>\n\n    <Footer/>\n  </section>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue';\n\n// import ProductCreateOrEditInfo from \"@/views/Product/ProductCreateOrEditInfo.vue\";\nimport CuponCreateOrEditInfo from \"@/views/Cupon/CuponCreateOrEditInfo.vue\";\n// import ProductCreateOrEditImages from \"@/views/Product/ProductCreateOrEditImages.vue\";\n// import ProductCreateOrEditImages from \"@/views/Cupon/\";\n\nimport cuponService from \"@/services/cupon.service\";\nimport Swal, { SweetAlertType } from \"sweetalert2\";\nimport VueSimpleAlert from \"vue-simple-alert\";\n\n// interface IData {\n//   cupon: any;\n//   // cuponService: cuponService;\n//   isLoading: boolean;\n// }\n\nexport default Vue.extend({\n  name: \"CuponEditView\",\n\n  components: {\n    CuponCreateOrEditInfo,\n  },\n\n  data(){\n    return {\n      cupon: null,\n      cuponService: new cuponService(),\n      isLoading: false,\n    }\n  },\n\n  computed: {\n    // isService(): boolean {\n    //   if (!this.product) return false;\n    //   return this.product.register_type === 'Service';\n    // }\n  },\n\n  async created() {\n    // await this.getProduct();\n  },\n\n  methods: { \n    async updateCupon(data, couponGuid){\n      console.log(\"dataaaefet\", data)\n      const response = await this.cuponService.updateCupon(data, couponGuid)\n      console.log(\"rrereresponse\", response.data)\n      switch (response.status) {\n        case 200:\n          this.toastMessage(\"success\", \"Atualizado com sucesso!\");\n          this.$router.back();\n          break;\n        case 500:\n          this.toastMessage(\"error\", \"Erro, tente novamente\");\n          break;   \n      }\n    },\n\n    toastMessage(type: SweetAlertType, title: string) {\n      VueSimpleAlert.fire({\n        type,\n        title,\n        toast: true,\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 3000,\n        onOpen: (toast) => {\n          toast.addEventListener(\"mouseenter\", Swal.stopTimer),\n            toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n        },\n      });\n    },\n\n    // async getProduct() {\n    //   try {\n    //     const {data} = await this.productsService.getProductDetail(this.$route.params.productGuid);\n    //     this.product = data;\n    //   } catch (e) {\n    //     console.error(e);\n    //   }\n    // },\n\n    // async updateProduct(data) {\n    //   this.isLoading = true;\n    //   try {\n    //     await this.productsService.editProductNew(data, this.product?.guid);\n    //   } catch (e) {\n    //     let errorMessage = 'Erro ao atualizar produto';\n\n    //     if (e.response && e.response.status === 304) {\n    //       errorMessage = 'JÃ¡ existe um produto com esse nome!';\n    //     }\n\n    //     await this.$alert(errorMessage, '', 'error', {\n    //       toast: true,\n    //       position: 'top-end',\n    //       showConfirmButton: false,\n    //       timer: 3000,\n    //     });\n\n    //     console.error(e);\n    //   }\n    //   this.isLoading = false;\n    // },\n  }\n});\n</script>\n\n<style scoped lang=\"scss\">\n.product-edit-wrapper {\n  max-width: 680px;\n\n  &__breadcrumbs {\n    line-height: 1 !important;\n\n    color: #000000;\n\n    font-weight: 500;\n\n    a {\n      display: flex;\n      align-items: center;\n      text-decoration: none !important;\n    }\n\n    span.material-icons {\n      font-size: 1rem;\n    }\n  }\n}\n</style>"]}]}