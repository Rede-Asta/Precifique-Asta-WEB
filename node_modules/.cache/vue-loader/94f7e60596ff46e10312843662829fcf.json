{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/register-seller/login-form/LoginForm.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/register-seller/login-form/LoginForm.vue","mtime":1673321154838},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1673370377290},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgppbXBvcnQgeyBJbnB1dEZvcm1zLCBUeXBlSGVscCB9IGZyb20gIkAvbW9kZWxzL2lucHV0Rm9ybXMiOwppbXBvcnQgUmVnaXN0ZXJTZWxsZXJTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvcmVnaXN0ZXIuc2VydmljZSI7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CgpAQ29tcG9uZW50KHt9KQpleHBvcnQgY2xhc3MgTG9naW5Gb3JtIGV4dGVuZHMgVnVlIHsKICBAUHJvcCgpIHByb3BBcnJheUlucHV0cyE6IElucHV0Rm9ybXNbXTsKCiAgcHVibGljIGFycmF5SW5wdXRzOiBJbnB1dEZvcm1zW10gPSB0aGlzLnByb3BBcnJheUlucHV0czsKICBwdWJsaWMgcmVnUGhvbmUgPSAvKFxkezJ9KShcZHs1fSkoXGR7NH0pLzsKICBwcml2YXRlIHJlZ2lzdGVyU2VydmljZSA9IG5ldyBSZWdpc3RlclNlbGxlclNlcnZpY2UoKTsKCiAgcHVibGljIHZhbGlkYXRlSW5wdXRzKGlucHV0czogSW5wdXRGb3Jtc1tdKSB7CiAgICBjb25zdCBzdGVwTW9kZWwgPSBpbnB1dHMubWFwKChpbnB1dCkgPT4gaW5wdXQubW9kZWwpOwogICAgdGhpcy5jaGVja1VzZXIoc3RlcE1vZGVsWzBdKTsKICB9CgogIGNoZWNrVXNlcih2YWx1ZTogc3RyaW5nKSB7CiAgICBjb25zdCByZWcgPSAvW2EtekEtWlx1MDBDMC1cdTAwRkYgXSsvaTsKCiAgICBpZiAocmVnLnRlc3QodmFsdWUpICYmIHZhbHVlLmluY2x1ZGVzKCJAIikpIHsKICAgICAgdGhpcy5hcnJheUlucHV0c1swXS50eXBlID0gImVtYWlsIjsKICAgICAgdGhpcy52YWxpZGF0ZVNlbGxlcih7IHBob25lOiAiIiwgZW1haWw6IHZhbHVlIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5hcnJheUlucHV0c1swXS50eXBlID0gInRleHQiOwogICAgICB0aGlzLmFycmF5SW5wdXRzWzBdLm1vZGVsID0gdGhpcy5hZGRNYXNrKHZhbHVlKTsKICAgICAgdGhpcy52YWxpZGF0ZVNlbGxlcih7IHBob25lOiB0aGlzLnJlbW92ZU1hc2sodmFsdWUpLCBlbWFpbDogIiIgfSk7CiAgICB9CgogICAgdGhpcy4kZW1pdCgic3RlcE1vZGVsTG9naW4iLCB0aGlzLmFycmF5SW5wdXRzWzBdLm1vZGVsKTsKICB9CgogIHByaXZhdGUgYWRkTWFzayhtb2JpbGU6IHN0cmluZykgewogICAgcmV0dXJuIG1vYmlsZS5yZXBsYWNlKAogICAgICB0aGlzLnJlZ1Bob25lLAogICAgICAocmVnZXgsIGFyZzEsIGFyZzIsIGFyZzMpID0+IGAoJHthcmcxfSkgJHthcmcyfS0ke2FyZzN9YAogICAgKTsKICB9CgogIHByaXZhdGUgcmVtb3ZlTWFzayhtb2JpbGUpIHsKICAgIHJldHVybiBtb2JpbGUucmVwbGFjZSgvW14wLTldL2csICIiKTsKICB9CgogIHByaXZhdGUgYXN5bmMgdmFsaWRhdGVTZWxsZXIodmFsdWU6IHsgcGhvbmU6IHN0cmluZzsgZW1haWw6IHN0cmluZyB9KSB7CiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVnaXN0ZXJTZXJ2aWNlLnZhbGlkYXRlU2VsbGVyKHZhbHVlKTsKICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICB2YWx1ZS5waG9uZQogICAgICA/IHRoaXMuY2hlY2tQaG9uZShkYXRhLnBob25lLCB0aGlzLmFycmF5SW5wdXRzKQogICAgICA6IHRoaXMuY2hlY2tFbWFpbChkYXRhLmVtYWlsLCB0aGlzLmFycmF5SW5wdXRzKTsKICB9CgogIHByaXZhdGUgY2hlY2tQaG9uZShkYXRhOiBib29sZWFuLCBpbnB1dHM6IElucHV0Rm9ybXNbXSkgewogICAgIWRhdGEKICAgICAgPyB0aGlzLnNldEhlbHAoaW5wdXRzLCAwLCAiT2siLCAidmFsaWQiKQogICAgICA6IHRoaXMuc2V0SGVscCgKICAgICAgICAgIGlucHV0cywKICAgICAgICAgIDAsCiAgICAgICAgICAiVmVuZGVkb3IgY29tIGVzdGUgTsO6bWVybyBwYXJhIGNvbnRhdG8gbsOjbyBleGlzdGUuIiwKICAgICAgICAgICJpbnZhbGlkIgogICAgICAgICk7CiAgfQogIHByaXZhdGUgY2hlY2tFbWFpbChkYXRhOiBib29sZWFuLCBpbnB1dHM6IElucHV0Rm9ybXNbXSkgewogICAgIWRhdGEKICAgICAgPyB0aGlzLnNldEhlbHAoaW5wdXRzLCAwLCAiT2siLCAidmFsaWQiKQogICAgICA6IHRoaXMuc2V0SGVscCgKICAgICAgICAgIGlucHV0cywKICAgICAgICAgIDAsCiAgICAgICAgICAiVmVuZGVkb3IgY29tIGVzdGUgRW1haWwgbsOjbyBleGlzdGUuIiwKICAgICAgICAgICJpbnZhbGlkIgogICAgICAgICk7CiAgfQoKICBwcml2YXRlIHNldEhlbHAoCiAgICBpbnB1dHM6IElucHV0Rm9ybXNbXSwKICAgIGluZGV4OiBudW1iZXIsCiAgICBoZWxwTXNnOiBzdHJpbmcsCiAgICB0eXBlOiBUeXBlSGVscAogICkgewogICAgc3dpdGNoICh0eXBlKSB7CiAgICAgIGNhc2UgInZhbGlkIjoKICAgICAgICB0aGlzLnNldENsYXNzQW5kSGVscChpbnB1dHMsIGluZGV4LCAiaGVscCIsIGhlbHBNc2cpOwogICAgICAgIHRoaXMuc2V0Q2xhc3NBbmRIZWxwKAogICAgICAgICAgaW5wdXRzLAogICAgICAgICAgaW5kZXgsCiAgICAgICAgICAiY2xhc3NIZWxwIiwKICAgICAgICAgICJmb3JtLXRleHQgdmFsaWQtZmVlZGJhY2siCiAgICAgICAgKTsKICAgICAgICB0aGlzLnNldENsYXNzQW5kSGVscCgKICAgICAgICAgIGlucHV0cywKICAgICAgICAgIGluZGV4LAogICAgICAgICAgImNsYXNzSW5wdXQiLAogICAgICAgICAgImZvcm0tY29udHJvbCBpcy12YWxpZCIKICAgICAgICApOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICJpbnZhbGlkIjoKICAgICAgICB0aGlzLnNldENsYXNzQW5kSGVscChpbnB1dHMsIGluZGV4LCAiaGVscCIsIGhlbHBNc2cpOwogICAgICAgIHRoaXMuc2V0Q2xhc3NBbmRIZWxwKAogICAgICAgICAgaW5wdXRzLAogICAgICAgICAgaW5kZXgsCiAgICAgICAgICAiY2xhc3NIZWxwIiwKICAgICAgICAgICJmb3JtLXRleHQgaW52YWxpZC1mZWVkYmFjayIKICAgICAgICApOwogICAgICAgIHRoaXMuc2V0Q2xhc3NBbmRIZWxwKAogICAgICAgICAgaW5wdXRzLAogICAgICAgICAgaW5kZXgsCiAgICAgICAgICAiY2xhc3NJbnB1dCIsCiAgICAgICAgICAiZm9ybS1jb250cm9sIGlzLWludmFsaWQiCiAgICAgICAgKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAibm9ybWFsIjoKICAgICAgICB0aGlzLnNldENsYXNzQW5kSGVscChpbnB1dHMsIGluZGV4LCAiaGVscCIsIGhlbHBNc2cpOwogICAgICAgIHRoaXMuc2V0Q2xhc3NBbmRIZWxwKAogICAgICAgICAgaW5wdXRzLAogICAgICAgICAgaW5kZXgsCiAgICAgICAgICAiY2xhc3NIZWxwIiwKICAgICAgICAgICJmb3JtLXRleHQgdGV4dC1tdXRlZCIKICAgICAgICApOwogICAgICAgIHRoaXMuc2V0Q2xhc3NBbmRIZWxwKGlucHV0cywgaW5kZXgsICJjbGFzc0lucHV0IiwgImZvcm0tY29udHJvbCIpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcHJpdmF0ZSBzZXRDbGFzc0FuZEhlbHAoCiAgICBpbnB1dHM6IElucHV0Rm9ybXNbXSwKICAgIGluZGV4OiBudW1iZXIsCiAgICBuYW1lOiBzdHJpbmcsCiAgICB2YWx1ZTogc3RyaW5nCiAgKSB7CiAgICBpbnB1dHNbaW5kZXhdW25hbWVdID0gdmFsdWU7CiAgfQp9CgpleHBvcnQgeyBMb2dpbkZvcm0gYXMgZGVmYXVsdCB9Owo="},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"LoginForm.vue","sourceRoot":"src/components/register-seller/login-form","sourcesContent":["<template>\n  <section id=\"login\" class=\"col-12 col-xl-10 mx-auto my-4\">\n    <input-form\n      v-if=\"arrayInputs\"\n      :propArrayInputs=\"arrayInputs\"\n      v-on:validateInputs=\"validateInputs\"\n    />\n  </section>\n</template>\n\n<script lang=\"ts\">\n  import { InputForms, TypeHelp } from \"@/models/inputForms\";\n  import RegisterSellerService from \"@/services/register.service\";\n  import { Component, Prop, Vue } from \"vue-property-decorator\";\n\n  @Component({})\n  export class LoginForm extends Vue {\n    @Prop() propArrayInputs!: InputForms[];\n\n    public arrayInputs: InputForms[] = this.propArrayInputs;\n    public regPhone = /(\\d{2})(\\d{5})(\\d{4})/;\n    private registerService = new RegisterSellerService();\n\n    public validateInputs(inputs: InputForms[]) {\n      const stepModel = inputs.map((input) => input.model);\n      this.checkUser(stepModel[0]);\n    }\n\n    checkUser(value: string) {\n      const reg = /[a-zA-Z\\u00C0-\\u00FF ]+/i;\n\n      if (reg.test(value) && value.includes(\"@\")) {\n        this.arrayInputs[0].type = \"email\";\n        this.validateSeller({ phone: \"\", email: value });\n      } else {\n        this.arrayInputs[0].type = \"text\";\n        this.arrayInputs[0].model = this.addMask(value);\n        this.validateSeller({ phone: this.removeMask(value), email: \"\" });\n      }\n\n      this.$emit(\"stepModelLogin\", this.arrayInputs[0].model);\n    }\n\n    private addMask(mobile: string) {\n      return mobile.replace(\n        this.regPhone,\n        (regex, arg1, arg2, arg3) => `(${arg1}) ${arg2}-${arg3}`\n      );\n    }\n\n    private removeMask(mobile) {\n      return mobile.replace(/[^0-9]/g, \"\");\n    }\n\n    private async validateSeller(value: { phone: string; email: string }) {\n      const response = await this.registerService.validateSeller(value);\n      const data = await response.json();\n      value.phone\n        ? this.checkPhone(data.phone, this.arrayInputs)\n        : this.checkEmail(data.email, this.arrayInputs);\n    }\n\n    private checkPhone(data: boolean, inputs: InputForms[]) {\n      !data\n        ? this.setHelp(inputs, 0, \"Ok\", \"valid\")\n        : this.setHelp(\n            inputs,\n            0,\n            \"Vendedor com este Número para contato não existe.\",\n            \"invalid\"\n          );\n    }\n    private checkEmail(data: boolean, inputs: InputForms[]) {\n      !data\n        ? this.setHelp(inputs, 0, \"Ok\", \"valid\")\n        : this.setHelp(\n            inputs,\n            0,\n            \"Vendedor com este Email não existe.\",\n            \"invalid\"\n          );\n    }\n\n    private setHelp(\n      inputs: InputForms[],\n      index: number,\n      helpMsg: string,\n      type: TypeHelp\n    ) {\n      switch (type) {\n        case \"valid\":\n          this.setClassAndHelp(inputs, index, \"help\", helpMsg);\n          this.setClassAndHelp(\n            inputs,\n            index,\n            \"classHelp\",\n            \"form-text valid-feedback\"\n          );\n          this.setClassAndHelp(\n            inputs,\n            index,\n            \"classInput\",\n            \"form-control is-valid\"\n          );\n          break;\n        case \"invalid\":\n          this.setClassAndHelp(inputs, index, \"help\", helpMsg);\n          this.setClassAndHelp(\n            inputs,\n            index,\n            \"classHelp\",\n            \"form-text invalid-feedback\"\n          );\n          this.setClassAndHelp(\n            inputs,\n            index,\n            \"classInput\",\n            \"form-control is-invalid\"\n          );\n          break;\n        case \"normal\":\n          this.setClassAndHelp(inputs, index, \"help\", helpMsg);\n          this.setClassAndHelp(\n            inputs,\n            index,\n            \"classHelp\",\n            \"form-text text-muted\"\n          );\n          this.setClassAndHelp(inputs, index, \"classInput\", \"form-control\");\n          break;\n      }\n    }\n\n    private setClassAndHelp(\n      inputs: InputForms[],\n      index: number,\n      name: string,\n      value: string\n    ) {\n      inputs[index][name] = value;\n    }\n  }\n\n  export { LoginForm as default };\n</script>\n\n<style lang=\"scss\" scoped></style>"]}]}