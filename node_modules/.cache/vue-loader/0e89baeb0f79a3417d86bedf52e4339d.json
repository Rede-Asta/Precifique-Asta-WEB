{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/category-modal/CategoryModal.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/category-modal/CategoryModal.vue","mtime":1696272469047},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgVnVlU2ltcGxlQWxlcnQgZnJvbSAidnVlLXNpbXBsZS1hbGVydCI7CmltcG9ydCBTd2FsLCB7IFN3ZWV0QWxlcnRUeXBlIH0gZnJvbSAic3dlZXRhbGVydDIiOwoKaW1wb3J0IHsKICBDYXRlZ29yeSwKICBJQ2F0ZWdvcnksCiAgTm90aWZpY2F0aW9uQ2F0ZWdvcnksCiAgVmFyaWFudFZhbHVlLAp9IGZyb20gIkAvbW9kZWxzL2NhdGVnb3J5IjsKaW1wb3J0IFNlbGxlciBmcm9tICJAL21vZGVscy9zZWxsZXIiOwppbXBvcnQgY2F0ZWdvcnlTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvY2F0ZWdvcnkuc2VydmljZSI7CgpAQ29tcG9uZW50KHt9KQpleHBvcnQgY2xhc3MgQ2F0ZWdvcnlNb2RhbCBleHRlbmRzIFZ1ZSB7CiAgQFByb3AoKSBwcm9wQ2F0ZWdvcnlTZWxlY3RlZCE6IENhdGVnb3J5OwogIEBQcm9wKCkgcHJvcExvZ2dlZFVzZXIhOiBTZWxsZXI7CiAgQFByb3AoKSBwcm9wQ3JlYXRlQ2F0ZWdvcnkhOiBib29sZWFuOwogIEBQcm9wKCkgcHJvcEVkaXRDYXRlZ29yeSE6IGJvb2xlYW47CiAgQFByb3AoKSBwcm9wSXNDYXRlZ29yeVNlcnZpY2UhOiBib29sZWFuOwoKICBwdWJsaWMgY2F0ZWdvcnlTZWxlY3RlZDogQ2F0ZWdvcnkgPSB0aGlzLnByb3BDYXRlZ29yeVNlbGVjdGVkOwogIHB1YmxpYyBjYXRlZ29yeUhhc1ZhcmlhbnQ6IGJvb2xlYW4gfCB1bmRlZmluZWQgPQogICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkLnZhcmlhbnRfc3RhdHVzOwogIHB1YmxpYyBsb2dnZWRVc2VyOiBTZWxsZXIgPSB0aGlzLnByb3BMb2dnZWRVc2VyOwogIHB1YmxpYyBzaG93RWRpdENhdGVnb3J5OiBib29sZWFuID0gdGhpcy5wcm9wRWRpdENhdGVnb3J5OwogIHB1YmxpYyBpc0NhdGVnb3J5U2VydmljZTogYm9vbGVhbiA9IHRoaXMucHJvcElzQ2F0ZWdvcnlTZXJ2aWNlOwogIHB1YmxpYyBzaG93Q3JlYXRlQ2F0ZWdvcnk6IGJvb2xlYW4gPSB0aGlzLnByb3BDcmVhdGVDYXRlZ29yeTsKCiAgcHVibGljIHNob3dDb25maXJtRWRpdFZhcmlhbnQ6IGJvb2xlYW4gPSBmYWxzZTsKICBwdWJsaWMgZGVsZXRlZEFsbFZhcmlhbnRzOiBib29sZWFuID0gZmFsc2U7CgogIHB1YmxpYyBzaG93RGVsZXRlQ2F0ZWdvcnk6IGJvb2xlYW4gPSBmYWxzZTsKICBwdWJsaWMgdGl0bGU6IHN0cmluZyA9ICIiOwogIHB1YmxpYyBzdWJ0aXRsZTogc3RyaW5nID0gIiI7CiAgcHVibGljIHRpdGxlQnRuOiBzdHJpbmcgPSAiIjsKICBwdWJsaWMgbXNnRXJyb3I6IHN0cmluZyA9ICIiOwoKICBwdWJsaWMgdmFyaWFudERlbGV0ZTogVmFyaWFudFZhbHVlW10gPSBbXTsKICBwdWJsaWMgdmFyaWFudEVkaXQ6IFZhcmlhbnRWYWx1ZVtdID0gW107CiAgcHVibGljIHZhcmlhbnRDcmVhdGU6IHN0cmluZ1tdID0gW107CgogIHB1YmxpYyBtc2dJbnB1dHM6IE5vdGlmaWNhdGlvbkNhdGVnb3J5ID0gewogICAgbmFtZTogIiIsCiAgICB2YXJpYW50X25hbWU6ICIiLAogICAgdmFyaWFudF92YWx1ZTogW10sCiAgfTsKCiAgcHJpdmF0ZSBjYXRlZ29yeVNlcnZpY2UgPSBuZXcgY2F0ZWdvcnlTZXJ2aWNlKCk7CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICB9CgogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5zaG93Q3JlYXRlQ2F0ZWdvcnkgJiYgIXRoaXMuc2hvd0VkaXRDYXRlZ29yeSkgewogICAgICB0aGlzLnNldFRpdGxlcygKICAgICAgICAiQWRpY2lvbmFyIENhdGVnb3JpYSIsCiAgICAgICAgIkluc2lyYSBvIG5vbWUgZGEgY2F0ZWdvcmlhIGUgc3VhcyB2YXJpYW50ZXMiLAogICAgICAgICJTYWx2YXIgQ2F0ZWdvcmlhIgogICAgICApOwogICAgfSBlbHNlIGlmICh0aGlzLnNob3dFZGl0Q2F0ZWdvcnkpIHsKICAgICAgdGhpcy5zZXRUaXRsZXMoCiAgICAgICAgIkVkaXRhciBDYXRlZ29yaWEiLAogICAgICAgICJFZGl0ZSBvIG5vbWUgZGEgY2F0ZWdvcmlhIGUgc3VhcyB2YXJpYW50ZXMiLAogICAgICAgICJBdHVhbGl6YXIgQ2F0ZWdvcmlhIgogICAgICApOwogICAgfQogIH0KCiAgcHJpdmF0ZSBzZXRUaXRsZXModGl0bGU6IHN0cmluZywgc3VidGl0bGU6IHN0cmluZywgdGl0bGVCdG46IHN0cmluZykgewogICAgdGhpcy50aXRsZSA9IHRpdGxlOwogICAgdGhpcy5zdWJ0aXRsZSA9IHN1YnRpdGxlOwogICAgdGhpcy50aXRsZUJ0biA9IHRpdGxlQnRuOwogIH0KCiAgcHVibGljIGFkZE5ld09wdCA9ICgpID0+CiAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQudmFyaWFudF92YWx1ZS5wdXNoKHsgdmFsdWU6ICIiIH0pOwoKICBwdWJsaWMgbW9kaWZpZWRPcHQodmFyaWFudFZhbHVlOiBWYXJpYW50VmFsdWUpIHsKICAgIGlmICgKICAgICAgdmFyaWFudFZhbHVlLmd1aWQgJiYKICAgICAgIXRoaXMudmFyaWFudEVkaXQuZmluZCgodmFyaWFudCkgPT4gdmFyaWFudC5ndWlkID09PSB2YXJpYW50VmFsdWUuZ3VpZCkKICAgICkgewogICAgICB0aGlzLnZhcmlhbnRFZGl0LnB1c2godmFyaWFudFZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IHZhcmlhbnRJbmRleCA9IHRoaXMudmFyaWFudEVkaXQuZmluZEluZGV4KAogICAgICAgICh2YXJpYW50KSA9PiB2YXJpYW50Lmd1aWQgPT09IHZhcmlhbnRWYWx1ZS5ndWlkCiAgICAgICk7CgogICAgICB0aGlzLnZhcmlhbnRFZGl0W3ZhcmlhbnRJbmRleF0udmFsdWUgPSB2YXJpYW50VmFsdWUudmFsdWU7CiAgICB9CiAgfQoKICBwdWJsaWMgcmVtb3ZlTmV3T3B0KGluZGV4OiBudW1iZXIsIHZhcmlhbnQ6IFZhcmlhbnRWYWx1ZSkgewogICAgaWYgKHRoaXMuY2F0ZWdvcnlTZWxlY3RlZC52YXJpYW50X3ZhbHVlW2luZGV4XS52YWx1ZSAhPT0gIiIpIHsKICAgICAgdGhpcy52YXJpYW50RGVsZXRlLnB1c2godmFyaWFudCk7CiAgICB9CiAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQudmFyaWFudF92YWx1ZS5zcGxpY2UoaW5kZXgsIDEpOwogIH0KCiAgcHVibGljIHNhdmVDYXRlZ29yeSgpIHsKICAgIHRoaXMudmFsaWRhdGVBZGRDYXRlZ29yeSgpOwogICAgaWYgKHRoaXMudmFsaWRhdGVJbnB1dHMoKSkgewogICAgICBpZiAodGhpcy5zaG93Q3JlYXRlQ2F0ZWdvcnkgfHwgdGhpcy5pc0NhdGVnb3J5U2VydmljZSkgewogICAgICAgIHRoaXMuY3JlYXRlQ2F0ZWdvcnkodGhpcy5zZXRDYXRlZ29yeSh0aGlzLmNhdGVnb3J5U2VsZWN0ZWQpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlbW92ZUR1cGxpY2F0ZSh0aGlzLmNhdGVnb3J5U2VsZWN0ZWQudmFyaWFudF92YWx1ZSkKICAgICAgICAgIC5maWx0ZXIoKHZhcmlhbnQpID0+ICF2YXJpYW50Lmd1aWQpCiAgICAgICAgICAuZm9yRWFjaCgodmFsKSA9PiB7CiAgICAgICAgICAgIHRoaXMudmFyaWFudENyZWF0ZS5wdXNoKHZhbC52YWx1ZSk7CiAgICAgICAgICB9KTsKCiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy52YXJpYW50Q3JlYXRlLmxlbmd0aCB8fAogICAgICAgICAgdGhpcy52YXJpYW50RGVsZXRlLmxlbmd0aCB8fAogICAgICAgICAgdGhpcy5jYXRlZ29yeUhhc1ZhcmlhbnQgIT09IHRoaXMuY2F0ZWdvcnlTZWxlY3RlZC52YXJpYW50X3N0YXR1cwogICAgICAgICkgewogICAgICAgICAgdGhpcy5vcGVuQ29uZmlybUVkaXRNb2RhbCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy52YXJpYW50Q3JlYXRlLmxlbmd0aCkgewogICAgICAgICAgICB0aGlzLmNyZWF0ZUNhdGVnb3J5VmFyaWFudCgpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLnZhcmlhbnREZWxldGUubGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuZGVsZXRlQ2F0ZWdvcnlWYXJpYW50KCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMudmFyaWFudEVkaXQubGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuZWRpdENhdGVnb3J5VmFyaWFudCgpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuZWRpdENhdGVnb3J5KAogICAgICAgICAgICB0aGlzLnNldENhdGVnb3J5KAogICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlTZWxlY3RlZCwKICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQub3JkZXJpbmcKICAgICAgICAgICAgKSwKICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkLmd1aWQKICAgICAgICAgICk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBwcml2YXRlIG9wZW5Db25maXJtRWRpdE1vZGFsKCkgewogICAgaWYgKCF0aGlzLmNhdGVnb3J5U2VsZWN0ZWQudmFyaWFudF9zdGF0dXMpIHsKICAgICAgdGhpcy5kZWxldGVkQWxsVmFyaWFudHMgPSB0cnVlOwogICAgfQoKICAgIHRoaXMuc2hvd0NvbmZpcm1FZGl0VmFyaWFudCA9IHRydWU7CiAgfQoKICBwcml2YXRlIHNldENhdGVnb3J5KGNhdGVnb3J5OiBJQ2F0ZWdvcnksIG9yZGVyaW5nOiBudW1iZXIgPSAxMDApIHsKICAgIGlmIChjYXRlZ29yeS52YXJpYW50X3N0YXR1cykgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6IGNhdGVnb3J5Lm5hbWUsCiAgICAgICAgb3JkZXJpbmcsCiAgICAgICAgdmFyaWFudF9uYW1lOiBjYXRlZ29yeS52YXJpYW50X25hbWUsCiAgICAgICAgdmFyaWFudF9zdGF0dXM6IGNhdGVnb3J5LnZhcmlhbnRfc3RhdHVzLAogICAgICAgIHZhcmlhbnRfdmFsdWU6IHRoaXMuc2hvd0NyZWF0ZUNhdGVnb3J5CiAgICAgICAgICA/IHRoaXMuc2V0Q3JlYXRlVmFyaWFudFZhbHVlKGNhdGVnb3J5LnZhcmlhbnRfdmFsdWUpCiAgICAgICAgICA6IGNhdGVnb3J5LnZhcmlhbnRfdmFsdWUsCiAgICAgICAgcmVnaXN0ZXJfdHlwZTogdGhpcy5pc0NhdGVnb3J5U2VydmljZSA/ICJTZXJ2aWNlIiA6ICJQcm9kdWN0IiwKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogY2F0ZWdvcnkubmFtZSwKICAgICAgICBvcmRlcmluZywKICAgICAgICB2YXJpYW50X3N0YXR1czogY2F0ZWdvcnkudmFyaWFudF9zdGF0dXMsCiAgICAgICAgcmVnaXN0ZXJfdHlwZTogdGhpcy5pc0NhdGVnb3J5U2VydmljZSA/ICJTZXJ2aWNlIiA6ICJQcm9kdWN0IiwKICAgICAgfTsKICAgIH0KICB9CgogIHByaXZhdGUgc2V0Q3JlYXRlVmFyaWFudFZhbHVlKAogICAgdmFyaWFudFZhbHVlOiBWYXJpYW50VmFsdWVbXSA9IFtdCiAgKTogVmFyaWFudFZhbHVlW10gewogICAgY29uc3QgdmFsdWVzOiBWYXJpYW50VmFsdWVbXSA9IFtdOwogICAgdmFyaWFudFZhbHVlLm1hcCgodmFyaWFudCkgPT4gdmFsdWVzLnB1c2goeyB2YWx1ZTogdmFyaWFudC52YWx1ZSB9KSk7CiAgICByZXR1cm4gdmFsdWVzOwogIH0KCiAgcHJpdmF0ZSB2YWxpZGF0ZUFkZENhdGVnb3J5KCkgewogICAgdGhpcy5yZXNldE1zZ0lucHV0cygpOwogICAgWyJuYW1lIiwgInZhcmlhbnRfbmFtZSIsICJ2YXJpYW50X3ZhbHVlIl0uZm9yRWFjaCgodmFsdWUpID0+CiAgICAgIHRoaXMuY2hlY2tJbnB1dHModmFsdWUpCiAgICApOwogIH0KCiAgcHJpdmF0ZSBjaGVja0lucHV0cyhjYXRlZ29yeUtleTogc3RyaW5nKSB7CiAgICBpZiAoY2F0ZWdvcnlLZXkgPT09ICJ2YXJpYW50X3ZhbHVlIikgewogICAgICB0aGlzLmNoZWNrVmFyaWFudFZhbHVlKCkuZmluZCgodmFsdWUpID0+IHsKICAgICAgICB2YWx1ZSA+PSAwCiAgICAgICAgICA/ICh0aGlzLm1zZ0lucHV0c1tjYXRlZ29yeUtleV1bdmFsdWVdID0gYEEgT3DDp8OjbyAkewogICAgICAgICAgICAgIHZhbHVlICsgMQogICAgICAgICAgICB9IMOpIGRlIHByZWVuY2hpbWVudG8gb2JyaWdhdMOzcmlvYCkKICAgICAgICAgIDogKHRoaXMubXNnSW5wdXRzW2NhdGVnb3J5S2V5XVt2YWx1ZV0gPSAiIik7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5U2VsZWN0ZWRbY2F0ZWdvcnlLZXldID09PSAiIikgewogICAgICB0aGlzLm1zZ0lucHV0c1tjYXRlZ29yeUtleV0gPSAiRXN0ZSBjYW1wbyDDqSBkZSBwcmVlbmNoaW1lbnRvIG9icmlnYXTDs3JpbyI7CiAgICB9CiAgfQoKICBwcml2YXRlIGNoZWNrVmFyaWFudFZhbHVlKCk6IG51bWJlcltdIHsKICAgIGNvbnN0IHZhbHVlSW5kZXg6IG51bWJlcltdID0gW107CiAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQudmFyaWFudF92YWx1ZS5mb3JFYWNoKCh2YWx1ZSwgaW5kZXg6IG51bWJlcikgPT4gewogICAgICBpZiAodGhpcy5jYXRlZ29yeVNlbGVjdGVkLnZhcmlhbnRfdmFsdWVbaW5kZXhdLnZhbHVlID09PSAiIikgewogICAgICAgIHZhbHVlSW5kZXgucHVzaChpbmRleCk7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHZhbHVlSW5kZXg7CiAgfQoKICBwcml2YXRlIHZhbGlkYXRlSW5wdXRzKCk6IGJvb2xlYW4gewogICAgbGV0IHZhbGlkYXRlSW5wdXQ6IGJvb2xlYW4gPSBmYWxzZTsKICAgIGlmICgKICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkLm5hbWUgIT09ICIiICYmCiAgICAgICghdGhpcy5jYXRlZ29yeVNlbGVjdGVkLnZhcmlhbnRfc3RhdHVzIHx8IHRoaXMuc2hvd0VkaXRDYXRlZ29yeSkKICAgICkgewogICAgICB2YWxpZGF0ZUlucHV0ID0gdHJ1ZTsKICAgIH0KICAgIGlmICgKICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkLnZhcmlhbnRfc3RhdHVzICYmCiAgICAgIHRoaXMuY2F0ZWdvcnlTZWxlY3RlZC5uYW1lICE9PSAiIiAmJgogICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQudmFyaWFudF9uYW1lICE9PSAiIiAmJgogICAgICAhdGhpcy5jaGVja1ZhcmlhbnRWYWx1ZSgpLmxlbmd0aAogICAgKSB7CiAgICAgIHZhbGlkYXRlSW5wdXQgPSB0cnVlOwogICAgfQogICAgcmV0dXJuIHZhbGlkYXRlSW5wdXQ7CiAgfQoKICBwcml2YXRlIHJlc2V0TXNnSW5wdXRzKCkgewogICAgdGhpcy5tc2dJbnB1dHMgPSB7CiAgICAgIG5hbWU6ICIiLAogICAgICB2YXJpYW50X25hbWU6ICIiLAogICAgICB2YXJpYW50X3ZhbHVlOiBbXSwKICAgIH07CiAgfQoKICBwcml2YXRlIGNyZWF0ZUNhdGVnb3J5KGNhdGVnb3J5OiBJQ2F0ZWdvcnkpIHsKICAgIHRoaXMuY2F0ZWdvcnlTZXJ2aWNlCiAgICAgIC5jcmVhdGVDYXRlZ29yeShjYXRlZ29yeSwgdGhpcy5sb2dnZWRVc2VyLnNsdWcpCiAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgc3dpdGNoIChkYXRhLnN0YXR1cykgewogICAgICAgICAgY2FzZSAyMDE6CiAgICAgICAgICAgIHRoaXMubmV4dFN0YXR1c1N1Y2Nlc3MoCiAgICAgICAgICAgICAgYEEgQ2F0ZWdvcmlhICR7Y2F0ZWdvcnkubmFtZX0gZm9pIGNhZGFzdHJhZGEuYAogICAgICAgICAgICApOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDIwMjoKICAgICAgICAgICAgZGF0YQogICAgICAgICAgICAgIC5qc29uKCkKICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHRoaXMuZWRpdENhdGVnb3J5KGNhdGVnb3J5LCByZXNwb25zZS5ndWlkKSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMzA0OgogICAgICAgICAgICB0aGlzLm5leHRTdGF0dXNFcnJvcigKICAgICAgICAgICAgICBgQSBDYXRlZ29yaWEgJHtjYXRlZ29yeS5uYW1lfSBqw6EgZXN0w6EgY2FkYXN0cmFkYS5gCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHRoaXMubmV4dFN0YXR1c0RlZmF1bHQoCiAgICAgICAgICAgICAgYERlc2N1bHBlLCBvY29ycmV1IGFsZ3VtIGVycm8gYW8gY2FkYXN0cmFyIGEgQ2F0ZWdvcmlhICR7Y2F0ZWdvcnkubmFtZX0sIHBvciBmYXZvciB0ZW50ZSBub3ZhbWVudGUgbWFpcyB0YXJkZWAKICAgICAgICAgICAgKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsKICB9CgogIHByaXZhdGUgYXN5bmMgZWRpdENhdGVnb3J5KGNhdGVnb3J5OiBJQ2F0ZWdvcnksIGd1aWQ6IHN0cmluZykgewogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhdGVnb3J5U2VydmljZS51cGRhdGVDYXRlZ29yeShjYXRlZ29yeSwgZ3VpZCk7CiAgICB0aGlzLmVkaXRSZXNwb25zZShyZXNwb25zZSwgY2F0ZWdvcnkpOwogIH0KCiAgcHJpdmF0ZSBlZGl0Q2F0ZWdvcnlWYXJpYW50ID0gYXN5bmMgKCkgPT4KICAgIGF3YWl0IHRoaXMuY2F0ZWdvcnlTZXJ2aWNlLnVwZGF0ZUNhdGVnb3J5VmFyaWFudCgKICAgICAgdGhpcy52YXJpYW50RWRpdCwKICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkLmd1aWQKICAgICk7CgogIHByaXZhdGUgZGVsZXRlQ2F0ZWdvcnlWYXJpYW50ID0gYXN5bmMgKCkgPT4KICAgIGF3YWl0IHRoaXMuY2F0ZWdvcnlTZXJ2aWNlLmRlbGV0ZUNhdGVnb3J5VmFyaWFudCgKICAgICAgdGhpcy5yZW1vdmVEdXBsaWNhdGUodGhpcy52YXJpYW50RGVsZXRlKSwKICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkLmd1aWQKICAgICk7CgogIHByaXZhdGUgY3JlYXRlQ2F0ZWdvcnlWYXJpYW50ID0gYXN5bmMgKCkgPT4KICAgIGF3YWl0IHRoaXMuY2F0ZWdvcnlTZXJ2aWNlLmNyZWF0ZUNhdGVnb3J5VmFyaWFudCgKICAgICAgdGhpcy52YXJpYW50Q3JlYXRlLAogICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQuZ3VpZAogICAgKTsKCiAgcHJpdmF0ZSByZW1vdmVEdXBsaWNhdGUgPSAoYXJyYXk6IFZhcmlhbnRWYWx1ZVtdKSA9PgogICAgYXJyYXkuZmlsdGVyKAogICAgICAoYXJyKSA9PiAhdGhpc1tKU09OLnN0cmluZ2lmeShhcnIpXSAmJiAodGhpc1tKU09OLnN0cmluZ2lmeShhcnIpXSA9IHRydWUpLAogICAgICBPYmplY3QuY3JlYXRlKG51bGwpCiAgICApOwoKICBwcml2YXRlIGVkaXRSZXNwb25zZShyZXNwb25zZTogUmVzcG9uc2UsIGNhdGVnb3J5OiBJQ2F0ZWdvcnkpIHsKICAgIHN3aXRjaCAocmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgIGNhc2UgMjAyOgogICAgICAgIHRoaXMubmV4dFN0YXR1c1N1Y2Nlc3MoYEEgQ2F0ZWdvcmlhICR7Y2F0ZWdvcnkubmFtZX0gZm9pIGF0dWFsaXphZGEuYCk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDMwNDoKICAgICAgICB0aGlzLm5leHRTdGF0dXNFcnJvcigKICAgICAgICAgIGBBIENhdGVnb3JpYSAke2NhdGVnb3J5Lm5hbWV9IGrDoSBlc3TDoSBjYWRhc3RyYWRhLmAKICAgICAgICApOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aGlzLm5leHRTdGF0dXNEZWZhdWx0KAogICAgICAgICAgYERlc2N1bHBlLCBvY29ycmV1IGFsZ3VtIGVycm8gYW8gZWRpdGFyIGEgQ2F0ZWdvcmlhICR7Y2F0ZWdvcnkubmFtZX0sIHBvciBmYXZvciB0ZW50ZSBub3ZhbWVudGUgbWFpcyB0YXJkZWAKICAgICAgICApOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcHJpdmF0ZSBuZXh0U3RhdHVzU3VjY2Vzcyhtc2c6IHN0cmluZykgewogICAgdGhpcy5sb2FkaW5nKGZhbHNlKTsKICAgIHRoaXMuZ2V0Q2F0ZWdvcmllcyh0cnVlKTsKICAgIHRoaXMudG9hc3RNZXNzYWdlKCJzdWNjZXNzIiwgbXNnKTsKICAgIHRoaXMuY2xvc2VDYXRlZ29yeU1vZGFsKCk7CiAgfQoKICBwcml2YXRlIG5leHRTdGF0dXNFcnJvcihtc2c6IHN0cmluZykgewogICAgdGhpcy5sb2FkaW5nKGZhbHNlKTsKICAgIHRoaXMubXNnRXJyb3IgPSBtc2c7CiAgICB0aGlzLnRvYXN0TWVzc2FnZSgiZXJyb3IiLCBtc2cpOwogIH0KCiAgcHJpdmF0ZSBuZXh0U3RhdHVzRGVmYXVsdChtc2c6IHN0cmluZykgewogICAgdGhpcy5sb2FkaW5nKGZhbHNlKTsKICAgIHRoaXMudG9hc3RNZXNzYWdlKCJlcnJvciIsIG1zZyk7CiAgfQoKICBwdWJsaWMgbG9hZGluZygkZXZlbnQpIHsKICAgIHRoaXMuJGVtaXQoImxvYWRpbmciLCAkZXZlbnQpOwogIH0KCiAgcHVibGljIGdldENhdGVnb3JpZXMoJGV2ZW50KSB7CiAgICB0aGlzLiRlbWl0KCJnZXRDYXRlZ29yaWVzIiwgdHJ1ZSk7CiAgfQoKICBwdWJsaWMgY2xvc2VDYXRlZ29yeU1vZGFsKCkgewogICAgdGhpcy4kZW1pdCgiY2xvc2VDYXRlZ29yeU1vZGFsIiwgdHJ1ZSk7CiAgfQoKICBwcml2YXRlIHRvYXN0TWVzc2FnZSh0eXBlOiBTd2VldEFsZXJ0VHlwZSwgdGl0bGU6IHN0cmluZykgewogICAgVnVlU2ltcGxlQWxlcnQuZmlyZSh7CiAgICAgIHR5cGUsCiAgICAgIHRpdGxlLAogICAgICB0b2FzdDogdHJ1ZSwKICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICB0aW1lcjogMzAwMCwKICAgICAgb25PcGVuOiAodG9hc3QpID0+IHsKICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgU3dhbC5zdG9wVGltZXIpLAogICAgICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsIFN3YWwucmVzdW1lVGltZXIpOwogICAgICB9LAogICAgfSk7CiAgfQoKICBwdWJsaWMgZGVsZXRlQ2F0ZWdvcnkoKSB7CiAgICB0aGlzLnNob3dEZWxldGVDYXRlZ29yeSA9IHRydWU7CiAgfQoKICBwdWJsaWMgY2xvc2VEZWxldGVDYXRlZ29yeU1vZGFsKCkgewogICAgdGhpcy5zaG93RGVsZXRlQ2F0ZWdvcnkgPSBmYWxzZTsKICB9CgogIHB1YmxpYyBjb25maXJtRWRpdFZhcmlhbnQoKSB7CiAgICBpZiAodGhpcy52YXJpYW50Q3JlYXRlLmxlbmd0aCkgewogICAgICB0aGlzLmNyZWF0ZUNhdGVnb3J5VmFyaWFudCgpOwogICAgfQoKICAgIGlmICh0aGlzLnZhcmlhbnREZWxldGUubGVuZ3RoKSB7CiAgICAgIHRoaXMuZGVsZXRlQ2F0ZWdvcnlWYXJpYW50KCk7CiAgICB9CgogICAgdGhpcy5lZGl0Q2F0ZWdvcnkoCiAgICAgIHRoaXMuc2V0Q2F0ZWdvcnkodGhpcy5jYXRlZ29yeVNlbGVjdGVkLCB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQub3JkZXJpbmcpLAogICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQuZ3VpZAogICAgKTsKICB9CgogIHB1YmxpYyBjbG9zZUNvbmZpcm1FZGl0VmFyaWFudCgpIHsKICAgIHRoaXMuc2hvd0NvbmZpcm1FZGl0VmFyaWFudCA9IGZhbHNlOwogIH0KfQoKZXhwb3J0IHsgQ2F0ZWdvcnlNb2RhbCBhcyBkZWZhdWx0IH07Cg=="},{"version":3,"sources":["CategoryModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgRA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"CategoryModal.vue","sourceRoot":"src/components/category-modal","sourcesContent":["<template>\n  <modal :active=\"showCreateCategory || showEditCategory || isCategoryService\">\n    <section class=\"card custom-modal\">\n      <div class=\"card-body custom-body\">\n        <div\n          class=\"custom-close\"\n          title=\"Fechar Modal\"\n          @click=\"closeCategoryModal()\"\n        >\n          <i class=\"fas fa-times\"></i>\n        </div>\n\n        <div class=\"d-flex justify-content-center flex-column card-titles\">\n          <h4 class=\"card-title\">{{ title }}</h4>\n          <p class=\"card-subtitle\">{{ subtitle }}</p>\n        </div>\n\n        <section class=\"p-2 p-md-3 card-form\">\n          <div class=\"form-group\">\n            <label\n              for=\"category\"\n              class=\"form-label-input m-0 text-muted\"\n              title=\"Campo de preencimento obrigatório\"\n              >Nome da Categoria *</label\n            >\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              id=\"category\"\n              aria-describedby=\"categoryHelp\"\n              placeholder=\"Digite o Nome da Categoria*\"\n              :class=\"{\n                'is-invalid': msgInputs.name && categorySelected.name === '',\n                'is-valid':\n                  (!msgInputs.name && categorySelected.name !== '') ||\n                  (msgInputs.name !== '' && categorySelected.name !== ''),\n              }\"\n              v-model=\"categorySelected.name\"\n            />\n            <small\n              id=\"categoryHelp\"\n              class=\"form-text m-0\"\n              v-if=\"!isCategoryService\"\n              :class=\"{\n                'invalid-feedback':\n                  msgInputs.name && categorySelected.name === '',\n                'text-muted': !msgInputs.name,\n              }\"\n            >\n              {{\n                msgInputs.name && categorySelected.name === \"\"\n                  ? msgInputs.name\n                  : \"Ex: Camisas, Calça, Bebidas, Sobremesas, etc.\"\n              }}\n            </small>\n            <small\n              id=\"categoryHelp\"\n              class=\"form-text m-0\"\n              v-if=\"isCategoryService\"\n              :class=\"{\n                'invalid-feedback':\n                  msgInputs.name && categorySelected.name === '',\n                'text-muted': !msgInputs.name,\n              }\"\n            >\n              {{\n                msgInputs.name && categorySelected.name === \"\"\n                  ? msgInputs.name\n                  : \"Ex: Mão de Obra, Consultoria, Aulas Particulares, etc\"\n              }}\n            </small>\n          </div>\n\n          <button\n            class=\"d-flex btn btn-link align-items-center mt-3 col-12 px-0\"\n            @click=\"deleteCategory()\"\n            v-if=\"showEditCategory\"\n          >\n            <i class=\"fas fa-trash text-danger mr-2\"></i>\n            <small class=\"text-muted m-0 click variant\"\n              >Excluir Categoria</small\n            >\n          </button>\n\n          <div class=\"d-flex align-items-start my-3\" v-if=\"!isCategoryService\">\n            <label class=\"switch\">\n              <input\n                id=\"variant\"\n                type=\"checkbox\"\n                v-model=\"categorySelected.variant_status\"\n              />\n              <span class=\"slider round\"></span>\n            </label>\n            <label\n              for=\"variant\"\n              class=\"text-muted m-0 click variant\"\n              :class=\"{ 'font-weight-bold': categorySelected.variant_status }\"\n            >\n              Produto com variantes</label\n            >\n          </div>\n\n          <section v-if=\"categorySelected.variant_status\">\n            <div class=\"form-group\">\n              <label\n                for=\"variant-name\"\n                class=\"form-label-input m-0 text-muted\"\n                title=\"Campo de preencimento obrigatório\"\n                >Nome da Variante *</label\n              >\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"variant-name\"\n                aria-describedby=\"variantHelp\"\n                placeholder=\"Digite o Nome da Variante*\"\n                :class=\"{\n                  'is-invalid':\n                    msgInputs.variant_name &&\n                    categorySelected.variant_name === '',\n                  'is-valid':\n                    (!msgInputs.variant_name &&\n                      categorySelected.variant_name !== '') ||\n                    (msgInputs.variant_name !== '' &&\n                      categorySelected.variant_name !== ''),\n                }\"\n                v-model=\"categorySelected.variant_name\"\n              />\n              <small\n                id=\"variantHelp\"\n                class=\"form-text m-0\"\n                :class=\"{\n                  'invalid-feedback':\n                    msgInputs.variant_name &&\n                    categorySelected.variant_name === '',\n                  'text-muted': !msgInputs.variant_name,\n                }\"\n              >\n                {{\n                  msgInputs.variant_name && categorySelected.variant_name === \"\"\n                    ? msgInputs.variant_name\n                    : \"Ex: Tamanho, Sabor, Ano, Quantidade, Cor, etc.\"\n                }}\n              </small>\n            </div>\n\n            <div\n              v-for=\"(ops, index) in categorySelected.variant_value\"\n              :key=\"index\"\n            >\n              <div class=\"form-group row m-1\">\n                <label\n                  :for=\"'inputOp' + index\"\n                  class=\"\n                    col-3 col-sm-3 col-md-2 col-lg-2\n                    form-label-input\n                    m-0\n                    text-muted\n                    d-flex\n                    align-items-center\n                    justify-content-start\n                    p-0\n                  \"\n                  title=\"Opção 2 (Campo obrigatório)\"\n                  >Opção {{ index + 1 }}*</label\n                >\n                <div class=\"col-9 col-sm-9 col-md-10 col-lg-10 p-0\">\n                  <div class=\"input-group\">\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      placeholder=\"Nome da Opção *\"\n                      aria-describedby=\"variantValueHelp\"\n                      @change=\"\n                        modifiedOpt(categorySelected.variant_value[index])\n                      \"\n                      :id=\"'inputOp' + index\"\n                      :class=\"{\n                        'is-invalid':\n                          msgInputs.variant_value[index] &&\n                          categorySelected.variant_value[index].value === '',\n                        'is-valid':\n                          (!msgInputs.variant_value[index] &&\n                            categorySelected.variant_value[index].value !==\n                              '') ||\n                          (!msgInputs.variant_value[index] &&\n                            categorySelected.variant_value[index].value !== ''),\n                      }\"\n                      v-model=\"categorySelected.variant_value[index].value\"\n                      required\n                    />\n                    <div class=\"input-group-append\">\n                      <button\n                        class=\"btn btn-outline-light d-flex btn-border\"\n                        @click=\"\n                          removeNewOpt(\n                            index,\n                            categorySelected.variant_value[index]\n                          )\n                        \"\n                        v-if=\"categorySelected.variant_value.length > 2\"\n                      >\n                        <span class=\"material-icons text-danger\"\n                          >remove_circle</span\n                        >\n                      </button>\n                    </div>\n                  </div>\n                  <small\n                    id=\"variantValueHelp\"\n                    class=\"form-text m-0\"\n                    :class=\"{\n                      'invalid-feedback d-block':\n                        msgInputs.variant_value[index] &&\n                        categorySelected.variant_value[index].value === '',\n                      'text-muted': !msgInputs.variant_value[index],\n                    }\"\n                  >\n                    {{\n                      msgInputs.variant_value[index] &&\n                      categorySelected.variant_value[index].value === \"\"\n                        ? msgInputs.variant_value[index]\n                        : \"Ex: P, M, G, 250ml, 1L, Azul, Verde, etc.\"\n                    }}\n                  </small>\n                </div>\n              </div>\n            </div>\n\n            <button\n              class=\"d-flex btn btn-link align-items-center mt-3 col-12 px-0\"\n              @click=\"addNewOpt()\"\n              v-if=\"categorySelected.variant_value.length < 10\"\n            >\n              <span class=\"material-icons mr-2\">add_circle</span>\n              <small class=\"text-muted m-0 click variant\"\n                >Adicionar mais uma opção</small\n              >\n            </button>\n          </section>\n\n          <div class=\"d-flex justify-content-center mt-4 btn-action\">\n            <button class=\"btn btn-primary w-100\" @click=\"saveCategory()\">\n              <i class=\"fas fa-folder-plus mr-2 fa-lg\"></i>\n              {{ titleBtn }}\n            </button>\n          </div>\n        </section>\n      </div>\n    </section>\n\n    <categoryDelete\n      v-if=\"showDeleteCategory\"\n      :propCategorySelected=\"categorySelected\"\n      :propShowDeleteCategory=\"showDeleteCategory\"\n      v-on:closeDeleteCategoryModal=\"closeDeleteCategoryModal()\"\n      v-on:closeAllModal=\"closeCategoryModal()\"\n      v-on:getCategories=\"getCategories($event)\"\n      v-on:loading=\"loading($event)\"\n    />\n\n    <categoryConfirmEditVariant\n      v-if=\"showConfirmEditVariant\"\n      :propShowConfirmEditVariant=\"showConfirmEditVariant\"\n      :propDeletedAllVariants=\"deletedAllVariants\"\n      v-on:closeConfirmEditVariant=\"closeConfirmEditVariant()\"\n      v-on:confirmEditVariant=\"confirmEditVariant()\"\n    />\n  </modal>\n</template>\n\n<script lang=\"ts\">\n  import { Component, Prop, Vue } from \"vue-property-decorator\";\n  import VueSimpleAlert from \"vue-simple-alert\";\n  import Swal, { SweetAlertType } from \"sweetalert2\";\n\n  import {\n    Category,\n    ICategory,\n    NotificationCategory,\n    VariantValue,\n  } from \"@/models/category\";\n  import Seller from \"@/models/seller\";\n  import categoryService from \"@/services/category.service\";\n\n  @Component({})\n  export class CategoryModal extends Vue {\n    @Prop() propCategorySelected!: Category;\n    @Prop() propLoggedUser!: Seller;\n    @Prop() propCreateCategory!: boolean;\n    @Prop() propEditCategory!: boolean;\n    @Prop() propIsCategoryService!: boolean;\n\n    public categorySelected: Category = this.propCategorySelected;\n    public categoryHasVariant: boolean | undefined =\n      this.categorySelected.variant_status;\n    public loggedUser: Seller = this.propLoggedUser;\n    public showEditCategory: boolean = this.propEditCategory;\n    public isCategoryService: boolean = this.propIsCategoryService;\n    public showCreateCategory: boolean = this.propCreateCategory;\n\n    public showConfirmEditVariant: boolean = false;\n    public deletedAllVariants: boolean = false;\n\n    public showDeleteCategory: boolean = false;\n    public title: string = \"\";\n    public subtitle: string = \"\";\n    public titleBtn: string = \"\";\n    public msgError: string = \"\";\n\n    public variantDelete: VariantValue[] = [];\n    public variantEdit: VariantValue[] = [];\n    public variantCreate: string[] = [];\n\n    public msgInputs: NotificationCategory = {\n      name: \"\",\n      variant_name: \"\",\n      variant_value: [],\n    };\n\n    private categoryService = new categoryService();\n\n    constructor() {\n      super();\n    }\n\n    created() {\n      if (this.showCreateCategory && !this.showEditCategory) {\n        this.setTitles(\n          \"Adicionar Categoria\",\n          \"Insira o nome da categoria e suas variantes\",\n          \"Salvar Categoria\"\n        );\n      } else if (this.showEditCategory) {\n        this.setTitles(\n          \"Editar Categoria\",\n          \"Edite o nome da categoria e suas variantes\",\n          \"Atualizar Categoria\"\n        );\n      }\n    }\n\n    private setTitles(title: string, subtitle: string, titleBtn: string) {\n      this.title = title;\n      this.subtitle = subtitle;\n      this.titleBtn = titleBtn;\n    }\n\n    public addNewOpt = () =>\n      this.categorySelected.variant_value.push({ value: \"\" });\n\n    public modifiedOpt(variantValue: VariantValue) {\n      if (\n        variantValue.guid &&\n        !this.variantEdit.find((variant) => variant.guid === variantValue.guid)\n      ) {\n        this.variantEdit.push(variantValue);\n      } else {\n        const variantIndex = this.variantEdit.findIndex(\n          (variant) => variant.guid === variantValue.guid\n        );\n\n        this.variantEdit[variantIndex].value = variantValue.value;\n      }\n    }\n\n    public removeNewOpt(index: number, variant: VariantValue) {\n      if (this.categorySelected.variant_value[index].value !== \"\") {\n        this.variantDelete.push(variant);\n      }\n      this.categorySelected.variant_value.splice(index, 1);\n    }\n\n    public saveCategory() {\n      this.validateAddCategory();\n      if (this.validateInputs()) {\n        if (this.showCreateCategory || this.isCategoryService) {\n          this.createCategory(this.setCategory(this.categorySelected));\n        } else {\n          this.removeDuplicate(this.categorySelected.variant_value)\n            .filter((variant) => !variant.guid)\n            .forEach((val) => {\n              this.variantCreate.push(val.value);\n            });\n\n          if (\n            this.variantCreate.length ||\n            this.variantDelete.length ||\n            this.categoryHasVariant !== this.categorySelected.variant_status\n          ) {\n            this.openConfirmEditModal();\n          } else {\n            if (this.variantCreate.length) {\n              this.createCategoryVariant();\n            }\n\n            if (this.variantDelete.length) {\n              this.deleteCategoryVariant();\n            }\n\n            if (this.variantEdit.length) {\n              this.editCategoryVariant();\n            }\n\n            this.editCategory(\n              this.setCategory(\n                this.categorySelected,\n                this.categorySelected.ordering\n              ),\n              this.categorySelected.guid\n            );\n          }\n        }\n      }\n    }\n\n    private openConfirmEditModal() {\n      if (!this.categorySelected.variant_status) {\n        this.deletedAllVariants = true;\n      }\n\n      this.showConfirmEditVariant = true;\n    }\n\n    private setCategory(category: ICategory, ordering: number = 100) {\n      if (category.variant_status) {\n        return {\n          name: category.name,\n          ordering,\n          variant_name: category.variant_name,\n          variant_status: category.variant_status,\n          variant_value: this.showCreateCategory\n            ? this.setCreateVariantValue(category.variant_value)\n            : category.variant_value,\n          register_type: this.isCategoryService ? \"Service\" : \"Product\",\n        };\n      } else {\n        return {\n          name: category.name,\n          ordering,\n          variant_status: category.variant_status,\n          register_type: this.isCategoryService ? \"Service\" : \"Product\",\n        };\n      }\n    }\n\n    private setCreateVariantValue(\n      variantValue: VariantValue[] = []\n    ): VariantValue[] {\n      const values: VariantValue[] = [];\n      variantValue.map((variant) => values.push({ value: variant.value }));\n      return values;\n    }\n\n    private validateAddCategory() {\n      this.resetMsgInputs();\n      [\"name\", \"variant_name\", \"variant_value\"].forEach((value) =>\n        this.checkInputs(value)\n      );\n    }\n\n    private checkInputs(categoryKey: string) {\n      if (categoryKey === \"variant_value\") {\n        this.checkVariantValue().find((value) => {\n          value >= 0\n            ? (this.msgInputs[categoryKey][value] = `A Opção ${\n                value + 1\n              } é de preenchimento obrigatório`)\n            : (this.msgInputs[categoryKey][value] = \"\");\n        });\n      } else if (this.categorySelected[categoryKey] === \"\") {\n        this.msgInputs[categoryKey] = \"Este campo é de preenchimento obrigatório\";\n      }\n    }\n\n    private checkVariantValue(): number[] {\n      const valueIndex: number[] = [];\n      this.categorySelected.variant_value.forEach((value, index: number) => {\n        if (this.categorySelected.variant_value[index].value === \"\") {\n          valueIndex.push(index);\n        }\n      });\n      return valueIndex;\n    }\n\n    private validateInputs(): boolean {\n      let validateInput: boolean = false;\n      if (\n        this.categorySelected.name !== \"\" &&\n        (!this.categorySelected.variant_status || this.showEditCategory)\n      ) {\n        validateInput = true;\n      }\n      if (\n        this.categorySelected.variant_status &&\n        this.categorySelected.name !== \"\" &&\n        this.categorySelected.variant_name !== \"\" &&\n        !this.checkVariantValue().length\n      ) {\n        validateInput = true;\n      }\n      return validateInput;\n    }\n\n    private resetMsgInputs() {\n      this.msgInputs = {\n        name: \"\",\n        variant_name: \"\",\n        variant_value: [],\n      };\n    }\n\n    private createCategory(category: ICategory) {\n      this.categoryService\n        .createCategory(category, this.loggedUser.slug)\n        .then((data) => {\n          switch (data.status) {\n            case 201:\n              this.nextStatusSuccess(\n                `A Categoria ${category.name} foi cadastrada.`\n              );\n              break;\n\n            case 202:\n              data\n                .json()\n                .then((response) => this.editCategory(category, response.guid));\n              break;\n\n            case 304:\n              this.nextStatusError(\n                `A Categoria ${category.name} já está cadastrada.`\n              );\n              break;\n\n            default:\n              this.nextStatusDefault(\n                `Desculpe, ocorreu algum erro ao cadastrar a Categoria ${category.name}, por favor tente novamente mais tarde`\n              );\n              break;\n          }\n        });\n    }\n\n    private async editCategory(category: ICategory, guid: string) {\n      const response = await this.categoryService.updateCategory(category, guid);\n      this.editResponse(response, category);\n    }\n\n    private editCategoryVariant = async () =>\n      await this.categoryService.updateCategoryVariant(\n        this.variantEdit,\n        this.categorySelected.guid\n      );\n\n    private deleteCategoryVariant = async () =>\n      await this.categoryService.deleteCategoryVariant(\n        this.removeDuplicate(this.variantDelete),\n        this.categorySelected.guid\n      );\n\n    private createCategoryVariant = async () =>\n      await this.categoryService.createCategoryVariant(\n        this.variantCreate,\n        this.categorySelected.guid\n      );\n\n    private removeDuplicate = (array: VariantValue[]) =>\n      array.filter(\n        (arr) => !this[JSON.stringify(arr)] && (this[JSON.stringify(arr)] = true),\n        Object.create(null)\n      );\n\n    private editResponse(response: Response, category: ICategory) {\n      switch (response.status) {\n        case 202:\n          this.nextStatusSuccess(`A Categoria ${category.name} foi atualizada.`);\n          break;\n\n        case 304:\n          this.nextStatusError(\n            `A Categoria ${category.name} já está cadastrada.`\n          );\n          break;\n\n        default:\n          this.nextStatusDefault(\n            `Desculpe, ocorreu algum erro ao editar a Categoria ${category.name}, por favor tente novamente mais tarde`\n          );\n          break;\n      }\n    }\n\n    private nextStatusSuccess(msg: string) {\n      this.loading(false);\n      this.getCategories(true);\n      this.toastMessage(\"success\", msg);\n      this.closeCategoryModal();\n    }\n\n    private nextStatusError(msg: string) {\n      this.loading(false);\n      this.msgError = msg;\n      this.toastMessage(\"error\", msg);\n    }\n\n    private nextStatusDefault(msg: string) {\n      this.loading(false);\n      this.toastMessage(\"error\", msg);\n    }\n\n    public loading($event) {\n      this.$emit(\"loading\", $event);\n    }\n\n    public getCategories($event) {\n      this.$emit(\"getCategories\", true);\n    }\n\n    public closeCategoryModal() {\n      this.$emit(\"closeCategoryModal\", true);\n    }\n\n    private toastMessage(type: SweetAlertType, title: string) {\n      VueSimpleAlert.fire({\n        type,\n        title,\n        toast: true,\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 3000,\n        onOpen: (toast) => {\n          toast.addEventListener(\"mouseenter\", Swal.stopTimer),\n            toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n        },\n      });\n    }\n\n    public deleteCategory() {\n      this.showDeleteCategory = true;\n    }\n\n    public closeDeleteCategoryModal() {\n      this.showDeleteCategory = false;\n    }\n\n    public confirmEditVariant() {\n      if (this.variantCreate.length) {\n        this.createCategoryVariant();\n      }\n\n      if (this.variantDelete.length) {\n        this.deleteCategoryVariant();\n      }\n\n      this.editCategory(\n        this.setCategory(this.categorySelected, this.categorySelected.ordering),\n        this.categorySelected.guid\n      );\n    }\n\n    public closeConfirmEditVariant() {\n      this.showConfirmEditVariant = false;\n    }\n  }\n\n  export { CategoryModal as default };\n</script>\n\n<style lang=\"scss\" scoped>\n  .custom-modal {\n    width: 30vw;\n    background-color: #f4f5f9;\n\n    @media screen and (max-width: 992px) {\n      width: 100vw;\n    }\n\n    @media screen and (min-width: 992px) and (max-width: 1400px) {\n      width: 42vw;\n    }\n\n    .custom-body {\n      max-height: 75vh;\n      overflow-y: auto;\n      padding: 1rem !important;\n      @media screen and (max-width: 992px) {\n        max-height: 100vh;\n      }\n    }\n\n    .card-titles {\n      margin-bottom: 1.5rem;\n\n      @media screen and (max-width: 992px) {\n        margin-bottom: 45px;\n      }\n    }\n\n    .card-title,\n    .card-subtitle {\n      font-family: Raleway;\n      font-stretch: normal;\n      font-style: normal;\n      line-height: normal;\n      letter-spacing: normal;\n      color: #525252;\n      text-align: center;\n    }\n\n    .card-title {\n      font-size: 28px;\n      font-weight: bold;\n\n      @media screen and (max-width: 992px) {\n        font-size: 26px;\n      }\n    }\n\n    .card-subtitle {\n      font-size: 20px;\n      font-weight: normal;\n      color: #525252;\n\n      @media screen and (max-width: 992px) {\n        font-size: 16px;\n      }\n    }\n  }\n\n  .card-form {\n    position: relative;\n    border-radius: 6px;\n    box-shadow: 0 9px 15px -3px rgba(43, 88, 164, 0.23);\n    background-color: #ffffff;\n    border: none;\n  }\n\n  .form-label-input {\n    font-size: 14px;\n  }\n\n  .btn-border {\n    border: 1px solid #ced4da;\n  }\n\n  .header-title,\n  .btn-action {\n    position: sticky;\n    padding: 12px 0;\n    z-index: 99;\n    background-color: #ffffff;\n  }\n\n  .header-title {\n    flex-direction: column;\n    top: -1.25rem;\n\n    @media screen and (max-width: 992px) {\n      h4 {\n        font-size: 1.4rem;\n      }\n    }\n  }\n\n  .btn-action {\n    bottom: -1.25rem;\n  }\n\n  .custom-close {\n    z-index: 999;\n\n    @media screen and (max-width: 992px) {\n      top: 10px;\n      right: 10px;\n    }\n  }\n</style>"]}]}