{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/product-modal/product-image-carousel/ProductImageCarousel.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/product-modal/product-image-carousel/ProductImageCarousel.vue","mtime":1673321154838},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWRHJhZ2dhYmxlIGZyb20gJ3Z1ZWRyYWdnYWJsZSc7CgpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAiUHJvZHVjdEltYWdlQ2Fyb3VzZWwiLAoKICBjb21wb25lbnRzOiB7CiAgICBWRHJhZ2dhYmxlCiAgfSwKCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2xpZGVXaWR0aDogMCwKICAgICAgc2xpZGVQYWRkaW5nOiAxMCwKICAgICAgc2xpZGVJbmRleDogMCwKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgZW1wdHkoKTogYm9vbGVhbiB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aCA9PT0gMDsKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBvbkVtcHR5Q2xpY2soKSB7CiAgICAgIGlmICghdGhpcy5lbXB0eSkgcmV0dXJuOwoKICAgICAgdGhpcy5vbkFkZENsaWNrKCk7CiAgICB9LAoKICAgIG9uQWRkQ2xpY2soKSB7CiAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCA9PT0gNCkgewogICAgICAgIHRoaXMuJGFsZXJ0KCdPIGxpbWl0ZSBkZSA0IGltYWdlbnMgZm9pIGF0aW5naWRvcycsICcnLCAnZXJyb3InLCB7CiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJwogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCgnYWRkLWNsaWNrJyk7CiAgICAgIH0KICAgIH0sCgogICAgb25EcmFnSW5wdXQobGlzdCkgewogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIGxpc3QpOwogICAgfSwKCiAgICBvbkRlbGV0ZUNsaWNrKGluZGV4KSB7CiAgICAgIHRoaXMuJGVtaXQoJ2RlbGV0ZS1jbGljaycsIGluZGV4KTsKICAgIH0sCgogICAgb25Dcm9wQ2xpY2soaW5kZXgpIHsKICAgICAgdGhpcy4kZW1pdCgnY3JvcC1jbGljaycsIGluZGV4KTsKICAgIH0KICB9Cn0pOwo="},{"version":3,"sources":["ProductImageCarousel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ProductImageCarousel.vue","sourceRoot":"src/components/product-modal/product-image-carousel","sourcesContent":["<template>\n  <section class=\"image-carousel p-2\" :class=\"{'empty': empty}\" @click=\"onEmptyClick\">\n    <div v-if=\"!empty\" @click=\"onAddClick\" class=\"image-carousel__slide image-carousel__add-image mb-3\">\n      <img src=\"@/assets/images/add-photo.svg\">\n    </div>\n    <div class=\"image-carousel__track\" ref=\"imageCarouselTrack\">\n      <template v-if=\"!empty\">\n        <v-draggable :value=\"value\" @input=\"onDragInput\" class=\"d-flex\" handle=\".handle\">\n          <div class=\"image-carousel__slide\" v-for=\"(slide, index) in value\" :style=\"{\n            left: `${(slideWidth + slidePadding) * (index + 1) - 66}px`,\n          }\">\n            <div class=\"image-carousel__slide--content\">\n              <div class=\"image-carousel__slide__drag-indicator handle\" @click.stop>\n                <span class=\"material-icons handle\">drag_handle</span>\n              </div>\n\n              <div v-if=\"slide.isNew\" class=\"image-carousel__slide__new-tag p-1\">\n                <span class=\"material-icons mr-1\">star</span>\n                Nova\n              </div>\n\n              <div v-if=\"slide.isNew\" class=\"image-carousel__slide__crop\" @click.stop=\"onCropClick(index)\">\n                <span class=\"material-icons\">crop</span>\n              </div>\n\n              <div class=\"image-carousel__slide__delete\"\n                :class=\"{'image-carousel__slide__delete--move-up': !slide.isNew}\" @click.stop=\"onDeleteClick(index)\">\n                <span class=\"material-icons\">delete</span>\n              </div>\n\n              <img :src=\"slide.image_url\" draggable=\"false\"\n                @error=\"$event.target.src = $store.state.environment.s3BrokenImgPath\">\n            </div>\n          </div>\n        </v-draggable>\n      </template>\n    </div>\n\n    <div class=\"image-carousel__empty-content\" v-show=\"empty\">\n      <img class=\"mb-3\" src=\"@/assets/images/add-photo.svg\">\n      <h2 class=\"mb-1\">Incluir imagens</h2>\n      <h3>PNG/JPG/JPEG</h3>\n    </div>\n  </section>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue';\nimport VDraggable from 'vuedraggable';\n\nexport default Vue.extend({\n  name: \"ProductImageCarousel\",\n\n  components: {\n    VDraggable\n  },\n\n  props: {\n    value: {\n      type: Array,\n      required: true,\n    }\n  },\n\n  data() {\n    return {\n      slideWidth: 0,\n      slidePadding: 10,\n      slideIndex: 0,\n    }\n  },\n\n  computed: {\n    empty(): boolean {\n      return this.value.length === 0;\n    }\n  },\n\n  methods: {\n    onEmptyClick() {\n      if (!this.empty) return;\n\n      this.onAddClick();\n    },\n\n    onAddClick() {\n      if (this.value.length === 4) {\n        this.$alert('O limite de 4 imagens foi atingidos', '', 'error', {\n          toast: true,\n          timer: 3000,\n          showConfirmButton: false,\n          position: 'top-end'\n        })\n      } else {\n        this.$emit('add-click');\n      }\n    },\n\n    onDragInput(list) {\n      this.$emit('input', list);\n    },\n\n    onDeleteClick(index) {\n      this.$emit('delete-click', index);\n    },\n\n    onCropClick(index) {\n      this.$emit('crop-click', index);\n    }\n  }\n});\n</script>\n\n<style scoped lang=\"scss\">\n.image-carousel {\n  overflow: hidden;\n\n  background-color: #fff;\n  border-radius: 6px;\n  box-shadow: 0 9px 15px -3px rgba(43, 88, 164, 0.23);\n\n  border-right: 0.5rem solid white;\n\n  &.empty {\n    border-radius: 0px;\n    border: 2px dashed $primary;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n\n    cursor: pointer;\n  }\n\n  &__empty-content {\n\n    h2,\n    h3 {\n      font-weight: bold;\n      margin: 0;\n    }\n\n    h2 {\n      font-size: 1rem;\n      color: #525252;\n    }\n\n    h3 {\n      font-size: 0.75rem;\n      color: #525252B2;\n    }\n\n    img {\n      width: 50px;\n    }\n  }\n\n  &__track {\n    display: flex;\n    overflow-x: auto;\n\n    height: 100%;\n    transition: all 0.2s ease;\n\n    //scroll-behavior: smooth;\n    -webkit-overflow-scrolling: touch;\n    padding-bottom: 5px;\n\n    @media screen and (max-width: 768px) {\n      -ms-overflow-style: none;\n      /* IE and Edge */\n      scrollbar-width: none;\n      /* Firefox */\n\n      &::-webkit-scrollbar {\n        display: none;\n      }\n    }\n  }\n\n  &__slide {\n    height: 100%;\n    width: 144px;\n    height: 144px;\n\n    overflow: hidden;\n\n    margin-right: 10px;\n    flex-shrink: 0;\n\n    border-radius: 4px;\n\n    scroll-snap-align: start;\n\n    box-shadow: 0 9px 15px -3px rgba(43, 88, 164, 0.23);\n\n    &--content {\n      width: 100%;\n      height: 100%;\n\n      position: relative;\n    }\n\n    img {\n      width: 100%;\n      height: 100%;\n\n      object-fit: contain;\n\n      user-select: none;\n    }\n\n    &__drag-indicator,\n    &__delete,\n    &__crop,\n    &__new-tag {\n      position: absolute;\n      background-color: #fff;\n\n      line-height: 1;\n\n      width: 30px;\n      height: 30px;\n\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      border-radius: 4px;\n\n      box-shadow: 0 9px 15px -3px rgba(43, 88, 164, 0.23);\n\n      cursor: pointer;\n\n      span {\n        margin: 0;\n        user-select: none;\n      }\n    }\n\n    &__new-tag {\n      top: 2px;\n      left: 2px;\n\n      width: auto;\n      height: auto;\n\n      font-size: .75rem;\n      color: #fff;\n\n      background-color: $success;\n\n      span {\n        font-size: .75rem;\n        color: #fff;\n      }\n    }\n\n    &__drag-indicator {\n      width: 100%;\n\n      bottom: 0;\n\n      border-radius: 0px;\n\n      cursor: grab;\n\n      span {\n        font-size: 2.25rem;\n      }\n    }\n\n    &__crop {\n      top: 2px;\n      right: 2px;\n\n      background-color: $secondary;\n\n      span {\n        color: #fff;\n      }\n    }\n\n    &__delete {\n      top: 34px;\n      right: 2px;\n\n      background-color: $error;\n\n      span {\n        color: #fff;\n      }\n\n      &--move-up {\n        top: 2px;\n      }\n    }\n  }\n\n  &__add-image {\n    border: 2px dashed $primary;\n    //border-radius: 6px;\n    height: 78px;\n    width: 100%;\n    padding-right: 0;\n\n    text-align: center;\n\n    cursor: pointer;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    img {\n      height: 70%;\n\n      object-fit: initial;\n      padding-right: initial;\n    }\n  }\n}\n</style>"]}]}