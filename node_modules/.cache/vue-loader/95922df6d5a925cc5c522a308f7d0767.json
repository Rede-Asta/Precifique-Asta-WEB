{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/notification/Notification.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/notification/Notification.vue","mtime":1673321154838},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUsIFdhdGNoIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCB1c2VyU2VydmljZSBmcm9tICIuLy4uLy4uL3NlcnZpY2VzL3VzZXIuc2VydmljZSI7CgpAQ29tcG9uZW50KHt9KQpleHBvcnQgY2xhc3Mgbm90aWZpY2F0aW9uQ29tcG9uZW50IGV4dGVuZHMgVnVlIHsKICBAUHJvcCh7IGRlZmF1bHQ6IHVuZGVmaW5lZCB9KSBub3RpZmljYXRpb25PYmo/OiBhbnk7CiAgQFByb3AoeyBkZWZhdWx0OiB1bmRlZmluZWQgfSkgbm90aWZpY2F0aW9uT2JqQnRuPzogYW55OwoKICBAV2F0Y2goIm5vdGlmaWNhdGlvbk9iaiIpCiAgQFdhdGNoKCJub3RpZmljYXRpb25PYmpCdG4iKQogIHNob3codmFsdWU6IHN0cmluZywgb2xkVmFsdWU6IHN0cmluZykgewogICAgY29uc29sZS5sb2coIm5vdGlmaWNhdGlvbk9iakJ0biIsIHZhbHVlLCBvbGRWYWx1ZSk7CiAgfQoKICBwdWJsaWMgc2VydmljZSA9IG5ldyB1c2VyU2VydmljZSgpOwogIHB1YmxpYyBsb2dnZWRVc2VyOiBhbnk7CiAgcHVibGljIGNvbnRlbnQ6IGFueSA9ICIiOwogIHB1YmxpYyBtb2JpbGU/OiBzdHJpbmc7CiAgcHVibGljIHNsdWdVcmw/OiBzdHJpbmc7CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICB9CgogIHB1YmxpYyBzZXRGaWVsZCh0ZXh0czogYW55KSB7CiAgICB0aGlzLmNvbnRlbnQgPSB0ZXh0czsKICAgIHRoaXMuc2x1Z1VybCA9IGBodHRwczovL3d3dy5wZXJ0aW5ob2RlY2FzYS5jb20uYnIvdml0cmluZS8ke3RoaXMuY29udGVudC5zbHVnfWA7CiAgICB0aGlzLmNvbnRlbnQuYWJvdXQgPSB0ZXh0cy5hYm91dDsKICAgIHRoaXMuY29udGVudC5hZGRyZXNzID0KICAgICAgdGV4dHMuYWRkcmVzcy5zdHJlZXQgKwogICAgICAiLCAiICsKICAgICAgdGV4dHMuYWRkcmVzcy5udW1iZXIgKwogICAgICAiLCAiICsKICAgICAgdGV4dHMuYWRkcmVzcy5uZWlnaGJvcmhvb2QgKwogICAgICAiLCAiICsKICAgICAgdGV4dHMuYWRkcmVzcy5jaXR5ICsKICAgICAgIiwgIiArCiAgICAgIHRleHRzLmFkZHJlc3Muc3RhdGU7CiAgICB0aGlzLmNvbnRlbnQubW9iaWxlID0gdGhpcy5jb250ZW50Lm1vYmlsZS5yZXBsYWNlKAogICAgICAvKFxkezJ9KShcZHs1fSkoXGR7NH0pLywKICAgICAgKHJlZ2V4LCBhcmcxLCBhcmcyLCBhcmczKSA9PiBgKCR7YXJnMX0pICR7YXJnMn0gLSAke2FyZzN9YAogICAgKTsKICB9CgogIHByaXZhdGUgYXN5bmMgc2VuZE1lc3NhZ2VOb3RpZmljYXRpb24oKSB7CiAgICB0aGlzLmxvZ2dlZFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsb2dnZWRVc2VyIikgfHwgIiIpOwogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlcnZpY2Uuc2VuZE1lc3NhZ2VOb3RpZmljYXRpb24oCiAgICAgIHRoaXMubG9nZ2VkVXNlci5zbHVnCiAgICApOwogICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgIHN3aXRjaCAocmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgICAgY2FzZSAyMDA6CiAgICAgICAgY2FzZSAyMDE6CiAgICAgICAgY2FzZSAyMDI6CiAgICAgICAgICB0aGlzLiRhbGVydCgiTWVuc2FnZW0gZW52aWFkYSBjb20gc3VjZXNzbyIsICJTdWNlc3NvIiwgInN1Y2Nlc3MiLCB7CiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuY2xvc2VOb3RpZmljYXRpb24oKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNDAwOgogICAgICAgIGNhc2UgNDA0OgogICAgICAgICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgIHRoaXMuJGFsZXJ0KG1lc3NhZ2UsICJPb3BzLi4uIiwgImVycm9yIiwgewogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRhbGVydCgKICAgICAgICAgICAgICAiQWd1YXJkZSBhbGd1bnMgaW5zdGFudGVzIG91IHRlbnRlIG5vdmFtZW50ZSBtYWlzIHRhcmRlIiwKICAgICAgICAgICAgICAiT29wcy4uLiIsCiAgICAgICAgICAgICAgImVycm9yIiwKICAgICAgICAgICAgICB7IHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwgdGltZXI6IDM1MDAgfQogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9CgogIHB1YmxpYyBjbG9zZU5vdGlmaWNhdGlvbigpIHsKICAgIHRoaXMubm90aWZpY2F0aW9uT2JqLmFjdGl2ZSA9IGZhbHNlOwogIH0KCiAgcHVibGljIHNlbmQoKSB7CiAgICB0aGlzLnNlbmRNZXNzYWdlTm90aWZpY2F0aW9uKCk7CiAgfQp9CgpleHBvcnQgeyBub3RpZmljYXRpb25Db21wb25lbnQgYXMgZGVmYXVsdCB9Owo="},{"version":3,"sources":["Notification.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"Notification.vue","sourceRoot":"src/components/notification","sourcesContent":["<template>\n  <div\n    class=\"notification active p-3\"\n    :class=\"notificationObj.active ? 'active' : 'inactive'\"\n  >\n    <div\n      class=\"d-flex justify-content-between flex-column align-items-start w-100\"\n    >\n      <div class=\"d-flex flex-column flex-sm-row col-11 p-0\">\n        <div\n          class=\"img col-1 p-0 d-flex align-items-start justify-content-center\"\n        >\n          <span class=\"material-icons notification__icon\">info</span>\n        </div>\n\n        <div class=\"d-flex flex-column align-items-center col-11 p-0\">\n          <p class=\"m-0 notification__text\" v-html=\"notificationObj.text\"></p>\n          <button\n            v-if=\"notificationObj.buttonText === 'REENVIAR MENSAGEM'\"\n            class=\"btn btn-primary mt-2 btn-font-size\"\n            v-html=\"notificationObj.buttonText\"\n            @click=\"send()\"\n          ></button>\n        </div>\n      </div>\n\n      <a\n        v-if=\"notificationObj.url != null\"\n        class=\"notification__btn\"\n        :href=\"notificationObj.url\"\n      >\n        {{ notificationObj.buttonText }}\n      </a>\n    </div>\n\n    <button\n      class=\"btn btn-link text-dark notification__close\"\n      @click=\"closeNotification()\"\n    >\n      <span class=\"material-icons\">close</span>\n    </button>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { Component, Prop, Vue, Watch } from \"vue-property-decorator\";\n  import userService from \"./../../services/user.service\";\n\n  @Component({})\n  export class notificationComponent extends Vue {\n    @Prop({ default: undefined }) notificationObj?: any;\n    @Prop({ default: undefined }) notificationObjBtn?: any;\n\n    @Watch(\"notificationObj\")\n    @Watch(\"notificationObjBtn\")\n    show(value: string, oldValue: string) {\n      console.log(\"notificationObjBtn\", value, oldValue);\n    }\n\n    public service = new userService();\n    public loggedUser: any;\n    public content: any = \"\";\n    public mobile?: string;\n    public slugUrl?: string;\n\n    constructor() {\n      super();\n    }\n\n    public setField(texts: any) {\n      this.content = texts;\n      this.slugUrl = `https://www.pertinhodecasa.com.br/vitrine/${this.content.slug}`;\n      this.content.about = texts.about;\n      this.content.address =\n        texts.address.street +\n        \", \" +\n        texts.address.number +\n        \", \" +\n        texts.address.neighborhood +\n        \", \" +\n        texts.address.city +\n        \", \" +\n        texts.address.state;\n      this.content.mobile = this.content.mobile.replace(\n        /(\\d{2})(\\d{5})(\\d{4})/,\n        (regex, arg1, arg2, arg3) => `(${arg1}) ${arg2} - ${arg3}`\n      );\n    }\n\n    private async sendMessageNotification() {\n      this.loggedUser = JSON.parse(localStorage.getItem(\"loggedUser\") || \"\");\n      const response = await this.service.sendMessageNotification(\n        this.loggedUser.slug\n      );\n      if (response) {\n        switch (response.status) {\n          case 200:\n          case 201:\n          case 202:\n            this.$alert(\"Mensagem enviada com sucesso\", \"Sucesso\", \"success\", {\n              showConfirmButton: false,\n              timer: 2500,\n            });\n            this.closeNotification();\n            break;\n          case 400:\n          case 404:\n            if (response) {\n              const message = await response.json();\n              this.$alert(message, \"Oops...\", \"error\", {\n                showConfirmButton: false,\n                timer: 3000,\n              });\n            } else {\n              this.$alert(\n                \"Aguarde alguns instantes ou tente novamente mais tarde\",\n                \"Oops...\",\n                \"error\",\n                { showConfirmButton: false, timer: 3500 }\n              );\n            }\n            break;\n        }\n      }\n    }\n\n    public closeNotification() {\n      this.notificationObj.active = false;\n    }\n\n    public send() {\n      this.sendMessageNotification();\n    }\n  }\n\n  export { notificationComponent as default };\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"../../assets/scss/mixins\";\n\n  .notification {\n    height: auto;\n    width: 50%;\n    position: fixed;\n    transition: all 150ms ease-in-out;\n    display: none;\n    align-items: flex-start;\n    align-items: center;\n    z-index: 9999;\n    flex-direction: column;\n\n    background-color: #ffcb6d;\n\n    border-radius: 5px;\n\n    top: 5px;\n    left: 50%;\n    transform: translateX(-50%);\n\n    @include mobile {\n      width: 100%;\n      top: 0;\n      left: 0;\n      transform: none;\n\n      border-top-left-radius: 0;\n      border-top-right-radius: 0;\n    }\n\n    &__img {\n      margin-right: 18px;\n      @media (max-width: 425px) {\n        margin-right: 10px;\n      }\n    }\n\n    &__icon {\n      color: #525252;\n      font-size: 24px;\n\n      @include mobile {\n        margin-bottom: 10px;\n      }\n    }\n\n    &__text {\n      color: #525252;\n    }\n\n    &__close {\n      position: absolute;\n      //right: 20px;\n      //top: 20px;\n      top: 0;\n      right: 0;\n      font-weight: bold;\n      font-size: 18px;\n      color: #fff;\n      cursor: pointer;\n\n      span {\n        color: #525252;\n      }\n    }\n\n    &__btn {\n      align-self: center;\n      padding: 5px 30px;\n      float: right;\n      border: none;\n      border-radius: 5px;\n      width: auto;\n      height: auto;\n      transition: 0.3s;\n      background: $primary;\n      color: #ffffff;\n      font-weight: bold;\n      text-decoration: none;\n      outline: none;\n\n      margin-top: 16px;\n\n      &:hover {\n        background: darken($primary, 10%);\n      }\n\n      &:focus {\n        outline: none;\n      }\n\n      @include mobile {\n        font-size: 12px;\n        width: 100%;\n        text-align: center;\n      }\n    }\n  }\n\n  .active {\n    display: flex !important;\n    transition: all 150ms ease-in-out;\n    z-index: 9999;\n  }\n\n  .inactive {\n    display: none !important;\n    transition: all 150ms ease-in-out;\n  }\n\n  button.sendButton {\n    background-color: #0c349d;\n    border: 0;\n    border-radius: 6px;\n    color: #fff;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 1px;\n    padding: 5px 5px;\n    align-items: center;\n    cursor: pointer;\n    width: 200px;\n    display: flex;\n    text-transform: uppercase;\n    flex-direction: column;\n    letter-spacing: 1px;\n  }\n\n  .img {\n    img {\n      width: 36px;\n      height: 36px;\n\n      @media (max-width: 732px) {\n        width: 26px;\n        height: 26px;\n      }\n    }\n  }\n\n  p {\n    @media (max-width: 732px) {\n      font-size: 12px;\n      line-height: 18px;\n    }\n  }\n\n  .btn-font-size {\n    @media (max-width: 732px) {\n      font-size: 12px;\n    }\n  }\n</style>"]}]}