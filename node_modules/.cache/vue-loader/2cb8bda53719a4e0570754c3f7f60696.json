{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/product-modal/product-loading-screen/ProductLoadingScreen.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/product-modal/product-loading-screen/ProductLoadingScreen.vue","mtime":1673321154838},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1673370377290},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFByb2R1Y3RQcm9ncmVzc0JhciBmcm9tICIuL1Byb2R1Y3RQcm9ncmVzc0Jhci52dWUiOwppbXBvcnQge0ltYWdlVVJsfSBmcm9tICJAL21vZGVscy9wcm9kdWN0IjsKCmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICJQcm9kdWN0TG9hZGluZ1NjcmVlbiIsCgogIHByb3BzOiB7CiAgICBpbWFnZUxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICBjcmVhdGluZ1Byb2R1Y3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsUHJvZ3Jlc3MoKTogbnVtYmVyIHsKICAgICAgbGV0IHVwbG9hZEltYWdlc0NvdW50ID0gMDsKICAgICAgY29uc3QgYWdncmVnYXRlUHJvZ3Jlc3MgPSB0aGlzLmltYWdlTGlzdC5yZWR1Y2U8bnVtYmVyPigoYTogYW55LCBiOiBhbnkpID0+IHsKICAgICAgICBpZiAoYi51cGxvYWRQcm9ncmVzcykgewogICAgICAgICAgdXBsb2FkSW1hZ2VzQ291bnQrKzsKICAgICAgICAgIHJldHVybiBhICsgYi51cGxvYWRQcm9ncmVzczsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGE7CiAgICAgIH0sIDApOwogICAgICBjb25zdCB0b3RhbFByb2dyZXNzID0gdXBsb2FkSW1hZ2VzQ291bnQgPyBhZ2dyZWdhdGVQcm9ncmVzcyAvIHVwbG9hZEltYWdlc0NvdW50IDogYWdncmVnYXRlUHJvZ3Jlc3M7CiAgICAgIHJldHVybiB0b3RhbFByb2dyZXNzOwogICAgfQogIH0sCgogIGNvbXBvbmVudHM6IHsKICAgIFByb2R1Y3RQcm9ncmVzc0JhciwKICB9LAp9KTsK"},{"version":3,"sources":["ProductLoadingScreen.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ProductLoadingScreen.vue","sourceRoot":"src/components/product-modal/product-loading-screen","sourcesContent":["<template>\n  <div class=\"product-loading-screen__wrapper\">\n    <div class=\"product-loading-screen__backdrop\"></div>\n    <div class=\"d-flex align-items-center justify-content-center flex-column product-loading-screen p-4 text-center\">\n      <div class=\"product-loading-screen__content\">\n        <h1 v-if=\"!creatingProduct && imageList.length > 0\">Salvando imagem(s), aguarde.</h1>\n        <h1 v-else-if=\"creatingProduct || imageList.length <= 0\">Criando seu produto...</h1>\n\n        <div v-if=\"imageList.length > 0\" class=\"product-loading-screen__images my-4\">\n          <div v-for=\"image in imageList\">\n            <img class=\"product-loading-screen__image\" :src=\"image.image_url\">\n            <div\n                class=\"product-loading-screen__image-progress\"\n                :style=\"{'width': `calc(100% - .5rem * 2 - ${image.uploadProgress}%)`}\"\n            ></div>\n            <div class=\"product-loading-screen__done d-flex align-items-center justify-content-center\" v-if=\"image.uploadProgress >= 100\">\n              <span class=\"material-icons\">check</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"w-100 mt-4\">\n          <product-progress-bar\n              v-if=\"creatingProduct || imageList.length <= 0\"\n              key=\"indeterminate\"\n              class=\"fade-in\"\n              :value=\"0\"\n              :indeterminate=\"true\"\n          />\n\n          <product-progress-bar\n              v-else\n              key=\"determinate\"\n              class=\"fade-in\"\n              :value=\"totalProgress\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue';\nimport ProductProgressBar from \"./ProductProgressBar.vue\";\nimport {ImageURl} from \"@/models/product\";\n\nexport default Vue.extend({\n  name: \"ProductLoadingScreen\",\n\n  props: {\n    imageList: {\n      type: Array,\n      required: true,\n    },\n\n    creatingProduct: {\n      type: Boolean,\n      required: true,\n    }\n  },\n\n  computed: {\n    totalProgress(): number {\n      let uploadImagesCount = 0;\n      const aggregateProgress = this.imageList.reduce<number>((a: any, b: any) => {\n        if (b.uploadProgress) {\n          uploadImagesCount++;\n          return a + b.uploadProgress;\n        }\n        return a;\n      }, 0);\n      const totalProgress = uploadImagesCount ? aggregateProgress / uploadImagesCount : aggregateProgress;\n      return totalProgress;\n    }\n  },\n\n  components: {\n    ProductProgressBar,\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes fadeOut {\n  from { opacity: 1; }\n  to { opacity: 0; }\n}\n\n@mixin fadeIn ($delay: 0ms) {\n  animation: fadeIn 1s linear $delay;\n}\n\n.fade-in {\n  @include fadeIn;\n}\n\n.product-loading-screen {\n  &__wrapper {}\n\n  position: fixed;\n\n  z-index: 100;\n\n  background-color: #f4f5f9;\n\n  transform: translate(-50%, -50%);\n\n  border-radius: 6px;\n\n  width: 70%;\n\n  top: 50%;\n  left: 50%;\n\n  @media screen and (min-width: 769px) {\n    width: 60%;\n    padding: 2rem;\n  }\n\n  h1 {\n    @include fadeIn;\n    font-size: clamp(1.3rem, 3vw, 2rem);\n  }\n\n  &__backdrop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 99;\n    background-color: black;\n    opacity: .5;\n  }\n\n  &__content {\n    width: 100%;\n\n    @media screen and (min-width: 769px) {\n      max-width: 500px;\n    }\n  }\n\n  &__images {\n    --gap: 12px;\n\n    display: inline-flex;\n    flex-wrap: wrap;\n    justify-content: center;\n\n    width: 100%;\n\n    & > div {\n      position: relative;\n\n      width: 50%;\n\n      padding-bottom: 50%;\n    }\n  }\n\n  &__image {\n    box-shadow: 0 9px 15px -3px rgba(43, 88, 164, 0.23);\n  }\n\n  &__image, &__image-progress, &__done {\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    margin: .5rem;\n\n    width: calc(100% - .5rem * 2);\n    height: calc(100% - .5rem * 2);\n\n    border-radius: 6.5px;\n  }\n\n  &__done {\n    @include fadeIn;\n\n    width: auto;\n    height: auto;\n\n    padding: .5rem;\n    margin: 0;\n\n    top: 50%;\n    left: 50%;\n\n    transform: translate(-50%, -50%);\n\n    background-color: #fff;\n\n    border-radius: 50%;\n\n    span {\n      font-size: 2rem;\n      color: $success;\n    }\n  }\n\n  &__image-progress {\n    right: 0;\n    left: unset;\n\n    transition: width 1s ease;\n\n    background-color: rgba(0, 0, 0, .5);\n  }\n}\n</style>"]}]}