{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/components/product-modal/product-image-edit/ProductImageEdit.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/AstaPrecifique/src/components/product-modal/product-image-edit/ProductImageEdit.vue","mtime":1696439584633},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IGRyYWdnYWJsZSBmcm9tICJ2dWVkcmFnZ2FibGUiOwppbXBvcnQgeyBJbWFnZVVSbCB9IGZyb20gIkAvbW9kZWxzL3Byb2R1Y3QiOwppbXBvcnQgcHJvZHVjdHNTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvcHJvZHVjdHMuc2VydmljZSI7CgpAQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBkcmFnZ2FibGUsCiAgfSwKICBjb21wdXRlZDogewogICAgZHJhZ09wdGlvbnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYW5pbWF0aW9uOiAyMDAsCiAgICAgICAgZ3JvdXA6ICJkZXNjcmlwdGlvbiIsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGdob3N0Q2xhc3M6ICJnaG9zdCIsCiAgICAgIH07CiAgICB9LAogIH0sCn0pCmV4cG9ydCBjbGFzcyBQcm9kdWN0SW1hZ2VFZGl0IGV4dGVuZHMgVnVlIHsKICBAUHJvcCgpIHByb3BJbWFnZXNMaXN0ITogSW1hZ2VVUmxbXTsKICBAUHJvcCgpIHByb3BTaG93RWRpdEltYWdlITogYm9vbGVhbjsKICBAUHJvcCgpIHByb3BQcm9kdWN0R3VpZCE6IHN0cmluZzsKICBAUHJvcCgpIHByb3BTaG93RWRpdFByb2R1Y3QhOiBib29sZWFuOwogIEBQcm9wKCkgcHJvcENhblJlb3JkZXJJbWFnZXMhOiBib29sZWFuOwogIEBQcm9wKCkgcHJvcEluZGV4SW1hZ2VzITogbnVtYmVyW107CiAgQFByb3AoKSBwcm9wUmVnaXN0ZXJUeXBlITogc3RyaW5nOwoKICBwdWJsaWMgaW1hZ2VzTGlzdCA9IHRoaXMucHJvcEltYWdlc0xpc3Q7CiAgcHVibGljIHNob3dFZGl0SW1hZ2UgPSB0aGlzLnByb3BTaG93RWRpdEltYWdlOwogIHB1YmxpYyBzaG93RWRpdFByb2R1Y3QgPSB0aGlzLnByb3BTaG93RWRpdFByb2R1Y3Q7CiAgcHVibGljIHByb2R1Y3RHdWlkID0gdGhpcy5wcm9wUHJvZHVjdEd1aWQ7CiAgcHVibGljIGluZGV4SW1hZ2VzID0gdGhpcy5wcm9wSW5kZXhJbWFnZXM7CiAgcHVibGljIHJlZ2lzdGVyVHlwZSA9IHRoaXMucHJvcFJlZ2lzdGVyVHlwZTsKCiAgcHVibGljIHByZXZpb3VzSW1hZ2VzOiBJbWFnZVVSbFtdID0gW107CiAgcHVibGljIGN1cnJlbnRJbWFnZXM6IEltYWdlVVJsW10gPSBbXTsKICBwdWJsaWMgcmVvcmRlckltYWdlOiBBcnJheTx7CiAgICBjdXJyZW50OiBudW1iZXIgfCB1bmRlZmluZWQ7CiAgICBwcmV2aW91czogbnVtYmVyIHwgdW5kZWZpbmVkOwogIH0+ID0gW107CgogIHB1YmxpYyBkcmFnOiBib29sZWFuID0gZmFsc2U7CiAgcHVibGljIGRlbGV0ZUltYWdlOiBJbWFnZVVSbCA9IHt9OwogIHB1YmxpYyBjYXJkV2lkdGg6IHN0cmluZyA9ICIwIjsKICBwdWJsaWMgY2FyZEhlaWdodDogc3RyaW5nID0gIjg4cHgiOwogIHB1YmxpYyBhcnJheUxpc3Q6IHN0cmluZ1tdID0gW107CiAgcHVibGljIGhhc01vdmU6IGJvb2xlYW4gPSBmYWxzZTsKICBwdWJsaWMgaGFzRGVsZXRlOiBib29sZWFuID0gZmFsc2U7CiAgcHVibGljIHRleHRCdG5Nb3ZlOiBzdHJpbmcgPSAiY2FuY2VsYXIiOwogIHB1YmxpYyB0ZXh0QnRuUmVtb3ZlOiBzdHJpbmcgPSAiY2FuY2VsYXIiOwoKICBwcml2YXRlIHByb2R1Y3RTZXJ2aWNlID0gbmV3IHByb2R1Y3RzU2VydmljZSgpOwoKICBtb3VudGVkKCkgewogICAgLy8gdGhpcy5jYXJkSGVpZ2h0ID0gYCR7dGhpcy4kcmVmcy5jYXJkQm9keVswXS5jbGllbnRIZWlnaHR9cHhgOwogICAgaWYgKHRoaXMuJHJlZnMuY2FyZEJvZHkgJiYgdGhpcy4kcmVmcy5jYXJkSW1nKSB7CiAgICAgIHRoaXMuY2FyZFdpZHRoID0gYCR7CiAgICAgICAgdGhpcy4kcmVmcy5jYXJkQm9keVswXS5jbGllbnRXaWR0aCAtIHRoaXMuJHJlZnMuY2FyZEltZ1swXS5jbGllbnRXaWR0aAogICAgICB9cHhgOwogICAgfQogICAgdGhpcy5zZXRBcnJheSgpOwogIH0KCiAgcHVibGljIHNldEFycmF5KCkgewogICAgdGhpcy5hcnJheUxpc3QgPSBbXTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNCAtIHRoaXMuaW1hZ2VzTGlzdC5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLmFycmF5TGlzdC5wdXNoKCIiKTsKICAgIH0KICB9CgogIHB1YmxpYyBjbG9zZUVkaXRJbWFnZU1vZGFsKCkgewogICAgdGhpcy4kZW1pdCgiY2xvc2VFZGl0SW1hZ2VNb2RhbCIsIHRydWUpOwogIH0KCiAgcHVibGljIHByZXZpb3VzUmVvcmRlckltYWdlcyhpbWFnZXNMaXN0OiBJbWFnZVVSbFtdKSB7CiAgICB0aGlzLnNldE1zZ01vdmUoIm9yZGVuYWRvIik7CiAgICB0aGlzLnByZXZpb3VzSW1hZ2VzID0gaW1hZ2VzTGlzdDsKICB9CgogIHB1YmxpYyBjdXJyZW50UmVvcmRlckltYWdlKGltYWdlc0xpc3Q6IEltYWdlVVJsW10pIHsKICAgIHRoaXMuc2V0TXNnTW92ZSgib3JkZW5hZG8iKTsKICAgIGltYWdlc0xpc3QubWFwKChpbWFnZSwgaW5kZXgpID0+IChpbWFnZS5wb3NpdGlvbiA9IGluZGV4ICsgMSkpOwogICAgdGhpcy5jdXJyZW50SW1hZ2VzID0gaW1hZ2VzTGlzdDsKICAgIHRoaXMuJGVtaXQoImN1cnJlbnRSZW9yZGVySW1hZ2UiLCB0aGlzLmN1cnJlbnRJbWFnZXMpOwogICAgdGhpcy51cGRhdGVQb3NpdGlvbkltYWdlKCk7CiAgfQoKICBwdWJsaWMgYXN5bmMgcmVtb3ZlSW1hZ2UocG9zaXRpb246IG51bWJlcikgewogICAgdGhpcy5zZXRNc2dSZW1vdmUoInJlbW92aWRvIik7CiAgICB0aGlzLiRlbWl0KCJyZW1vdmVJbWFnZSIsIHBvc2l0aW9uKTsKICAgIHRoaXMuc2V0QXJyYXkoKTsKCiAgICBpZiAodGhpcy5pbWFnZXNMaXN0Lmxlbmd0aCA9PT0gMSkgewogICAgICB0aGlzLnNldFJlbW92ZUltYWdlKCk7CiAgICB9CiAgfQoKICBwdWJsaWMgYXN5bmMgdXBkYXRlUG9zaXRpb25JbWFnZSgpIHsKICAgIHRoaXMuY3VycmVudEltYWdlcy5mb3JFYWNoKGFzeW5jIChpbWFnZSwgaW5kZXgpID0+IHsKICAgICAgaWYgKGltYWdlLnBvc2l0aW9uICE9PSB0aGlzLnByZXZpb3VzSW1hZ2VzW2luZGV4XS5wb3NpdGlvbikgewogICAgICAgIHRoaXMucmVvcmRlckltYWdlLnB1c2goewogICAgICAgICAgY3VycmVudDogaW1hZ2UucG9zaXRpb24sCiAgICAgICAgICBwcmV2aW91czogdGhpcy5wcmV2aW91c0ltYWdlc1tpbmRleF0ucG9zaXRpb24sCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogICAgaWYgKHRoaXMucmVvcmRlckltYWdlLmxlbmd0aCAmJiB0aGlzLnNob3dFZGl0UHJvZHVjdCkgewogICAgICBhd2FpdCB0aGlzLnByb2R1Y3RTZXJ2aWNlLnVwZGF0ZVBvc2l0aW9uSW1hZ2UoCiAgICAgICAgeyBwb3NpdGlvbjogdGhpcy5yZW9yZGVySW1hZ2VbMF0uY3VycmVudCB9LAogICAgICAgIHRoaXMucHJvZHVjdEd1aWQsCiAgICAgICAgdGhpcy5yZW9yZGVySW1hZ2VbMF0ucHJldmlvdXMKICAgICAgKTsKICAgIH0KICB9CgogIHB1YmxpYyBvcGVuSW5wdXQocG9zaXRpb246IG51bWJlcikgewogICAgaWYgKCF0aGlzLmhhc01vdmUgJiYgIXRoaXMuaGFzRGVsZXRlKSB7CiAgICAgIHRoaXMuJGVtaXQoIm9wZW5JbnB1dCIsIHBvc2l0aW9uLCBmYWxzZSk7CiAgICB9CiAgfQoKICBwdWJsaWMgbW92ZVN0YXJ0KCkgewogICAgdGhpcy5kcmFnID0gdHJ1ZTsKICB9CgogIHB1YmxpYyBlZGl0SW1hZ2VNb2RhbChwb3NpdGlvbjogbnVtYmVyLCBlZGl0OiBib29sZWFuKSB7CiAgICB0aGlzLiRlbWl0KCJvcGVuSW5wdXQiLCBwb3NpdGlvbiwgZWRpdCk7CiAgfQoKICBwdWJsaWMgc2V0UmVtb3ZlSW1hZ2UoKSB7CiAgICB0aGlzLnNldE1zZ1JlbW92ZSgiY2FuY2VsYXIiKTsKICAgIHRoaXMuaGFzRGVsZXRlID0gIXRoaXMuaGFzRGVsZXRlOwogICAgdGhpcy5oYXNNb3ZlID0gZmFsc2U7CiAgfQoKICBwdWJsaWMgc2V0TW92ZUltYWdlKCkgewogICAgdGhpcy5zZXRNc2dNb3ZlKCJjYW5jZWxhciIpOwogICAgdGhpcy5oYXNNb3ZlID0gIXRoaXMuaGFzTW92ZTsKICAgIHRoaXMuaGFzRGVsZXRlID0gZmFsc2U7CiAgfQoKICBwdWJsaWMgc2V0TXNnTW92ZShtc2c6IHN0cmluZykgewogICAgdGhpcy50ZXh0QnRuTW92ZSA9IG1zZzsKICB9CgogIHB1YmxpYyBzZXRNc2dSZW1vdmUobXNnOiBzdHJpbmcpIHsKICAgIHRoaXMudGV4dEJ0blJlbW92ZSA9IG1zZzsKICB9Cn0KCmV4cG9ydCB7IFByb2R1Y3RJbWFnZUVkaXQgYXMgZGVmYXVsdCB9Owo="},{"version":3,"sources":["ProductImageEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkQA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"ProductImageEdit.vue","sourceRoot":"src/components/product-modal/product-image-edit","sourcesContent":["<template>\n  <modal :active=\"showEditImage\">\n    <div class=\"card custom-modal\">\n      <div class=\"card-body text-center d-flex flex-column\">\n        <div\n          class=\"custom-close\"\n          title=\"Fechar Modal de Excluir\"\n          @click=\"closeEditImageModal()\"\n        >\n          <i class=\"fas fa-times\"></i>\n        </div>\n\n        <div>\n          <h4\n            class=\"\n              font-weight-bold\n              text-dark text-center text-uppercase\n              title\n              m-0\n            \"\n          >\n            Editar Imagens\n          </h4>\n          <p\n            v-if=\"registerType === 'Product'\"\n            class=\"text-muted text-center mb-1 subtitle-image\"\n          >\n            Adicione, remova ou ordene as imagens dos seus produtos.\n          </p>\n          <p\n            v-if=\"registerType === 'Service'\"\n            class=\"text-muted text-center mb-1 subtitle-image\"\n          >\n            Adicione, remova ou ordene as imagens dos seus serviços.\n          </p>\n        </div>\n\n        <div>\n          <div class=\"d-flex justify-content-end container-actions\">\n            <button\n              class=\"\n                btn btn-link\n                d-flex\n                align-items-center\n                justify-content-end\n                p-0\n                small\n                mr-2\n              \"\n              :class=\"{\n                'text-success': textBtnMove === 'ordenado',\n                'text-muted': hasMove && textBtnMove !== 'ordenado',\n                'text-primary': !hasMove,\n              }\"\n              @click=\"setMoveImage()\"\n              :title=\"hasMove ? textBtnMove : 'ordenar'\"\n              v-if=\"imagesList && imagesList.length > 1 && propCanReorderImages\"\n            >\n              <span class=\"material-icons mr-1 small-icon\" v-if=\"!hasMove\"\n                >low_priority</span\n              >\n              <span\n                class=\"material-icons mr-1 small-icon\"\n                v-if=\"hasMove && textBtnMove === 'cancelar'\"\n                >clear</span\n              >\n              <span\n                class=\"material-icons mr-1 small-icon\"\n                v-if=\"hasMove && textBtnMove === 'ordenado'\"\n                >done</span\n              >\n              {{ hasMove ? textBtnMove : \"ordenar\" }}\n            </button>\n            <button\n              class=\"\n                btn btn-link\n                d-flex\n                align-items-center\n                justify-content-end\n                p-0\n                small\n                text-danger\n              \"\n              @click=\"setRemoveImage()\"\n              :title=\"hasDelete ? textBtnRemove : 'remover'\"\n              v-if=\"imagesList && imagesList.length > 1\"\n            >\n              <span class=\"material-icons mr-1 small-icon\" v-if=\"!hasDelete\"\n                >delete_sweep</span\n              >\n              <span\n                class=\"material-icons mr-1 small-icon\"\n                v-if=\"hasDelete && textBtnRemove === 'cancelar'\"\n                >clear</span\n              >\n              <span\n                class=\"material-icons mr-1 small-icon\"\n                v-if=\"hasDelete && textBtnRemove === 'removido'\"\n                >done</span\n              >\n              {{ hasDelete ? textBtnRemove : \"remover\" }}\n            </button>\n          </div>\n\n          <draggable\n            v-if=\"imagesList.length\"\n            v-model=\"imagesList\"\n            handle=\".handleImg\"\n            @start=\"previousReorderImages(imagesList)\"\n            @end=\"currentReorderImage(imagesList)\"\n            v-bind=\"dragOptions\"\n            :sort=\"true\"\n          >\n            <transition-group type=\"transition\">\n              <section\n                v-for=\"(image, index) in imagesList\"\n                :key=\"image.position\"\n                class=\"p-1\"\n                :class=\"{\n                  'destaque destaque-color':\n                    index === 0 && (!hasMove || !hasDelete),\n                  'destaque destaque-color-move':\n                    index === 0 && (hasMove || hasDelete),\n                }\"\n              >\n                <small\n                  class=\"\n                    d-flex\n                    justify-content-start\n                    text-light\n                    font-weight-bold\n                  \"\n                  v-if=\"index === 0\"\n                  >Em destaque</small\n                >\n                <div\n                  class=\"card my-1 custom-itens\"\n                  :class=\"{ 'ml-4': hasMove || hasDelete }\"\n                >\n                  <div\n                    class=\"\n                      move-icon\n                      d-flex\n                      align-items-center\n                      justify-content-center\n                    \"\n                    v-if=\"hasMove\"\n                  >\n                    <span\n                      class=\"material-icons dragImg handleImg click\"\n                      :class=\"{\n                        'text-muted': index !== 0,\n                        'text-light': index === 0,\n                      }\"\n                      :title=\"'Ordenar Imagem' + image.position\"\n                      >drag_indicator</span\n                    >\n                  </div>\n                  <div\n                    class=\"\n                      move-icon\n                      d-flex\n                      align-items-center\n                      justify-content-center\n                    \"\n                    v-if=\"hasDelete\"\n                    @click=\"removeImage(image.position)\"\n                  >\n                    <span\n                      class=\"\n                        material-icons\n                        dragImg\n                        handleImg\n                        click\n                        text-danger\n                        animate__tada\n                      \"\n                      :title=\"'Remover Imagem ' + image.position\"\n                      >delete</span\n                    >\n                  </div>\n                  <div\n                    class=\"card-body d-flex p-1\"\n                    ref=\"cardBody\"\n                    :class=\"{ animate__headShake: hasMove }\"\n                  >\n                    <div\n                      class=\"card-image mr-2 border-light-gray click\"\n                      ref=\"cardImg\"\n                      @click=\"editImageModal(image.position, true)\"\n                    >\n                      <img\n                        class=\"img-edit\"\n                        alt=\"Imagem do Produto\"\n                        :title=\"image.description\"\n                        :src=\"image.image_url\"\n                      />\n                    </div>\n                    <!--                                    <div class=\"form-group d-flex flex-column align-items-start m-0\" :style=\"{'width': cardWidth}\">-->\n                    <!--                                        <small class=\"m-0 text-muted\">Descrição</small>-->\n                    <!--                                        <p class=\"m-0\">{{ image.description ? image.description : 'Sem descrição' }}</p>-->\n                    <!--                                    </div>-->\n                  </div>\n                </div>\n              </section>\n            </transition-group>\n          </draggable>\n        </div>\n\n        <section\n          v-for=\"(arr, index) in arrayList\"\n          :index=\"index\"\n          class=\"card my-2 custom-itens p-1\"\n          :style=\"{ height: cardHeight }\"\n          :class=\"{\n            opacity: hasMove || hasDelete,\n            'click custom-select-img': !hasMove || !hasDelete,\n          }\"\n          @click=\"openInput(imagesList.length + index + 1)\"\n          title=\"Adicionar nova imagem\"\n        >\n          <div\n            class=\"\n              card-body\n              d-flex\n              align-items-center\n              justify-content-center\n              p-1\n            \"\n          >\n            <img\n              class=\"img-add\"\n              src=\"~@/assets/images/add-a-photo-gray.svg\"\n              alt=\"Multiplas\"\n            />\n          </div>\n        </section>\n\n        <div class=\"d-flex justify-content-end mt-4\">\n          <button\n            class=\"btn btn-link text-muted\"\n            @click=\"closeEditImageModal()\"\n          >\n            Cancelar\n          </button>\n          <button\n            class=\"btn btn-primary d-flex align-items-center\"\n            @click=\"closeEditImageModal()\"\n          >\n            Salvar\n          </button>\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<script lang=\"ts\">\n  import { Component, Prop, Vue } from \"vue-property-decorator\";\n  import draggable from \"vuedraggable\";\n  import { ImageURl } from \"@/models/product\";\n  import productsService from \"@/services/products.service\";\n\n  @Component({\n    components: {\n      draggable,\n    },\n    computed: {\n      dragOptions() {\n        return {\n          animation: 200,\n          group: \"description\",\n          disabled: false,\n          ghostClass: \"ghost\",\n        };\n      },\n    },\n  })\n  export class ProductImageEdit extends Vue {\n    @Prop() propImagesList!: ImageURl[];\n    @Prop() propShowEditImage!: boolean;\n    @Prop() propProductGuid!: string;\n    @Prop() propShowEditProduct!: boolean;\n    @Prop() propCanReorderImages!: boolean;\n    @Prop() propIndexImages!: number[];\n    @Prop() propRegisterType!: string;\n\n    public imagesList = this.propImagesList;\n    public showEditImage = this.propShowEditImage;\n    public showEditProduct = this.propShowEditProduct;\n    public productGuid = this.propProductGuid;\n    public indexImages = this.propIndexImages;\n    public registerType = this.propRegisterType;\n\n    public previousImages: ImageURl[] = [];\n    public currentImages: ImageURl[] = [];\n    public reorderImage: Array<{\n      current: number | undefined;\n      previous: number | undefined;\n    }> = [];\n\n    public drag: boolean = false;\n    public deleteImage: ImageURl = {};\n    public cardWidth: string = \"0\";\n    public cardHeight: string = \"88px\";\n    public arrayList: string[] = [];\n    public hasMove: boolean = false;\n    public hasDelete: boolean = false;\n    public textBtnMove: string = \"cancelar\";\n    public textBtnRemove: string = \"cancelar\";\n\n    private productService = new productsService();\n\n    mounted() {\n      // this.cardHeight = `${this.$refs.cardBody[0].clientHeight}px`;\n      if (this.$refs.cardBody && this.$refs.cardImg) {\n        this.cardWidth = `${\n          this.$refs.cardBody[0].clientWidth - this.$refs.cardImg[0].clientWidth\n        }px`;\n      }\n      this.setArray();\n    }\n\n    public setArray() {\n      this.arrayList = [];\n      for (let i = 0; i < 4 - this.imagesList.length; i++) {\n        this.arrayList.push(\"\");\n      }\n    }\n\n    public closeEditImageModal() {\n      this.$emit(\"closeEditImageModal\", true);\n    }\n\n    public previousReorderImages(imagesList: ImageURl[]) {\n      this.setMsgMove(\"ordenado\");\n      this.previousImages = imagesList;\n    }\n\n    public currentReorderImage(imagesList: ImageURl[]) {\n      this.setMsgMove(\"ordenado\");\n      imagesList.map((image, index) => (image.position = index + 1));\n      this.currentImages = imagesList;\n      this.$emit(\"currentReorderImage\", this.currentImages);\n      this.updatePositionImage();\n    }\n\n    public async removeImage(position: number) {\n      this.setMsgRemove(\"removido\");\n      this.$emit(\"removeImage\", position);\n      this.setArray();\n\n      if (this.imagesList.length === 1) {\n        this.setRemoveImage();\n      }\n    }\n\n    public async updatePositionImage() {\n      this.currentImages.forEach(async (image, index) => {\n        if (image.position !== this.previousImages[index].position) {\n          this.reorderImage.push({\n            current: image.position,\n            previous: this.previousImages[index].position,\n          });\n        }\n      });\n      if (this.reorderImage.length && this.showEditProduct) {\n        await this.productService.updatePositionImage(\n          { position: this.reorderImage[0].current },\n          this.productGuid,\n          this.reorderImage[0].previous\n        );\n      }\n    }\n\n    public openInput(position: number) {\n      if (!this.hasMove && !this.hasDelete) {\n        this.$emit(\"openInput\", position, false);\n      }\n    }\n\n    public moveStart() {\n      this.drag = true;\n    }\n\n    public editImageModal(position: number, edit: boolean) {\n      this.$emit(\"openInput\", position, edit);\n    }\n\n    public setRemoveImage() {\n      this.setMsgRemove(\"cancelar\");\n      this.hasDelete = !this.hasDelete;\n      this.hasMove = false;\n    }\n\n    public setMoveImage() {\n      this.setMsgMove(\"cancelar\");\n      this.hasMove = !this.hasMove;\n      this.hasDelete = false;\n    }\n\n    public setMsgMove(msg: string) {\n      this.textBtnMove = msg;\n    }\n\n    public setMsgRemove(msg: string) {\n      this.textBtnRemove = msg;\n    }\n  }\n\n  export { ProductImageEdit as default };\n</script>\n\n<style lang=\"scss\" scoped>\n  .custom-modal {\n    width: 28vw;\n    background-color: #f4f5f9;\n\n    .btn {\n      font-size: 14px;\n    }\n\n    .slider {\n      top: 6px !important;\n    }\n\n    .variant {\n      font-size: 14px;\n    }\n\n    @media screen and (max-width: 992px) {\n      width: 100vw;\n      height: 100vh;\n      border-radius: 0;\n\n      .btn {\n        font-size: 12px;\n      }\n\n      h4 {\n        margin-top: 20px;\n      }\n\n      .title {\n        font-size: 20px;\n      }\n      .subtitle-image {\n        font-size: 14px;\n      }\n    }\n\n    @media screen and (min-width: 992px) and (max-width: 1360px) {\n      width: 45vw;\n    }\n\n    @media screen and (min-width: 1361px) and (max-width: 1600px) {\n      width: 40vw;\n    }\n  }\n\n  .custom-itens {\n    box-shadow: 0 6px 7px -3px rgba(43, 88, 164, 0.23);\n  }\n\n  .card-image {\n    position: relative;\n    width: 80px;\n    height: 80px;\n    border-radius: 6px;\n  }\n\n  .img-edit {\n    width: 100%;\n    height: 100%;\n    border-radius: 6px;\n  }\n\n  .border-light-gray {\n    border: 1px solid rgba(43, 88, 164, 0.28);\n  }\n\n  .img-add {\n    width: 60px;\n    height: 60px;\n  }\n\n  .click {\n    cursor: pointer;\n  }\n\n  .container-actions {\n    height: 25px;\n  }\n\n  .move-icon {\n    position: absolute;\n    top: 28px;\n    left: -28px;\n    padding: 2px;\n    z-index: 9;\n  }\n\n  .custom-select-img {\n    &:hover {\n      background-color: #f8f9fa;\n    }\n  }\n\n  .animate__headShake {\n    animation: headShake 2s infinite;\n  }\n\n  .animate__bounce {\n    animation: bounce 2s infinite;\n  }\n\n  .animate__tada {\n    animation: tada 2s infinite;\n  }\n\n  .opacity {\n    opacity: 0.5;\n  }\n\n  .destaque {\n    border-radius: 6px;\n    box-shadow: 0 6px 7px -3px rgba(43, 88, 164, 0.23);\n  }\n\n  // .destaque-color {\n  //     background-color: #3db0f7;\n  // }\n\n  .destaque-color-move {\n    background-color: #3db0f7aa;\n  }\n\n  .small-icon {\n    font-size: 14px;\n  }\n\n  .destaque-color {\n    background: linear-gradient(254deg, $primary, #3db0f7);\n    background-size: 400% 400%;\n\n    -webkit-animation: AnimationColorBlue 0s ease infinite;\n    -moz-animation: AnimationColorBlue 0s ease infinite;\n    animation: AnimationColorBlue 0s ease infinite;\n  }\n\n  @-webkit-keyframes AnimationColorBlue {\n    0% {\n      background-position: 0% 44%;\n    }\n    50% {\n      background-position: 100% 57%;\n    }\n    100% {\n      background-position: 0% 44%;\n    }\n  }\n\n  @-moz-keyframes AnimationColorBlue {\n    0% {\n      background-position: 0% 44%;\n    }\n    50% {\n      background-position: 100% 57%;\n    }\n    100% {\n      background-position: 0% 44%;\n    }\n  }\n  \n  @keyframes AnimationColorBlue {\n    0% {\n      background-position: 0% 44%;\n    }\n    50% {\n      background-position: 100% 57%;\n    }\n    100% {\n      background-position: 0% 44%;\n    }\n  }\n</style>"]}]}