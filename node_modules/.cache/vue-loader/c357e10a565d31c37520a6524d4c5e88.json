{"remainingRequest":"/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/AstaPrecifique/src/components/login-precifique/login-precifique-form/LoginPrecifiqueForm.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/AstaPrecifique/src/components/login-precifique/login-precifique-form/LoginPrecifiqueForm.vue","mtime":1700502037247},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/AstaPrecifique/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/AstaPrecifique/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/AstaPrecifique/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IFByZWNpZmlxdWVTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvcHJlY2lmaXF1ZVNlcnZpY2UiOwoKQENvbXBvbmVudCh7fSkKZXhwb3J0IGNsYXNzIExvZ2luUHJlY2lmaXF1ZUZvcm0gZXh0ZW5kcyBWdWUgewoKCiAgcHVibGljIGVtYWlsQnV0dG9uOiBib29sZWFuID0gZmFsc2U7CiAgcHVibGljIGVtYWlsOiBzdHJpbmcgPSAnJzsKICBwdWJsaWMgaXNWYWxpZEVtYWlsOiBib29sZWFuID0gdHJ1ZTsKICBwdWJsaWMgaXNGb3JtYXRlZEVtYWlsOiBib29sZWFuID0gdHJ1ZSA7CiAgcHVibGljIGJ1dHRvbkVudGVyOiBib29sZWFuID0gZmFsc2U7CiAgcHVibGljIG5leHRQYWdlOiBib29sZWFuID0gZmFsc2U7CgoKIAoKCiBwdWJsaWMgYXN5bmMgdmFsaWRhdGVFbWFpbCggZW1haWw6IHN0cmluZyApIHsKCiAgaWYgKCF0aGlzLmlzVmFsaWRFbWFpbCkgewogICAgdGhpcy5pc1ZhbGlkRW1haWwgPSB0cnVlCiAgfQogIAogICAgY29uc3QgZW1haWxSZWdleCA9IC9eW0EtWmEtejAtOS5fJSstXStAW0EtWmEtejAtOS4tXStcLltBLVphLXpdezIsNH0kLzsKICAgIHRoaXMuaXNGb3JtYXRlZEVtYWlsID0gZW1haWxSZWdleC50ZXN0KHRoaXMuZW1haWwpOwogICAKICAgICAgaWYoIXRoaXMuaXNGb3JtYXRlZEVtYWlsKSB7CiAgICAgCiAgICAgIHRoaXMuYnV0dG9uRW50ZXIgPSBmYWxzZTsKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICAKICAgICAgICB0aGlzLmJ1dHRvbkVudGVyID0gdHJ1ZTsKICAgICAgfQogICAgCiAgfQoKCiAgcHVibGljIGFzeW5jIHN1Ym1pdEZvcm0oKSB7CgogICAgaWYgKHRoaXMuaXNGb3JtYXRlZEVtYWlsKSB7CgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZW1haWwnLCB0aGlzLmVtYWlsKTsKCiAgICAgIGNvbnN0IHByZWNpZmlxdWVTZXJ2aWNlID0gbmV3IFByZWNpZmlxdWVTZXJ2aWNlKCk7CiAgICAgIHRoaXMuYnV0dG9uRW50ZXIgPSBmYWxzZTsKCiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgcHJlY2lmaXF1ZVNlcnZpY2Uuc2VuZEVtYWlsKHsKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAoKICAgICAgICB9KQogICAgICAgIHRoaXMuYnV0dG9uRW50ZXIgPSBmYWxzZTsKICAgICAgICB0aGlzLm5leHRQYWdlID0gdHJ1ZTsKICAgICAgICB0aGlzLiRlbWl0KCJ0b1N0ZXAiLCAiMiIpCiAgICAgICAgCiAgICAgICAgdGhpcy4kYWxlcnQoJ0VtYWlsIGVudmlhZG8gY29tIHN1Y2Vzc28nLCAnJywgJ3N1Y2Nlc3MnLAogICAgICAgICAgewogICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgIH0pOwoKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgdGhpcy4kYWxlcnQoJ0Vycm8gYW8gZW52aWFyIG8gZW1haWwnLCAnJywgJ2Vycm9yJywgewogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgfSkKICAgICAgICB0aGlzLmlzVmFsaWRFbWFpbCA9IGZhbHNlOwogICAgICAgIAogICAgICB9CiAgICB9CiAgICB0aGlzLmJ1dHRvbkVudGVyID0gdHJ1ZTsKICB9Cn0KCmV4cG9ydCB7IExvZ2luUHJlY2lmaXF1ZUZvcm0gYXMgZGVmYXVsdCB9OwoKCg=="},{"version":3,"sources":["LoginPrecifiqueForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"LoginPrecifiqueForm.vue","sourceRoot":"src/components/register-seller/login-precifique-form","sourcesContent":["\n\n<template>\n   <section id=\"login-precifique-form\">\n    <section class=\"col-12 col-xl-10 mx-auto my-4\">\n\n<form @submit.prevent=\"submitForm\">\n  <div>\n    <label class=\"label-precifique\">Email cadastrado</label>\n    <input class=\"form-precifique\" v-bind:class=\"{\n  'form-precifique-error': !isValidEmail || !isFormatedEmail,\n  'form-precifique-success': isValidEmail && isFormatedEmail && buttonEnter\n}\"\n type=\"text\" id=\"email\" v-model=\"email\" @input=\"validateEmail\" maxlength=\"30\" >\n    <span v-show=\"!isFormatedEmail\" class=\"error\">Formato de e-mail incorreto</span>\n    <span v-show=\"isValidEmail && isFormatedEmail && buttonEnter\" class=\"success\">Formato de e-mail correto</span>\n  </div>\n</form>\n\n<div class=\"d-flex align-items-center justify-content-center\">\n  <button :disabled=\"!buttonEnter\" class=\"button-enter-code-precifique col-11 col-xl-5\" @click=\"submitForm()\">Enviar</button>\n</div>\n\n\n</section>\n<login-precifique-code v-if=\"nextPage\"/>\n\n</section>\n</template>\n\n<script lang=\"ts\">\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport PrecifiqueService from \"@/services/precifiqueService\";\n\n@Component({})\nexport class LoginPrecifiqueForm extends Vue {\n\n\n  public emailButton: boolean = false;\n  public email: string = '';\n  public isValidEmail: boolean = true;\n  public isFormatedEmail: boolean = true ;\n  public buttonEnter: boolean = false;\n  public nextPage: boolean = false;\n\n\n \n\n\n public async validateEmail( email: string ) {\n\n  if (!this.isValidEmail) {\n    this.isValidEmail = true\n  }\n  \n    const emailRegex = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}$/;\n    this.isFormatedEmail = emailRegex.test(this.email);\n   \n      if(!this.isFormatedEmail) {\n     \n      this.buttonEnter = false;\n      }\n      else {\n        \n        this.buttonEnter = true;\n      }\n    \n  }\n\n\n  public async submitForm() {\n\n    if (this.isFormatedEmail) {\n\n      localStorage.setItem('email', this.email);\n\n      const precifiqueService = new PrecifiqueService();\n      this.buttonEnter = false;\n\n      try {\n        await precifiqueService.sendEmail({\n          email: this.email,\n\n        })\n        this.buttonEnter = false;\n        this.nextPage = true;\n        this.$emit(\"toStep\", \"2\")\n        \n        this.$alert('Email enviado com sucesso', '', 'success',\n          {\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000,\n          });\n\n      } catch (e) {\n        console.error(e);\n        this.$alert('Erro ao enviar o email', '', 'error', {\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n        })\n        this.isValidEmail = false;\n        \n      }\n    }\n    this.buttonEnter = true;\n  }\n}\n\nexport { LoginPrecifiqueForm as default };\n\n\n</script>\n<style lang=\"scss\">\n\n.form-precifique {\n    display: block;\n    width: 100%;\n    height: calc(1.5em + 0.75rem + 2px);\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #495057;\n    background-color: #fff;\n    background-clip: padding-box;\n    border: 1px solid #ced4da;\n    border-radius: 0.25rem;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s;    \n  }\n\n\n.form-precifique-error {\n    display: block;\n    width: 100%;\n    height: calc(1.5em + 0.75rem + 2px);\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #495057;\n    background-color: #fff;\n    background-clip: padding-box;\n    border-color: $error !important;\n    border-radius: 0.25rem;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s;\n\n\n\n    \n  }\n\n  .form-precifique-success {\n    display: block;\n    width: 100%;\n    height: calc(1.5em + 0.75rem + 2px);\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #495057;\n    background-color: #fff;\n    background-clip: padding-box;\n    border-color: $success !important;\n    border-radius: 0.25rem;\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s;\n\n\n\n    \n  }\n\n\n\n  .label-precifique{\n    font-size: 14px;\n  }\n  \n  .error {\n    color: $error;\n    font-size: 12px;\n\n  }\n\n  .success {\n    color: $success;\n    font-size: 12px;\n\n\n  }\n  \n  input:focus {\n    border-color: $primary;\n    outline: none;\n  }\n\n\n\n  \n</style>"]}]}