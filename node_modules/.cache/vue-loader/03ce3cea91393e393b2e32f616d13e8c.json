{"remainingRequest":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aline/GitHub/admin-frontend/src/components/notification/Notification.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/aline/GitHub/admin-frontend/src/components/notification/Notification.vue","mtime":1696439584633},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1673370377198},{"path":"/home/aline/GitHub/admin-frontend/node_modules/ts-loader/index.js","mtime":1673370387800},{"path":"/home/aline/GitHub/admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673370377252},{"path":"/home/aline/GitHub/admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1673370389594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlLCBXYXRjaCB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgdXNlclNlcnZpY2UgZnJvbSAiLi8uLi8uLi9zZXJ2aWNlcy91c2VyLnNlcnZpY2UiOwppbXBvcnQgVnVlU2ltcGxlQWxlcnQgZnJvbSAndnVlLXNpbXBsZS1hbGVydCc7CmltcG9ydCBTd2FsLCB7IFN3ZWV0QWxlcnRUeXBlIH0gZnJvbSAnc3dlZXRhbGVydDInOwoKQENvbXBvbmVudCh7fSkKZXhwb3J0IGNsYXNzIG5vdGlmaWNhdGlvbkNvbXBvbmVudCBleHRlbmRzIFZ1ZSB7CiAgQFByb3AoeyBkZWZhdWx0OiB1bmRlZmluZWQgfSkgbm90aWZpY2F0aW9uT2JqPzogYW55OwogIEBQcm9wKHsgZGVmYXVsdDogdW5kZWZpbmVkIH0pIG5vdGlmaWNhdGlvbk9iakJ0bj86IGFueTsKCiAgQFdhdGNoKCJub3RpZmljYXRpb25PYmoiKQogIEBXYXRjaCgibm90aWZpY2F0aW9uT2JqQnRuIikKICBzaG93KHZhbHVlOiBzdHJpbmcsIG9sZFZhbHVlOiBzdHJpbmcpIHsKICAgIGNvbnNvbGUubG9nKCJub3RpZmljYXRpb25PYmpCdG4iLCB2YWx1ZSwgb2xkVmFsdWUpOwogIH0KCiAgcHVibGljIHNlcnZpY2UgPSBuZXcgdXNlclNlcnZpY2UoKTsKICBwdWJsaWMgbG9nZ2VkVXNlcjogYW55OwogIHB1YmxpYyBjb250ZW50OiBhbnkgPSAiIjsKICBwdWJsaWMgbW9iaWxlPzogc3RyaW5nOwogIHB1YmxpYyBzbHVnVXJsPzogc3RyaW5nOwogIHB1YmxpYyAkemVuZGVzazogYW55OwoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgfQoKICBwdWJsaWMgc2V0RmllbGQodGV4dHM6IGFueSkgewogICAgdGhpcy5jb250ZW50ID0gdGV4dHM7CiAgICB0aGlzLnNsdWdVcmwgPSBgaHR0cHM6Ly93d3cucGVydGluaG9kZWNhc2EuY29tLmJyL3ZpdHJpbmUvJHt0aGlzLmNvbnRlbnQuc2x1Z31gOwogICAgdGhpcy5jb250ZW50LmFib3V0ID0gdGV4dHMuYWJvdXQ7CiAgICB0aGlzLmNvbnRlbnQuYWRkcmVzcyA9CiAgICAgIHRleHRzLmFkZHJlc3Muc3RyZWV0ICsKICAgICAgIiwgIiArCiAgICAgIHRleHRzLmFkZHJlc3MubnVtYmVyICsKICAgICAgIiwgIiArCiAgICAgIHRleHRzLmFkZHJlc3MubmVpZ2hib3Job29kICsKICAgICAgIiwgIiArCiAgICAgIHRleHRzLmFkZHJlc3MuY2l0eSArCiAgICAgICIsICIgKwogICAgICB0ZXh0cy5hZGRyZXNzLnN0YXRlOwogICAgdGhpcy5jb250ZW50Lm1vYmlsZSA9IHRoaXMuY29udGVudC5tb2JpbGUucmVwbGFjZSgKICAgICAgLyhcZHsyfSkoXGR7NX0pKFxkezR9KS8sCiAgICAgIChyZWdleCwgYXJnMSwgYXJnMiwgYXJnMykgPT4gYCgke2FyZzF9KSAke2FyZzJ9IC0gJHthcmczfWAKICAgICk7CiAgfQoKICBwdWJsaWMgb3BlblplbmRlc2soKSB7CiAgICAgIHRoaXMuJHplbmRlc2subG9hZCgiMTRlNmMwMWUtYWUyYy00ZTJjLThjNzYtZDQ2MWMwMTQ3OWM4IikKICAgICAgdGhpcy4kemVuZGVzay56RSgnbWVzc2VuZ2VyJywgJ29wZW4nKQogIH0KCiAgcHJpdmF0ZSBhc3luYyBzZW5kTWVzc2FnZU5vdGlmaWNhdGlvbigpIHsKICAgIHRoaXMubG9nZ2VkVXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvZ2dlZFVzZXIiKSB8fCAiIik7CiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VydmljZS5zZW5kTWVzc2FnZU5vdGlmaWNhdGlvbigKICAgICAgdGhpcy5sb2dnZWRVc2VyLnNsdWcKICAgICk7CiAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgc3dpdGNoIChyZXNwb25zZS5zdGF0dXMpIHsKICAgICAgICBjYXNlIDIwMDoKICAgICAgICBjYXNlIDIwMToKICAgICAgICBjYXNlIDIwMjoKICAgICAgICAgIHRoaXMuJGFsZXJ0KCJNZW5zYWdlbSBlbnZpYWRhIGNvbSBzdWNlc3NvIiwgIlN1Y2Vzc28iLCAic3VjY2VzcyIsIHsKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5jbG9zZU5vdGlmaWNhdGlvbigpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0MDA6CiAgICAgICAgY2FzZSA0MDQ6CiAgICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgdGhpcy4kYWxlcnQobWVzc2FnZSwgIk9vcHMuLi4iLCAiZXJyb3IiLCB7CiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJGFsZXJ0KAogICAgICAgICAgICAgICJBZ3VhcmRlIGFsZ3VucyBpbnN0YW50ZXMgb3UgdGVudGUgbm92YW1lbnRlIG1haXMgdGFyZGUiLAogICAgICAgICAgICAgICJPb3BzLi4uIiwKICAgICAgICAgICAgICAiZXJyb3IiLAogICAgICAgICAgICAgIHsgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLCB0aW1lcjogMzUwMCB9CiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KCiAgcHVibGljIGNsb3NlTm90aWZpY2F0aW9uKCkgewogICAgICB0aGlzLm5vdGlmaWNhdGlvbk9iai5hY3RpdmUgPSBmYWxzZTsgICAgICAKICB9CgogIHB1YmxpYyBzZW5kKCkgewogICAgdGhpcy5zZW5kTWVzc2FnZU5vdGlmaWNhdGlvbigpOwogIH0KCiAgcHVibGljIGNvbmZpcm1NZXNzYWdlKCl7CiAgICAgIHRoaXMuc2VydmljZS5oYWJpbGl0YVZlbmRlZG9yKCkudGhlbih2YWx1ZSA9PiB7CiAgICAgICAgICBpZiAodmFsdWUuc3RhdHVzICE9PSAyMDIpIHsKICAgICAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UoImVycm9yIiwgIk9wcywgdW0gZXJybyBhY29udGVjZXUsIHRlbnRlIG5vdmFtZW50ZSBtYWlzIHRhcmRlLiIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy50b2FzdE1lc3NhZ2UoInN1Y2Nlc3MiLCAnU2V1IGVzdGFiZWxlY2ltZW50byBmb2kgcmVhdGl2YWRvIGNvbSBzdWNlc3NvLicpCiAgICAgICAgICB9CiAgICAgIH0pOwogIH0KCiAgcHVibGljIHRvYXN0TWVzc2FnZSh0eXBlOiBTd2VldEFsZXJ0VHlwZSwgdGl0bGU6IHN0cmluZykgewogICAgdGhpcy5jbG9zZU5vdGlmaWNhdGlvbigpOwogICAgICBWdWVTaW1wbGVBbGVydC5maXJlKHsKICAgICAgICAgIHR5cGUsCiAgICAgICAgICB0aXRsZSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiA1MDAwLAogICAgICAgICAgb25PcGVuOiAodG9hc3QpID0+IHsKICAgICAgICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgU3dhbC5zdG9wVGltZXIpLAogICAgICAgICAgICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgU3dhbC5yZXN1bWVUaW1lcik7CiAgICAgICAgICB9LAogICAgICB9KTsKICB9Cgp9CgpleHBvcnQgeyBub3RpZmljYXRpb25Db21wb25lbnQgYXMgZGVmYXVsdCB9Owo="},{"version":3,"sources":["Notification.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"Notification.vue","sourceRoot":"src/components/notification","sourcesContent":["<template>\n  <div\n    class=\"notification active p-3\"\n    :class=\"notificationObj.active ? 'active' : 'inactive'\"\n  >\n    <div\n      class=\"d-flex justify-content-between flex-column align-items-start w-100\"\n    >\n      <div class=\"d-flex flex-column flex-sm-row col-11 p-0\">\n        <div\n          class=\"img col-1 p-0 d-flex align-items-start justify-content-center\"\n        >\n          <span class=\"material-icons notification__icon\">info</span>\n        </div>\n\n        <div class=\"d-flex flex-column align-items-center col-11 p-0\">\n          <p class=\"m-0 notification__text\" v-html=\"notificationObj.text\"></p>\n          <button\n            v-if=\"notificationObj.buttonText === 'REENVIAR MENSAGEM'\"\n            class=\"btn btn-primary mt-2 btn-font-size\"\n            v-html=\"notificationObj.buttonText\"\n            @click=\"send()\"\n          ></button>\n           <button\n            v-if=\"notificationObj.buttonText === 'Reativar conta'\"\n            class=\"btn btn-primary mt-2 btn-font-size\"\n            v-html=\"notificationObj.buttonText\"\n            @click=\"confirmMessage()\"\n          ></button>\n        </div>\n      </div>\n\n      <a\n        v-if=\"notificationObj.url != null && notificationObj.url\"\n        class=\"notification__btn\"\n        :href=\"notificationObj.url\"\n      >\n        {{ notificationObj.buttonText }}\n      </a>\n      <a\n        v-if=\"notificationObj.url != null && !notificationObj.url\"\n        class=\"notification__btn\"\n        @click=\"openZendesk()\"\n      >\n        {{ notificationObj.buttonText }}\n      </a>\n    </div>\n\n    <button v-if=\"!notificationObj.activeClose\"\n      class=\"btn btn-link text-dark notification__close\"\n      @click=\"closeNotification()\"\n    >\n      <span class=\"material-icons\">close</span>\n    </button>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { Component, Prop, Vue, Watch } from \"vue-property-decorator\";\n  import userService from \"./../../services/user.service\";\n  import VueSimpleAlert from 'vue-simple-alert';\n  import Swal, { SweetAlertType } from 'sweetalert2';\n\n  @Component({})\n  export class notificationComponent extends Vue {\n    @Prop({ default: undefined }) notificationObj?: any;\n    @Prop({ default: undefined }) notificationObjBtn?: any;\n\n    @Watch(\"notificationObj\")\n    @Watch(\"notificationObjBtn\")\n    show(value: string, oldValue: string) {\n      console.log(\"notificationObjBtn\", value, oldValue);\n    }\n\n    public service = new userService();\n    public loggedUser: any;\n    public content: any = \"\";\n    public mobile?: string;\n    public slugUrl?: string;\n    public $zendesk: any;\n\n    constructor() {\n      super();\n    }\n\n    public setField(texts: any) {\n      this.content = texts;\n      this.slugUrl = `https://www.pertinhodecasa.com.br/vitrine/${this.content.slug}`;\n      this.content.about = texts.about;\n      this.content.address =\n        texts.address.street +\n        \", \" +\n        texts.address.number +\n        \", \" +\n        texts.address.neighborhood +\n        \", \" +\n        texts.address.city +\n        \", \" +\n        texts.address.state;\n      this.content.mobile = this.content.mobile.replace(\n        /(\\d{2})(\\d{5})(\\d{4})/,\n        (regex, arg1, arg2, arg3) => `(${arg1}) ${arg2} - ${arg3}`\n      );\n    }\n\n    public openZendesk() {\n        this.$zendesk.load(\"14e6c01e-ae2c-4e2c-8c76-d461c01479c8\")\n        this.$zendesk.zE('messenger', 'open')\n    }\n\n    private async sendMessageNotification() {\n      this.loggedUser = JSON.parse(localStorage.getItem(\"loggedUser\") || \"\");\n      const response = await this.service.sendMessageNotification(\n        this.loggedUser.slug\n      );\n      if (response) {\n        switch (response.status) {\n          case 200:\n          case 201:\n          case 202:\n            this.$alert(\"Mensagem enviada com sucesso\", \"Sucesso\", \"success\", {\n              showConfirmButton: false,\n              timer: 2500,\n            });\n            this.closeNotification();\n            break;\n          case 400:\n          case 404:\n            if (response) {\n              const message = await response.json();\n              this.$alert(message, \"Oops...\", \"error\", {\n                showConfirmButton: false,\n                timer: 3000,\n              });\n            } else {\n              this.$alert(\n                \"Aguarde alguns instantes ou tente novamente mais tarde\",\n                \"Oops...\",\n                \"error\",\n                { showConfirmButton: false, timer: 3500 }\n              );\n            }\n            break;\n        }\n      }\n    }\n\n    public closeNotification() {\n        this.notificationObj.active = false;      \n    }\n\n    public send() {\n      this.sendMessageNotification();\n    }\n\n    public confirmMessage(){\n        this.service.habilitaVendedor().then(value => {\n            if (value.status !== 202) {\n              this.toastMessage(\"error\", \"Ops, um erro aconteceu, tente novamente mais tarde.\");\n            } else {\n              this.toastMessage(\"success\", 'Seu estabelecimento foi reativado com sucesso.')\n            }\n        });\n    }\n\n    public toastMessage(type: SweetAlertType, title: string) {\n      this.closeNotification();\n        VueSimpleAlert.fire({\n            type,\n            title,\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 5000,\n            onOpen: (toast) => {\n                toast.addEventListener('mouseenter', Swal.stopTimer),\n                    toast.addEventListener('mouseleave', Swal.resumeTimer);\n            },\n        });\n    }\n\n  }\n\n  export { notificationComponent as default };\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"../../assets/scss/mixins\";\n\n  .notification {\n    height: auto;\n    width: 50%;\n    position: fixed;\n    transition: all 150ms ease-in-out;\n    display: none;\n    align-items: flex-start;\n    align-items: center;\n    z-index: 9999;\n    flex-direction: column;\n\n    background-color: $yellow;\n\n    border-radius: 5px;\n\n    top: 5px;\n    left: 50%;\n    transform: translateX(-50%);\n\n    @include mobile {\n      width: 100%;\n      top: 0;\n      left: 0;\n      transform: none;\n\n      border-top-left-radius: 0;\n      border-top-right-radius: 0;\n    }\n\n    &__img {\n      margin-right: 18px;\n      @media (max-width: 425px) {\n        margin-right: 10px;\n      }\n    }\n\n    &__icon {\n      color: #525252;\n      font-size: 24px;\n\n      @include mobile {\n        margin-bottom: 10px;\n      }\n    }\n\n    &__text {\n      color: #525252;\n    }\n\n    &__close {\n      position: absolute;\n      //right: 20px;\n      //top: 20px;\n      top: 0;\n      right: 0;\n      font-weight: bold;\n      font-size: 18px;\n      color: #fff;\n      cursor: pointer;\n\n      span {\n        color: #525252;\n      }\n    }\n\n    &__btn {\n      align-self: center;\n      padding: 5px 30px;\n      float: right;\n      border: none;\n      border-radius: 5px;\n      width: auto;\n      height: auto;\n      transition: 0.3s;\n      background: $primary;\n      color: #ffffff;\n      font-weight: bold;\n      text-decoration: none;\n      outline: none;\n\n      margin-top: 16px;\n\n      &:hover {\n        background: darken($primary, 10%);\n      }\n\n      &:focus {\n        outline: none;\n      }\n\n      @include mobile {\n        font-size: 12px;\n        width: 100%;\n        text-align: center;\n      }\n    }\n  }\n\n  .active {\n    display: flex !important;\n    transition: all 150ms ease-in-out;\n    z-index: 9999;\n  }\n\n  .inactive {\n    display: none !important;\n    transition: all 150ms ease-in-out;\n  }\n\n  button.sendButton {\n    background-color: $secondary;\n    border: 0;\n    border-radius: 6px;\n    color: #fff;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 1px;\n    padding: 5px 5px;\n    align-items: center;\n    cursor: pointer;\n    width: 200px;\n    display: flex;\n    text-transform: uppercase;\n    flex-direction: column;\n    letter-spacing: 1px;\n  }\n\n  .img {\n    img {\n      width: 36px;\n      height: 36px;\n\n      @media (max-width: 732px) {\n        width: 26px;\n        height: 26px;\n      }\n    }\n  }\n\n  p {\n    @media (max-width: 732px) {\n      font-size: 12px;\n      line-height: 18px;\n    }\n  }\n\n  .btn-font-size {\n    @media (max-width: 732px) {\n      font-size: 12px;\n    }\n  }\n</style>"]}]}